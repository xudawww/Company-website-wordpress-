/* Chart.js 1.0.1-beta.4 http://chartjs.org/ */
(function(){"use strict";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;this.width=t.canvas.width,this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof t.define&&t.define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),x=s.radians=function(t){return t*(Math.PI/180)},S=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),y=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),C=(s.calculateScaleRange=function(t,i,e,s,n){var o=2,a=Math.floor(i/(1.5*e)),h=o>=a,l=g(t),r=m(t);l===r&&(l+=.5,r>=.5&&!s?r-=.5:l+=.5);for(var c=Math.abs(l-r),u=y(c),d=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=s?0:Math.floor(r/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),x=Math.round(f/v);(x>a||a>2*x)&&!h;)if(x>a)v*=2,x=Math.round(f/v),x%1!==0&&(h=!0);else if(n&&u>=0){if(v/2%1!==0)break;v/=2,x=Math.round(f/v)}else v/=2,x=Math.round(f/v);return h&&(x=o,v=f/x),{steps:x,stepValue:v,min:p,max:p+x*v}},s.template=function(t,i){function e(t,i){var e=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),b=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return labelTemplateString&&n(o,function(i,n){o[n]=C(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(1*t-i)*Math.PI/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.3*1.5),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-b.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*b.easeInBounce(2*t):.5*b.easeOutBounce(2*t-1)+.5}}),w=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=(s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),s.animationLoop=function(t,i,e,s,n,o){var a=0,h=b[e]||b.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=w(l):n.apply(o)};w(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),L=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},k=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},P(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){L(t.chart.canvas,e,i)})}),F=s.getMaximumWidth=function(t){var i=t.parentNode;return i.clientWidth},R=s.getMaximumHeight=function(t){var i=t.parentNode;return i.clientHeight},A=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=s+"px",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),T=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},M=s.fontString=function(t,i,e){return i+" "+t+"px "+e},W=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},z=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return T(this.chart),this},stop:function(){return s.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=F(this.chart.canvas),s=this.options.maintainAspectRatio?e/this.chart.aspectRatio:R(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,A(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return C(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(){var t,i,e,n,o,a=[],l=[],r=[];return s.each(this.datasets,function(i){t=i.points||i.bars||i.segments,t[h]&&t[h].hasValue()&&a.push(t[h])}),s.each(a,function(t){l.push(t.x),r.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(r),e=g(r),n=m(l),i=g(l),{x:n>this.chart.width/2?n:i,y:(o+e)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:C(this.options.tooltipTemplate,t),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin="bevel",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign="left":this.x-e/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-e/2,a=this.y-n;switch(t.fillStyle=this.fillColor,this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}z(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e/2,a+s/2)}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=M(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=W(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize/2:i+(1.5*this.fontSize*e+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){z(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?W(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth+10?e/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=W(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(x(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(x(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/(this.valuesCount-(this.offsetGridLines?0:1)),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a);t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,e-10,a),t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+S(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+S(this.lineWidth),o=this.xLabelRotation>0;t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*x(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=M(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(C(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var s=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=M(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,h=a/2,l=h>i||i>o-h,r=i===h||i===o-h;t.textAlign=0===i?"center":i===a?"center":a>i?"left":"right",t.textBaseline=r?"middle":l?"bottom":"top",t.fillText(this.labels[i],s.x,s.y)}}}}}),s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Bar",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.bars.push(new this.BarClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();this.chart.ctx;this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};
    i.Type.extend({name:"Doughnut",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),e||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore(["fillColor"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Line",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx,n=function(t){return null!==t.value},o=function(t,i,s){return e.findNextWhere(i,n,s)||t},a=function(t,i,s){return e.findPreviousWhere(i,n,s)||t};this.scale.draw(i),e.each(this.datasets,function(t){var h=e.where(t.points,n);e.each(t.points,function(t,e){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(h,function(t,i){var s=i>0&&i<h.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.splineCurve(a(t,h,i),t,o(t,h,i),s),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(h,function(t,i){if(0===i)s.moveTo(t.x,t.y);else if(this.options.bezierCurve){var e=a(t,h,i);s.bezierCurveTo(e.controlPoints.outer.x,e.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else s.lineTo(t.x,t.y)},this),s.stroke(),this.options.datasetFill&&h.length>0&&(s.lineTo(h[h.length-1].x,this.scale.endPoint),s.lineTo(h[0].x,this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(h,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"PolarArea",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e))),s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,e){var s=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:s.x,y:s.y,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.hasValue()&&t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,s.fill(),e.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);

/* lc_switch.js 1.0 http://www.lcweb.it */
(function(a){if("undefined"!=typeof a.fn.lc_switch)return!1;a.fn.lc_switch=function(d,f){a.fn.lcs_destroy=function(){a(this).each(function(){a(this).parents(".lcs_wrap").children().not("input").remove();a(this).unwrap()});return!0};a.fn.lcs_on=function(){a(this).each(function(){var b=a(this).parents(".lcs_wrap"),c=b.find("input");"function"==typeof a.fn.prop?b.find("input").prop("checked",!0):b.find("input").attr("checked",!0);b.find("input").trigger("lcs-on");b.find("input").trigger("lcs-statuschange");
    b.find(".lcs_switch").removeClass("lcs_off").addClass("lcs_on");if(b.find(".lcs_switch").hasClass("lcs_radio_switch")){var d=c.attr("name");b.parents("form").find("input[name="+d+"]").not(c).lcs_off()}});return!0};a.fn.lcs_off=function(){a(this).each(function(){var b=a(this).parents(".lcs_wrap");"function"==typeof a.fn.prop?b.find("input").prop("checked",!1):b.find("input").attr("checked",!1);b.find("input").trigger("lcs-off");b.find("input").trigger("lcs-statuschange");b.find(".lcs_switch").removeClass("lcs_on").addClass("lcs_off")});
    return!0};return this.each(function(){if(!a(this).parent().hasClass("lcs_wrap")){var b="undefined"==typeof d?"ON":d,c="undefined"==typeof f?"OFF":f,b=b?'<div class="lcs_label lcs_label_on">'+b+"</div>":"",c=c?'<div class="lcs_label lcs_label_off">'+c+"</div>":"",g=a(this).is(":disabled")?!0:!1,e=a(this).is(":checked")?!0:!1,e=""+(e?" lcs_on":" lcs_off");g&&(e+=" lcs_disabled");b='<div class="lcs_switch '+e+'"><div class="lcs_cursor"></div>'+b+c+"</div>";!a(this).is(":input")||"checkbox"!=a(this).attr("type")&&
"radio"!=a(this).attr("type")||(a(this).wrap('<div class="lcs_wrap"></div>'),a(this).parent().append(b),a(this).parent().find(".lcs_switch").addClass("lcs_"+a(this).attr("type")+"_switch"))}})};a(document).ready(function(){a(document).delegate(".lcs_switch:not(.lcs_disabled)","click tap",function(d){a(this).hasClass("lcs_on")?a(this).hasClass("lcs_radio_switch")||a(this).lcs_off():a(this).lcs_on()});a(document).delegate(".lcs_wrap input","change",function(){a(this).is(":checked")?a(this).lcs_on():
    a(this).lcs_off()})})})(jQuery);

/* clipboard.js v1.5.10 ( https://zenorocha.github.io/clipboard.js ) */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(c,a){if(!n[c]){if(!e[c]){var s="function"==typeof require&&require;if(!a&&s)return s(c,!0);if(r)return r(c,!0);var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[c]={exports:{}};e[c][0].call(u.exports,function(t){var n=e[c][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[c].exports}for(var r="function"==typeof require&&require,c=0;c<o.length;c++)i(o[c]);return i}({1:[function(t,e,n){var o=t("matches-selector");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(o(i,e))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function o(t,e,n,o,r){var c=i.apply(this,arguments);return t.addEventListener(n,c,r),{destroy:function(){t.removeEventListener(n,c,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var r=t("closest");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return r(t,e,n);if(a.string(t))return c(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function c(t,e,n){return s(document.body,t,e,n)}var a=t("./is"),s=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=o},{}],6:[function(t,e,n){function o(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=o},{}],7:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;i>o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,c=o.length;c>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof o)r(n,e("select"));else{var c={exports:{}};r(c,i.select),i.clipboardAction=c.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},t.prototype.initSelection=function t(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function t(){var e=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return e.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[n?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function t(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function t(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(n){e=!1}this.handleResult(e)},t.prototype.handleResult=function t(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function t(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function t(){this.removeFake()},c(t,[{key:"action",set:function t(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function t(){return this._action}},{key:"target",set:function t(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=a})},{select:6}],9:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var c={exports:{}};r(c,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=c.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),f=i(o),d=function(t){function e(n,o){r(this,e);var i=c(this,t.call(this));return i.resolveOptions(o),i.listenClick(n),i}return a(e,t),e.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},e.prototype.listenClick=function t(e){var n=this;this.listener=(0,f.default)(e,"click",function(t){return n.onClick(t)})},e.prototype.onClick=function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},e.prototype.defaultAction=function t(e){return s("action",e)},e.prototype.defaultTarget=function t(e){var n=s("target",e);return n?document.querySelector(n):void 0},e.prototype.defaultText=function t(e){return s("text",e)},e.prototype.destroy=function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});

/* Countup */
!function(t,a){"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=a(require,exports,module):t.CountUp=a()}(this,function(){var t=function(t,a,e,n,i,r){for(var o=0,s=["webkit","moz","ms","o"],u=0;u<s.length&&!window.requestAnimationFrame;++u)window.requestAnimationFrame=window[s[u]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[s[u]+"CancelAnimationFrame"]||window[s[u]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var a=(new Date).getTime(),e=Math.max(0,16-(a-o)),n=window.setTimeout(function(){t(a+e)},e);return o=a+e,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),this.options={useEasing:!0,useGrouping:!0,separator:",",decimal:"."};for(var m in r)r.hasOwnProperty(m)&&(this.options[m]=r[m]);""===this.options.separator&&(this.options.useGrouping=!1),this.options.prefix||(this.options.prefix=""),this.options.suffix||(this.options.suffix=""),this.d="string"==typeof t?document.getElementById(t):t,this.startVal=Number(a),this.endVal=Number(e),this.countDown=this.startVal>this.endVal,this.frameVal=this.startVal,this.decimals=Math.max(0,n||0),this.dec=Math.pow(10,this.decimals),this.duration=1e3*Number(i)||2e3;var l=this;this.version=function(){return"1.6.0"},this.printValue=function(t){var a=isNaN(t)?"--":l.formatNumber(t);"INPUT"==l.d.tagName?this.d.value=a:"text"==l.d.tagName||"tspan"==l.d.tagName?this.d.textContent=a:this.d.innerHTML=a},this.easeOutExpo=function(t,a,e,n){return e*(-Math.pow(2,-10*t/n)+1)*1024/1023+a},this.count=function(t){l.startTime||(l.startTime=t),l.timestamp=t;var a=t-l.startTime;l.remaining=l.duration-a,l.frameVal=l.options.useEasing?l.countDown?l.startVal-l.easeOutExpo(a,0,l.startVal-l.endVal,l.duration):l.easeOutExpo(a,l.startVal,l.endVal-l.startVal,l.duration):l.countDown?l.startVal-(l.startVal-l.endVal)*(a/l.duration):l.startVal+(l.endVal-l.startVal)*(a/l.duration),l.frameVal=l.countDown?l.frameVal<l.endVal?l.endVal:l.frameVal:l.frameVal>l.endVal?l.endVal:l.frameVal,l.frameVal=Math.round(l.frameVal*l.dec)/l.dec,l.printValue(l.frameVal),a<l.duration?l.rAF=requestAnimationFrame(l.count):l.callback&&l.callback()},this.start=function(t){return l.callback=t,l.rAF=requestAnimationFrame(l.count),!1},this.pauseResume=function(){l.paused?(l.paused=!1,delete l.startTime,l.duration=l.remaining,l.startVal=l.frameVal,requestAnimationFrame(l.count)):(l.paused=!0,cancelAnimationFrame(l.rAF))},this.reset=function(){l.paused=!1,delete l.startTime,l.startVal=a,cancelAnimationFrame(l.rAF),l.printValue(l.startVal)},this.update=function(t){cancelAnimationFrame(l.rAF),l.paused=!1,delete l.startTime,l.startVal=l.frameVal,l.endVal=Number(t),l.countDown=l.startVal>l.endVal,l.rAF=requestAnimationFrame(l.count)},this.formatNumber=function(t){t=t.toFixed(l.decimals),t+="";var a,e,n,i;if(a=t.split("."),e=a[0],n=a.length>1?l.options.decimal+a[1]:"",i=/(\d+)(\d{3})/,l.options.useGrouping)for(;i.test(e);)e=e.replace(i,"$1"+l.options.separator+"$2");return l.options.prefix+e+n+l.options.suffix},l.printValue(l.startVal)};return t});

/* sifter.js (brian@thirdroute.com) */
!function(a,b){"function"==typeof define&&define.amd?define("sifter",b):"object"==typeof exports?module.exports=b():a.Sifter=b()}(this,function(){var a=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){if(a=d(String(a||"").toLowerCase()),!a||!a.length)return[];var b,c,f,h,i=[],j=a.split(/ +/);for(b=0,c=j.length;b<c;b++){if(f=e(j[b]),this.settings.diacritics)for(h in g)g.hasOwnProperty(h)&&(f=f.replace(new RegExp(h,"g"),g[h]));i.push({string:j[b],regex:new RegExp(f,"i")})}return i},a.prototype.iterator=function(a,b){var c;c=f(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)},c.apply(a,[b])},a.prototype.getScoreFunction=function(a,b){var c,d,e,f;c=this,a=c.prepareSearch(a,b),e=a.tokens,d=a.options.fields,f=e.length;var g=function(a,b){var c,d;return a?(a=String(a||""),d=a.search(b.regex),d===-1?0:(c=b.string.length/a.length,0===d&&(c+=.5),c)):0},h=function(){var a=d.length;return a?1===a?function(a,b){return g(b[d[0]],a)}:function(b,c){for(var e=0,f=0;e<a;e++)f+=g(c[d[e]],b);return f/a}:function(){return 0}}();return f?1===f?function(a){return h(e[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;c<f;c++){if(b=h(e[c],a),b<=0)return 0;d+=b}return d/f}:function(a){for(var b=0,c=0;b<f;b++)c+=h(e[b],a);return c/f}:function(){return 0}},a.prototype.getSortFunction=function(a,c){var d,e,f,g,h,i,j,k,l,m,n;if(f=this,a=f.prepareSearch(a,c),n=!a.query&&c.sort_empty||c.sort,l=function(a,b){return"$score"===a?b.score:f.items[b.id][a]},h=[],n)for(d=0,e=n.length;d<e;d++)(a.query||"$score"!==n[d].field)&&h.push(n[d]);if(a.query){for(m=!0,d=0,e=h.length;d<e;d++)if("$score"===h[d].field){m=!1;break}m&&h.unshift({field:"$score",direction:"desc"})}else for(d=0,e=h.length;d<e;d++)if("$score"===h[d].field){h.splice(d,1);break}for(k=[],d=0,e=h.length;d<e;d++)k.push("desc"===h[d].direction?-1:1);return i=h.length,i?1===i?(g=h[0].field,j=k[0],function(a,c){return j*b(l(g,a),l(g,c))}):function(a,c){var d,e,j;for(d=0;d<i;d++)if(j=h[d].field,e=k[d]*b(l(j,a),l(j,c)))return e;return 0}:null},a.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;b=c({},b);var d=b.fields,e=b.sort,g=b.sort_empty;return d&&!f(d)&&(b.fields=[d]),e&&!f(e)&&(b.sort=[e]),g&&!f(g)&&(b.sort_empty=[g]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},a.prototype.search=function(a,b){var e,f,h,i,c=this;return f=this.prepareSearch(a,b),b=f.options,a=f.query,i=b.score||c.getScoreFunction(f),a.length?c.iterator(c.items,function(a,c){e=i(a),(b.filter===!1||e>0)&&f.items.push({score:e,id:c})}):c.iterator(c.items,function(a,b){f.items.push({score:1,id:b})}),h=c.getSortFunction(f,b),h&&f.items.sort(h),f.total=f.items.length,"number"==typeof b.limit&&(f.items=f.items.slice(0,b.limit)),f};var b=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:a<b?-1:0:(a=h(String(a||"")),b=h(String(b||"")),a>b?1:b>a?-1:0)},c=function(a,b){var c,d,e,f;for(c=1,d=arguments.length;c<d;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},d=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},e=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},f=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g={a:"[a������������AaaA]",c:"[c��cCcC]",d:"[dd�dD]",e:"[e��������eEEeeE]",i:"[i��������Ii]",l:"[llL]",n:"[n��nNnN]",o:"[o�������������Oo]",r:"[rrR]",s:"[s��sS]",t:"[ttT]",u:"[u��������uUUu]",y:"[y����]",z:"[z��zZzZ]"},h=function(){var a,b,c,d,e="",f={};for(c in g)if(g.hasOwnProperty(c))for(d=g[c].substring(2,g[c].length-1),e+=d,a=0,b=d.length;a<b;a++)f[d.charAt(a)]=c;var h=new RegExp("["+e+"]","g");return function(a){return a.replace(h,function(a){return f[a]}).toLowerCase()}}();return a}),function(a,b){"function"==typeof define&&define.amd?define("microplugin",b):"object"==typeof exports?module.exports=b():a.MicroPlugin=b()}(this,function(){var a={};a.mixin=function(a){a.plugins={},a.prototype.initializePlugins=function(a){var c,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},b.isArray(a))for(c=0,d=a.length;c<d;c++)"string"==typeof a[c]?g.push(a[c]):(f.plugins.settings[a[c].name]=a[c].options,g.push(a[c].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}};var b={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return a}),function(a,b){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=b(a.jQuery,a.Sifter,a.MicroPlugin)}(this,function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(e>=0&&a.data.length>0){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),j=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(j),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var k=0;k<a.childNodes.length;++k)k+=d(a.childNodes[k]);return b};return a.each(function(){d(this)})}},e=function(){};e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},void(a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1)))},trigger:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var f=/Mac/.test(navigator.userAgent),g=65,i=13,j=27,k=37,l=38,m=80,n=39,o=40,p=78,q=8,r=46,s=16,t=f?91:17,u=f?18:17,v=9,w=1,x=2,y=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,z=function(a){return"undefined"!=typeof a},A=function(a){return"undefined"==typeof a||null===a?null:"boolean"==typeof a?a?"1":"0":a+""},B=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},C=function(a){return(a+"").replace(/\$/g,"$$$$")},D={};D.before=function(a,b,c){var d=a[b];a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)}},D.after=function(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}};var E=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},F=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}},G=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];return b.indexOf(c)===-1?e.apply(a,arguments):void(f[c]=arguments)},c.apply(a,[]),a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,f[d])},H=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,d.apply(this,[b])})},I=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b},J=function(a,b,c){var d,e,f={};if(c)for(d=0,e=c.length;d<e;d++)f[c[d]]=a.css(c[d]);else f=a.css();b.css(f)},K=function(b,c){if(!b)return 0;var d=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(b).appendTo("body");J(c,d,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var e=d.width();return d.remove(),e},L=function(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;c=c||window.event||{},d=d||{},c.metaKey||c.altKey||(d.force||a.data("grow")!==!1)&&(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(f=c.keyCode,g=f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||32===f,f===r||f===q?(l=I(a[0]),l.length?e=e.substring(0,l.start)+e.substring(l.start+l.length):f===q&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):f===r&&"undefined"!=typeof l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1))):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),k=j?k.toUpperCase():k.toLowerCase(),e+=k)),h=a.attr("placeholder"),!e&&h&&(e=h),i=K(e,a)+4,i!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()},M=function(c,d){var f,g,h,i,j=this;i=c[0],i.selectize=j;var k=window.getComputedStyle&&window.getComputedStyle(i,null);if(h=k?k.getPropertyValue("direction"):i.currentStyle&&i.currentStyle.direction,h=h||c.parents("[dir]:first").attr("dir")||"",a.extend(j,{order:0,settings:d,$input:c,tabIndex:c.attr("tabindex")||"",tagType:"select"===i.tagName.toLowerCase()?w:x,rtl:/rtl/i.test(h),eventNS:".selectize"+ ++M.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?j.onSearchChange:F(j.onSearchChange,d.loadThrottle)}),j.sifter=new b(this.options,{diacritics:d.diacritics}),j.settings.options){for(f=0,g=j.settings.options.length;f<g;f++)j.registerOption(j.settings.options[f]);delete j.settings.options}if(j.settings.optgroups){for(f=0,g=j.settings.optgroups.length;f<g;f++)j.registerOptionGroup(j.settings.optgroups[f]);delete j.settings.optgroups}j.settings.mode=j.settings.mode||(1===j.settings.maxItems?"single":"multi"),"boolean"!=typeof j.settings.hideSelected&&(j.settings.hideSelected="multi"===j.settings.mode),j.initializePlugins(j.settings.plugins),j.setupCallbacks(),j.setupTemplates(),j.setup()};return e.mixin(M),c.mixin(M),a.extend(M.prototype,{setup:function(){var i,j,k,l,m,n,o,r,v,b=this,c=b.settings,d=b.eventNS,e=a(window),g=a(document),h=b.$input;if(o=b.settings.mode,r=h.attr("class")||"",i=a("<div>").addClass(c.wrapperClass).addClass(r).addClass(o),j=a("<div>").addClass(c.inputClass).addClass("items").appendTo(i),k=a('<input type="text" autocomplete="off" />').appendTo(j).attr("tabindex",h.is(":disabled")?"-1":b.tabIndex),n=a(c.dropdownParent||i),l=a("<div>").addClass(c.dropdownClass).addClass(o).hide().appendTo(n),m=a("<div>").addClass(c.dropdownContentClass).appendTo(l),b.settings.copyClassesToDropdown&&l.addClass(r),i.css({width:h[0].style.width}),b.plugins.names.length&&(v="plugin-"+b.plugins.names.join(" plugin-"),i.addClass(v),l.addClass(v)),(null===c.maxItems||c.maxItems>1)&&b.tagType===w&&h.attr("multiple","multiple"),b.settings.placeholder&&k.attr("placeholder",c.placeholder),!b.settings.splitOn&&b.settings.delimiter){var x=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+x+"+\\s*")}h.attr("autocorrect")&&k.attr("autocorrect",h.attr("autocorrect")),h.attr("autocapitalize")&&k.attr("autocapitalize",h.attr("autocapitalize")),b.$wrapper=i,b.$control=j,b.$control_input=k,b.$dropdown=l,b.$dropdown_content=m,l.on("mouseenter","[data-selectable]",function(){return b.onOptionHover.apply(b,arguments)}),l.on("mousedown click","[data-selectable]",function(){return b.onOptionSelect.apply(b,arguments)}),H(j,"mousedown","*:not(input)",function(){return b.onItemSelect.apply(b,arguments)}),L(k),j.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),k.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),g.on("keydown"+d,function(a){b.isCmdDown=a[f?"metaKey":"ctrlKey"],b.isCtrlDown=a[f?"altKey":"ctrlKey"],b.isShiftDown=a.shiftKey}),g.on("keyup"+d,function(a){a.keyCode===u&&(b.isCtrlDown=!1),a.keyCode===s&&(b.isShiftDown=!1),a.keyCode===t&&(b.isCmdDown=!1)}),g.on("mousedown"+d,function(a){if(b.isFocused){if(a.target===b.$dropdown[0]||a.target.parentNode===b.$dropdown[0])return!1;b.$control.has(a.target).length||a.target===b.$control[0]||b.blur(a.target)}}),e.on(["scroll"+d,"resize"+d].join(" "),function(){b.isOpen&&b.positionDropdown.apply(b,arguments)}),e.on("mousemove"+d,function(){b.ignoreHover=!1}),this.revertSettings={$children:h.children().detach(),tabindex:h.attr("tabindex")},h.attr("tabindex",-1).hide().after(b.$wrapper),a.isArray(c.items)&&(b.setValue(c.items),delete c.items),y&&h.on("invalid"+d,function(a){a.preventDefault(),b.isInvalid=!0,b.refreshState()}),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,h.is(":disabled")&&b.disable(),b.on("change",this.onChange),h.data("selectize",b),h.addClass("selectized"),b.trigger("initialize"),c.preload===!0&&b.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option">'+b(a[c])+"</div>"},item:function(a,b){return'<div class="item">'+b(a[c])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]],b&&this.on(a,b))},onClick:function(a){var b=this;b.isFocused||(b.focus(),a.preventDefault())},onMouseDown:function(b){var c=this,d=b.isDefaultPrevented();a(b.target);if(c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var c=this;c.isFull()||c.isInputHidden||c.isLocked?b.preventDefault():c.settings.splitOn&&setTimeout(function(){for(var b=a.trim(c.$control_input.val()||"").split(c.settings.splitOn),d=0,e=b.length;d<e;d++)c.createItem(b[d])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},onKeyDown:function(a){var c=(a.target===this.$control_input[0],this);if(c.isLocked)return void(a.keyCode!==v&&a.preventDefault());switch(a.keyCode){case g:if(c.isCmdDown)return void c.selectAll();break;case j:return void(c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.close()));case p:if(!a.ctrlKey||a.altKey)break;case o:if(!c.isOpen&&c.hasOptions)c.open();else if(c.$activeOption){c.ignoreHover=!0;var d=c.getAdjacentOption(c.$activeOption,1);d.length&&c.setActiveOption(d,!0,!0)}return void a.preventDefault();case m:if(!a.ctrlKey||a.altKey)break;case l:if(c.$activeOption){c.ignoreHover=!0;var e=c.getAdjacentOption(c.$activeOption,-1);e.length&&c.setActiveOption(e,!0,!0)}return void a.preventDefault();case i:return void(c.isOpen&&c.$activeOption&&(c.onOptionSelect({currentTarget:c.$activeOption}),a.preventDefault()));case k:return void c.advanceSelection(-1,a);case n:return void c.advanceSelection(1,a);case v:return c.settings.selectOnTab&&c.isOpen&&c.$activeOption&&(c.onOptionSelect({currentTarget:c.$activeOption}),c.isFull()||a.preventDefault()),void(c.settings.create&&c.createItem()&&a.preventDefault());case q:case r:return void c.deleteSelection(a)}return!c.isFull()&&!c.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:void a.preventDefault()},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this,c=b.isFocused;return b.isDisabled?(b.blur(),a&&a.preventDefault(),!1):void(b.ignoreFocus||(b.isFocused=!0,"focus"===b.settings.preload&&b.onSearchChange(""),c||b.trigger("focus"),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState()))},onBlur:function(a,b){var c=this;if(c.isFocused&&(c.isFocused=!1,!c.ignoreFocus)){if(!c.ignoreBlur&&document.activeElement===c.$dropdown_content[0])return c.ignoreBlur=!0,void c.onFocus(a);var d=function(){c.close(),c.setTextboxValue(""),c.setActiveItem(null),c.setActiveOption(null),c.setCaret(c.items.length),c.refreshState(),(b||document.body).focus(),c.ignoreFocus=!1,c.trigger("blur")};c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):d()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var c,d,f=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),d=a(b.currentTarget),d.hasClass("create")?f.createItem(null,function(){f.settings.closeAfterSelect&&f.close()}):(c=d.attr("data-value"),"undefined"!=typeof c&&(f.lastQuery=null,f.setTextboxValue(""),f.addItem(c),f.settings.closeAfterSelect?f.close():!f.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&f.setActiveOption(f.getOption(c))))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass(b.settings.loadingClass),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input,c=b.val()!==a;c&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return this.tagType===w&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){var c=b?[]:["change"];G(this,c,function(){this.clear(),this.addItems(a,b)})},setActiveItem:function(b,c){var e,f,g,h,i,j,k,l,d=this;if("single"!==d.settings.mode){if(b=a(b),!b.length)return a(d.$activeItems).removeClass("active"),d.$activeItems=[],void(d.isFocused&&d.showInput());if(e=c&&c.type.toLowerCase(),"mousedown"===e&&d.isShiftDown&&d.$activeItems.length){for(l=d.$control.children(".active:last"),h=Array.prototype.indexOf.apply(d.$control[0].childNodes,[l[0]]),i=Array.prototype.indexOf.apply(d.$control[0].childNodes,[b[0]]),h>i&&(k=h,h=i,i=k),f=h;f<=i;f++)j=d.$control[0].childNodes[f],d.$activeItems.indexOf(j)===-1&&(a(j).addClass("active"),d.$activeItems.push(j));c.preventDefault()}else"mousedown"===e&&d.isCtrlDown||"keydown"===e&&this.isShiftDown?b.hasClass("active")?(g=d.$activeItems.indexOf(b[0]),d.$activeItems.splice(g,1),b.removeClass("active")):d.$activeItems.push(b.addClass("active")[0]):(a(d.$activeItems).removeClass("active"),d.$activeItems=[b.addClass("active")[0]]);d.hideInput(),this.isFocused||d.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,j=this;j.$activeOption&&j.$activeOption.removeClass("active"),j.$activeOption=null,b=a(b),b.length&&(j.$activeOption=b.addClass("active"),!c&&z(c)||(e=j.$dropdown_content.height(),f=j.$activeOption.outerHeight(!0),c=j.$dropdown_content.scrollTop()||0,g=j.$activeOption.offset().top-j.$dropdown_content.offset().top+c,h=g,i=g-e+f,g+f>e+c?j.$dropdown_content.stop().animate({scrollTop:i},d?j.settings.scrollDuration:0):g<c&&j.$dropdown_content.stop().animate({scrollTop:h},d?j.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(a){this.$control_input[0].blur(),this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b=[{field:b}]),{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var c,f,g,h=this,i=h.settings,j=this.getSearchOptions();if(i.score&&(g=h.settings.score.apply(this,[b]),"function"!=typeof g))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==h.lastQuery?(h.lastQuery=b,f=h.sifter.search(b,a.extend(j,{score:g})),h.currentResults=f):f=a.extend(!0,{},h.currentResults),i.hideSelected)for(c=f.items.length-1;c>=0;c--)h.items.indexOf(A(f.items[c].id))!==-1&&f.items.splice(c,1);return f},refreshOptions:function(b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;"undefined"==typeof b&&(b=!0);var t=this,u=a.trim(t.$control_input.val()),v=t.search(u),w=t.$dropdown_content,x=t.$activeOption&&A(t.$activeOption.attr("data-value"));for(g=v.items.length,"number"==typeof t.settings.maxOptions&&(g=Math.min(g,t.settings.maxOptions)),h={},i=[],c=0;c<g;c++)for(j=t.options[v.items[c].id],k=t.render("option",j),l=j[t.settings.optgroupField]||"",m=a.isArray(l)?l:[l],e=0,f=m&&m.length;e<f;e++)l=m[e],t.optgroups.hasOwnProperty(l)||(l=""),h.hasOwnProperty(l)||(h[l]=[],i.push(l)),h[l].push(k);for(this.settings.lockOptgroupOrder&&i.sort(function(a,b){var c=t.optgroups[a].$order||0,d=t.optgroups[b].$order||0;return c-d}),n=[],c=0,g=i.length;c<g;c++)l=i[c],t.optgroups.hasOwnProperty(l)&&h[l].length?(o=t.render("optgroup_header",t.optgroups[l])||"",o+=h[l].join(""),n.push(t.render("optgroup",a.extend({},t.optgroups[l],{html:o})))):n.push(h[l].join(""));if(w.html(n.join("")),t.settings.highlight&&v.query.length&&v.tokens.length)for(c=0,g=v.tokens.length;c<g;c++)d(w,v.tokens[c].regex);if(!t.settings.hideSelected)for(c=0,g=t.items.length;c<g;c++)t.getOption(t.items[c]).addClass("selected");p=t.canCreate(u),p&&(w.prepend(t.render("option_create",{input:u})),s=a(w[0].childNodes[0])),t.hasOptions=v.items.length>0||p,t.hasOptions?(v.items.length>0?(r=x&&t.getOption(x),r&&r.length?q=r:"single"===t.settings.mode&&t.items.length&&(q=t.getOption(t.items[0])),q&&q.length||(q=s&&!t.settings.addPrecedence?t.getAdjacentOption(s,1):w.find("[data-selectable]:first"))):q=s,t.setActiveOption(q),b&&!t.isOpen&&t.open()):(t.setActiveOption(null),b&&t.isOpen&&t.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;c<d;c++)f.addOption(b[c]);else(e=f.registerOption(b))&&(f.userOptions[e]=!0,f.lastQuery=null,f.trigger("option_add",e,b))},registerOption:function(a){var b=A(a[this.settings.valueField]);return!(!b||this.options.hasOwnProperty(b))&&(a.$order=a.$order||++this.order,this.options[b]=a,b)},registerOptionGroup:function(a){var b=A(a[this.settings.optgroupValueField]);return!!b&&(a.$order=a.$order||++this.order,this.optgroups[b]=a,b)},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a,(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(b,c){var e,f,g,h,i,j,k,d=this;if(b=A(b),g=A(c[d.settings.valueField]),null!==b&&d.options.hasOwnProperty(b)){if("string"!=typeof g)throw new Error("Value must be set in option data");k=d.options[b].$order,g!==b&&(delete d.options[b],h=d.items.indexOf(b),h!==-1&&d.items.splice(h,1,g)),c.$order=c.$order||k,d.options[g]=c,i=d.renderCache.item,j=d.renderCache.option,i&&(delete i[b],delete i[g]),j&&(delete j[b],delete j[g]),d.items.indexOf(g)!==-1&&(e=d.getItem(b),f=a(d.render("item",c)),e.hasClass("active")&&f.addClass("active"),e.replaceWith(f)),d.lastQuery=null,d.isOpen&&d.refreshOptions(!1)}},removeOption:function(a,b){var c=this;a=A(a);var d=c.renderCache.item,e=c.renderCache.option;d&&delete d[a],e&&delete e[a],delete c.userOptions[a],delete c.options[a],c.lastQuery=null,c.trigger("option_remove",a),c.removeItem(a,b)},clearOptions:function(){var a=this;a.loadedSearches={},a.userOptions={},a.renderCache={},a.options=a.sifter.items={},a.lastQuery=null,a.trigger("option_clear"),a.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(b=A(b),"undefined"!=typeof b&&null!==b)for(var d=0,e=c.length;d<e;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,c){for(var d=a.isArray(b)?b:[b],e=0,f=d.length;e<f;e++)this.isPending=e<f-1,this.addItem(d[e],c)},addItem:function(b,c){var d=c?[]:["change"];G(this,d,function(){var d,e,f,k,l,g=this,h=g.settings.mode;return b=A(b),g.items.indexOf(b)!==-1?void("single"===h&&g.close()):void(g.options.hasOwnProperty(b)&&("single"===h&&g.clear(),"multi"===h&&g.isFull()||(d=a(g.render("item",g.options[b])),l=g.isFull(),g.items.splice(g.caretPos,0,b),g.insertAtCaret(d),(!g.isPending||!l&&g.isFull())&&g.refreshState(),g.isSetup&&(f=g.$dropdown_content.find("[data-selectable]"),g.isPending||(e=g.getOption(b),k=g.getAdjacentOption(e,1).attr("data-value"),g.refreshOptions(g.isFocused&&"single"!==h),k&&g.setActiveOption(g.getOption(k))),!f.length||g.isFull()?g.close():g.positionDropdown(),g.updatePlaceholder(),g.trigger("item_add",b,d),g.updateOriginalInput({silent:c})))))})},removeItem:function(a,b){var d,e,f,c=this;d="object"==typeof a?a:c.getItem(a),a=A(d.attr("data-value")),e=c.items.indexOf(a),e!==-1&&(d.remove(),d.hasClass("active")&&(f=c.$activeItems.indexOf(d[0]),c.$activeItems.splice(f,1)),c.items.splice(e,1),c.lastQuery=null,!c.settings.persist&&c.userOptions.hasOwnProperty(a)&&c.removeOption(a,b),e<c.caretPos&&c.setCaret(c.caretPos-1),c.refreshState(),c.updatePlaceholder(),c.updateOriginalInput({silent:b}),c.positionDropdown(),c.trigger("item_remove",a,d))},createItem:function(b,c){var d=this,e=d.caretPos;b=b||a.trim(d.$control_input.val()||"");var f=arguments[arguments.length-1];if("function"!=typeof f&&(f=function(){}),"boolean"!=typeof c&&(c=!0),!d.canCreate(b))return f(),!1;d.lock();var g="function"==typeof d.settings.create?this.settings.create:function(a){var b={};return b[d.settings.labelField]=a,b[d.settings.valueField]=a,b},h=E(function(a){if(d.unlock(),!a||"object"!=typeof a)return f();var b=A(a[d.settings.valueField]);return"string"!=typeof b?f():(d.setTextboxValue(""),d.addOption(a),d.setCaret(e),d.addItem(b),d.refreshOptions(c&&"single"!==d.settings.mode),void f(a))}),i=g.apply(this,[b,h]);return"undefined"!=typeof i&&h(i),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var a,b=this;b.isRequired&&(b.items.length&&(b.isInvalid=!1),b.$control_input.prop("required",a)),b.refreshClasses()},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",b.items.length>0),b.$control_input.data("grow",!c&&!d)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e,f=this;if(a=a||{},f.tagType===w){for(d=[],b=0,c=f.items.length;b<c;b++)e=f.options[f.items[b]][f.settings.labelField]||"",d.push('<option value="'+B(f.items[b])+'" selected="selected">'+B(e)+"</option>");d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>'),f.$input.html(d.join(""))}else f.$input.val(f.getValue()),f.$input.attr("value",f.$input.val());f.isSetup&&(a.silent||f.trigger("change",f.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&a.hideInput(),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({width:a.outerWidth(),top:b.top,left:b.left})},clear:function(a){var b=this;b.items.length&&(b.$control.children(":not(input)").remove(),b.items=[],b.lastQuery=null,b.setCaret(0),b.setActiveItem(null),b.updatePlaceholder(),b.updateOriginalInput({silent:a}),b.refreshState(),b.showInput(),b.trigger("clear"))},insertAtCaret:function(b){var c=Math.min(this.caretPos,this.items.length);0===c?this.$control.prepend(b):a(this.$control[0].childNodes[c]).before(b),this.setCaret(c+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&b.keyCode===q?-1:1,f=I(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(e>0?"last":"first")),

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     h=l.$control.children(":not(input)").index(k),e>0&&h++,c=0,d=l.$activeItems.length;c<d;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(e<0&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):e>0&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&l.settings.onDelete.apply(l,[g])===!1)return!1;for("undefined"!=typeof h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i),j.length&&l.setActiveOption(j)),!0},advanceSelection:function(a,b){var c,d,e,f,g,h,i=this;0!==a&&(i.rtl&&(a*=-1),c=a>0?"last":"first",d=I(i.$control_input[0]),i.isFocused&&!i.isInputHidden?(f=i.$control_input.val().length,g=a<0?0===d.start&&0===d.length:d.start===f,g&&!f&&i.advanceCaret(a,b)):(h=i.$control.children(".active:"+c),h.length&&(e=i.$control.children(":not(input)").index(h),i.setActiveItem(null),i.setCaret(a>0?e+1:e))))},advanceCaret:function(a,b){var d,e,c=this;0!==a&&(d=a>0?"next":"prev",c.isShiftDown?(e=c.$control_input[d](),e.length&&(c.hideInput(),c.setActiveItem(e),b&&b.preventDefault())):c.setCaret(c.caretPos+a))},setCaret:function(b){var c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending){var d,e,g,h;for(g=c.$control.children(":not(input)"),d=0,e=g.length;d<e;d++)h=a(g[d]).detach(),d<b?c.$control_input.before(h):c.$control.append(h)}c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.$control_input.prop("disabled",!0).prop("tabindex",-1),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.$control_input.prop("disabled",!1).prop("tabindex",a.tabIndex),a.isDisabled=!1,a.unlock()},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(a,b){var c,d,f="",g=!1,h=this,i=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==a&&"item"!==a||(c=A(b[h.settings.valueField]),g=!!c),g&&(z(h.renderCache[a])||(h.renderCache[a]={}),h.renderCache[a].hasOwnProperty(c))?h.renderCache[a][c]:(f=h.settings.render[a].apply(this,[b,B]),"option"!==a&&"option_create"!==a||(f=f.replace(i,"<$1 data-selectable")),"optgroup"===a&&(d=b[h.settings.optgroupValueField]||"",f=f.replace(i,'<$1 data-group="'+C(B(d))+'"')),"option"!==a&&"item"!==a||(f=f.replace(i,'<$1 data-value="'+C(B(c||""))+'"')),g&&(h.renderCache[a][c]=f),f)},clearCache:function(a){var b=this;"undefined"==typeof a?b.renderCache={}:delete b.renderCache[a]},canCreate:function(a){var b=this;if(!b.settings.create)return!1;var c=b.settings.createFilter;return a.length&&("function"!=typeof c||c.apply(b,[a]))&&("string"!=typeof c||new RegExp(c).test(a))&&(!(c instanceof RegExp)||c.test(a))}}),M.count=0,M.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.optgroupField,i=d.optgroupLabelField,j=d.optgroupValueField,k={},l=function(b,c){var h,i,j,k,l=b.attr(e);if(l)for(c.options=JSON.parse(l),h=0,i=c.options.length;h<i;h++)c.items.push(c.options[h][g]);else{var m=a.trim(b.val()||"");if(!d.allowEmptyOption&&!m.length)return;for(j=m.split(d.delimiter),h=0,i=j.length;h<i;h++)k={},k[f]=j[h],k[g]=j[h],c.options.push(k);c.items=j}},m=function(b,c){var l,m,n,o,q=c.options,r=function(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null},s=function(b,e){b=a(b);var i=A(b.attr("value"));if(i||d.allowEmptyOption)if(k.hasOwnProperty(i)){if(e){var j=k[i][h];j?a.isArray(j)?j.push(e):k[i][h]=[j,e]:k[i][h]=e}}else{var l=r(b)||{};l[f]=l[f]||b.text(),l[g]=l[g]||i,l[h]=l[h]||e,k[i]=l,q.push(l),b.is(":selected")&&c.items.push(i)}},t=function(b){var d,e,f,g,h;for(b=a(b),f=b.attr("label"),f&&(g=r(b)||{},g[i]=f,g[j]=f,c.optgroups.push(g)),h=a("option",b),d=0,e=h.length;d<e;d++)s(h[d],f)};for(c.maxItems=b.attr("multiple")?null:1,o=b.children(),l=0,m=o.length;l<m;l++)n=o[l].tagName.toLowerCase(),"optgroup"===n?t(o[l]):"option"===n&&s(o[l])};return this.each(function(){if(!this.selectize){var e,f=a(this),g=this.tagName.toLowerCase(),h=f.attr("placeholder")||f.attr("data-placeholder");h||d.allowEmptyOption||(h=f.children('option[value=""]').text());var i={placeholder:h,options:[],optgroups:[],items:[]};"select"===g?m(f,i):l(f,i),e=new M(f,a.extend(!0,{},c,i,b))}})},a.fn.selectize.defaults=M.defaults,a.fn.selectize.support={validity:y},M.define("drag_drop",function(b){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");return b&&b.disable(),a.apply(c,arguments)}}(),c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");return b&&b.enable(),a.apply(c,arguments)}}(),c.setup=function(){var b=c.setup;return function(){b.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var b=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),c.setValue(e),c.setActiveItem(b)}})}}()}}),M.define("dropdown_header",function(b){var c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)}}()}),M.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||b.keyCode!==k&&b.keyCode!==n?a.apply(this,arguments):(c.ignoreHover=!0,g=this.$activeOption.closest("[data-group]"),d=g.find("[data-selectable]").index(this.$activeOption),g=b.keyCode===k?g.prev("[data-group]"):g.next("[data-group]"),f=g.find("[data-selectable]"),e=f.eq(Math.min(f.length-1,d)),void(e.length&&this.setActiveOption(e)))}}();var d=function(){var a,b=d.width,c=document;return"undefined"==typeof b&&(a=c.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if(k=a("[data-group]",c.$dropdown_content),f=k.length,f&&c.$dropdown_content.width()){if(b.equalizeHeight){for(g=0,e=0;e<f;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),f>1&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(D.after(this,"positionDropdown",e),D.after(this,"refreshOptions",e))}),M.define("remove_button",function(b){if("single"!==this.settings.mode){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var c=this,d='<a href="javascript:void(0)" class="'+b.className+'" tabindex="-1" title="'+B(b.title)+'">'+b.label+"</a>",e=function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)};this.setup=function(){var f=c.setup;return function(){if(b.append){var g=c.settings.render.item;c.settings.render.item=function(a){return e(g.apply(this,arguments),d)}}f.apply(this,arguments),this.$control.on("click","."+b.className,function(b){if(b.preventDefault(),!c.isLocked){var d=a(b.currentTarget).parent();c.setActiveItem(d),c.deleteSelection()&&c.setCaret(c.items.length)}})}}()}}),M.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d,e;return b.keyCode===q&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1,d>=0&&d<this.items.length)?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),void b.preventDefault()):c.apply(this,arguments)}}()}),M});
/*! nouislider - 9.0.0 - 2016-09-29 21:44:02 */
!function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.noUiSlider=a()}(function(){"use strict";function a(a,b){var c=document.createElement("div");return j(c,b),a.appendChild(c),c}function b(a){return a.filter(function(a){return!this[a]&&(this[a]=!0)},{})}function c(a,b){return Math.round(a/b)*b}function d(a,b){var c=a.getBoundingClientRect(),d=a.ownerDocument,e=d.documentElement,f=m();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(f.x=0),b?c.top+f.y-e.clientTop:c.left+f.x-e.clientLeft}function e(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function f(a,b,c){c>0&&(j(a,b),setTimeout(function(){k(a,b)},c))}function g(a){return Math.max(Math.min(a,100),0)}function h(a){return Array.isArray(a)?a:[a]}function i(a){a=String(a);var b=a.split(".");return b.length>1?b[1].length:0}function j(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function k(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(a,b){return a.classList?a.classList.contains(b):new RegExp("\\b"+b+"\\b").test(a.className)}function m(){var a=void 0!==window.pageXOffset,b="CSS1Compat"===(document.compatMode||""),c=a?window.pageXOffset:b?document.documentElement.scrollLeft:document.body.scrollLeft,d=a?window.pageYOffset:b?document.documentElement.scrollTop:document.body.scrollTop;return{x:c,y:d}}function n(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function o(a,b){return 100/(b-a)}function p(a,b){return 100*b/(a[1]-a[0])}function q(a,b){return p(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function r(a,b){return b*(a[1]-a[0])/100+a[0]}function s(a,b){for(var c=1;a>=b[c];)c+=1;return c}function t(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f,g,h=s(c,a);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],f+q([d,e],c)/o(f,g)}function u(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e,f,g,h=s(c,b);return d=a[h-1],e=a[h],f=b[h-1],g=b[h],r([d,e],(c-f)*o(f,g))}function v(a,b,d,e){if(100===e)return e;var f,g,h=s(e,a);return d?(f=a[h-1],g=a[h],e-f>(g-f)/2?g:f):b[h-1]?a[h-1]+c(e-a[h-1],b[h-1]):e}function w(a,b,c){var d;if("number"==typeof b&&(b=[b]),"[object Array]"!==Object.prototype.toString.call(b))throw new Error("noUiSlider: 'range' contains invalid value.");if(d="min"===a?0:"max"===a?100:parseFloat(a),!e(d)||!e(b[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");c.xPct.push(d),c.xVal.push(b[0]),d?c.xSteps.push(!isNaN(b[1])&&b[1]):isNaN(b[1])||(c.xSteps[0]=b[1]),c.xHighestCompleteStep.push(0)}function x(a,b,c){if(!b)return!0;c.xSteps[a]=p([c.xVal[a],c.xVal[a+1]],b)/o(c.xPct[a],c.xPct[a+1]);var d=(c.xVal[a+1]-c.xVal[a])/c.xNumSteps[a],e=Math.ceil(Number(d.toFixed(3))-1),f=c.xVal[a]+c.xNumSteps[a]*e;c.xHighestCompleteStep[a]=f}function y(a,b,c,d){this.xPct=[],this.xVal=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=b,this.direction=c;var e,f=[];for(e in a)a.hasOwnProperty(e)&&f.push([a[e],e]);for(f.length&&"object"==typeof f[0][0]?f.sort(function(a,b){return a[0][0]-b[0][0]}):f.sort(function(a,b){return a[0]-b[0]}),e=0;e<f.length;e++)w(f[e][1],f[e][0],this);for(this.xNumSteps=this.xSteps.slice(0),e=0;e<this.xNumSteps.length;e++)x(e,this.xNumSteps[e],this)}function z(a,b){if(!e(b))throw new Error("noUiSlider: 'step' is not numeric.");a.singleStep=b}function A(a,b){if("object"!=typeof b||Array.isArray(b))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===b.min||void 0===b.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(b.min===b.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");a.spectrum=new y(b,a.snap,a.dir,a.singleStep)}function B(a,b){if(b=h(b),!Array.isArray(b)||!b.length)throw new Error("noUiSlider: 'start' option is incorrect.");a.handles=b.length,a.start=b}function C(a,b){if(a.snap=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function D(a,b){if(a.animate=b,"boolean"!=typeof b)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function E(a,b){if(a.animationDuration=b,"number"!=typeof b)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function F(a,b){var c,d=[!1];if(b===!0||b===!1){for(c=1;c<a.handles;c++)d.push(b);d.push(!1)}else{if(!Array.isArray(b)||!b.length||b.length!==a.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");d=b}a.connect=d}function G(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function H(a,b){if(!e(b))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==b&&(a.margin=a.spectrum.getMargin(b),!a.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function I(a,b){if(!e(b))throw new Error("noUiSlider: 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit||a.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function J(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function K(a,b){if("string"!=typeof b)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var c=b.indexOf("tap")>=0,d=b.indexOf("drag")>=0,e=b.indexOf("fixed")>=0,f=b.indexOf("snap")>=0,g=b.indexOf("hover")>=0;if(e){if(2!==a.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");H(a,a.start[1]-a.start[0])}a.events={tap:c||f,drag:d,fixed:e,snap:f,hover:g}}function L(a,b){if(b!==!1)if(b===!0){a.tooltips=[];for(var c=0;c<a.handles;c++)a.tooltips.push(!0)}else{if(a.tooltips=h(b),a.tooltips.length!==a.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");a.tooltips.forEach(function(a){if("boolean"!=typeof a&&("object"!=typeof a||"function"!=typeof a.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function M(a,b){if(a.format=b,"function"==typeof b.to&&"function"==typeof b.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function N(a,b){if(void 0!==b&&"string"!=typeof b&&b!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");a.cssPrefix=b}function O(a,b){if(void 0!==b&&"object"!=typeof b)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof a.cssPrefix){a.cssClasses={};for(var c in b)b.hasOwnProperty(c)&&(a.cssClasses[c]=a.cssPrefix+b[c])}else a.cssClasses=b}function P(a,b){if(b!==!0&&b!==!1)throw new Error("noUiSlider: 'useRequestAnimationFrame' option should be true (default) or false.");a.useRequestAnimationFrame=b}function Q(a){var b,c={margin:0,limit:0,animate:!0,animationDuration:300,format:T};b={step:{r:!1,t:z},start:{r:!0,t:B},connect:{r:!0,t:F},direction:{r:!0,t:J},snap:{r:!1,t:C},animate:{r:!1,t:D},animationDuration:{r:!1,t:E},range:{r:!0,t:A},orientation:{r:!1,t:G},margin:{r:!1,t:H},limit:{r:!1,t:I},behaviour:{r:!0,t:K},format:{r:!1,t:M},tooltips:{r:!1,t:L},cssPrefix:{r:!1,t:N},cssClasses:{r:!1,t:O},useRequestAnimationFrame:{r:!1,t:P}};var d={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};Object.keys(b).forEach(function(e){if(void 0===a[e]&&void 0===d[e]){if(b[e].r)throw new Error("noUiSlider: '"+e+"' is required.");return!0}b[e].t(c,void 0===a[e]?d[e]:a[e])}),c.pips=a.pips;var e=[["left","top"],["right","bottom"]];return c.style=e[c.dir][c.ort],c.styleOposite=e[c.dir?0:1][c.ort],c}function R(c,e,i){function o(b,c){var d=a(b,e.cssClasses.origin),f=a(d,e.cssClasses.handle);return f.setAttribute("data-handle",c),d}function p(b,c){return!!c&&a(b,e.cssClasses.connect)}function q(a,b){ba=[],ca=[],ca.push(p(b,a[0]));for(var c=0;c<e.handles;c++)ba.push(o(b,c)),ha[c]=c,ca.push(p(b,a[c+1]))}function r(b){j(b,e.cssClasses.target),0===e.dir?j(b,e.cssClasses.ltr):j(b,e.cssClasses.rtl),0===e.ort?j(b,e.cssClasses.horizontal):j(b,e.cssClasses.vertical),aa=a(b,e.cssClasses.base)}function s(b,c){return!!e.tooltips[c]&&a(b.firstChild,e.cssClasses.tooltip)}function t(){var a=ba.map(s);Z("update",function(b,c,d){if(a[c]){var f=b[c];e.tooltips[c]!==!0&&(f=e.tooltips[c].to(d[c])),a[c].innerHTML=f}})}function u(a,b,c){if("range"===a||"steps"===a)return ia.xVal;if("count"===a){var d,e=100/(b-1),f=0;for(b=[];(d=f++*e)<=100;)b.push(d);a="positions"}return"positions"===a?b.map(function(a){return ia.fromStepping(c?ia.getStep(a):a)}):"values"===a?c?b.map(function(a){return ia.fromStepping(ia.getStep(ia.toStepping(a)))}):b:void 0}function v(a,c,d){function e(a,b){return(a+b).toFixed(7)/1}var f={},g=ia.xVal[0],h=ia.xVal[ia.xVal.length-1],i=!1,j=!1,k=0;return d=b(d.slice().sort(function(a,b){return a-b})),d[0]!==g&&(d.unshift(g),i=!0),d[d.length-1]!==h&&(d.push(h),j=!0),d.forEach(function(b,g){var h,l,m,n,o,p,q,r,s,t,u=b,v=d[g+1];if("steps"===c&&(h=ia.xNumSteps[g]),h||(h=v-u),u!==!1&&void 0!==v)for(h=Math.max(h,1e-7),l=u;l<=v;l=e(l,h)){for(n=ia.toStepping(l),o=n-k,r=o/a,s=Math.round(r),t=o/s,m=1;m<=s;m+=1)p=k+m*t,f[p.toFixed(5)]=["x",0];q=d.indexOf(l)>-1?1:"steps"===c?2:0,!g&&i&&(q=0),l===v&&j||(f[n.toFixed(5)]=[l,q]),k=n}}),f}function w(a,b,c){function d(a,b){var c=b===e.cssClasses.value,d=c?m:n,f=c?k:l;return b+" "+d[e.ort]+" "+f[a]}function f(a,b,c){return'class="'+d(c[1],b)+'" style="'+e.style+": "+a+'%"'}function g(a,d){d[1]=d[1]&&b?b(d[0],d[1]):d[1],i+="<div "+f(a,e.cssClasses.marker,d)+"></div>",d[1]&&(i+="<div "+f(a,e.cssClasses.value,d)+">"+c.to(d[0])+"</div>")}var h=document.createElement("div"),i="",k=[e.cssClasses.valueNormal,e.cssClasses.valueLarge,e.cssClasses.valueSub],l=[e.cssClasses.markerNormal,e.cssClasses.markerLarge,e.cssClasses.markerSub],m=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],n=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];return j(h,e.cssClasses.pips),j(h,0===e.ort?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical),Object.keys(a).forEach(function(b){g(b,a[b])}),h.innerHTML=i,h}function x(a){var b=a.mode,c=a.density||1,d=a.filter||!1,e=a.values||!1,f=a.stepped||!1,g=u(b,e,f),h=v(c,b,g),i=a.format||{to:Math.round};return fa.appendChild(w(h,d,i))}function y(){var a=aa.getBoundingClientRect(),b="offset"+["Width","Height"][e.ort];return 0===e.ort?a.width||aa[b]:a.height||aa[b]}function z(a,b,c,d){var f=function(b){return!fa.hasAttribute("disabled")&&(!l(fa,e.cssClasses.tap)&&(b=A(b,d.pageOffset),!(a===ea.start&&void 0!==b.buttons&&b.buttons>1)&&((!d.hover||!b.buttons)&&(b.calcPoint=b.points[e.ort],void c(b,d)))))},g=[];return a.split(" ").forEach(function(a){b.addEventListener(a,f,!1),g.push([a,f])}),g}function A(a,b){a.preventDefault();var c,d,e=0===a.type.indexOf("touch"),f=0===a.type.indexOf("mouse"),g=0===a.type.indexOf("pointer"),h=a;if(0===a.type.indexOf("MSPointer")&&(g=!0),e){if(h.touches.length>1)return!1;c=a.changedTouches[0].pageX,d=a.changedTouches[0].pageY}return b=b||m(),(f||g)&&(c=a.clientX+b.x,d=a.clientY+b.y),h.pageOffset=b,h.points=[c,d],h.cursor=f||g,h}function B(a){var b=a-d(aa,e.ort),c=100*b/y();return e.dir?100-c:c}function C(a){var b=100,c=!1;return ba.forEach(function(d,e){if(!d.hasAttribute("disabled")){var f=Math.abs(ga[e]-a);f<b&&(c=e,b=f)}}),c}function D(a,b,c,d){var e=c.slice(),f=[!a,a],g=[a,!a];d=d.slice(),a&&d.reverse(),d.length>1?d.forEach(function(a,c){var d=M(e,a,e[a]+b,f[c],g[c]);d===!1?b=0:(b=d-e[a],e[a]=d)}):f=g=[!0];var h=!1;d.forEach(function(a,d){h=R(a,c[a]+b,f[d],g[d])||h}),h&&d.forEach(function(a){E("update",a),E("slide",a)})}function E(a,b,c){Object.keys(ka).forEach(function(d){var f=d.split(".")[0];a===f&&ka[d].forEach(function(a){a.call(da,ja.map(e.format.to),b,ja.slice(),c||!1,ga.slice())})})}function F(a,b){"mouseout"===a.type&&"HTML"===a.target.nodeName&&null===a.relatedTarget&&H(a,b)}function G(a,b){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===a.buttons&&0!==b.buttonsProperty)return H(a,b);var c=(e.dir?-1:1)*(a.calcPoint-b.startCalcPoint),d=100*c/b.baseSize;D(c>0,d,b.locations,b.handleNumbers)}function H(a,b){var c=aa.querySelector("."+e.cssClasses.active);null!==c&&k(c,e.cssClasses.active),a.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener)),document.documentElement.noUiListeners.forEach(function(a){document.documentElement.removeEventListener(a[0],a[1])}),k(fa,e.cssClasses.drag),P(),b.handleNumbers.forEach(function(a){E("set",a),E("change",a),E("end",a)})}function I(a,b){if(1===b.handleNumbers.length){var c=ba[b.handleNumbers[0]];if(c.hasAttribute("disabled"))return!1;j(c.children[0],e.cssClasses.active)}a.preventDefault(),a.stopPropagation();var d=z(ea.move,document.documentElement,G,{startCalcPoint:a.calcPoint,baseSize:y(),pageOffset:a.pageOffset,handleNumbers:b.handleNumbers,buttonsProperty:a.buttons,locations:ga.slice()}),f=z(ea.end,document.documentElement,H,{handleNumbers:b.handleNumbers}),g=z("mouseout",document.documentElement,F,{handleNumbers:b.handleNumbers});if(document.documentElement.noUiListeners=d.concat(f,g),a.cursor){document.body.style.cursor=getComputedStyle(a.target).cursor,ba.length>1&&j(fa,e.cssClasses.drag);var h=function(){return!1};document.body.noUiListener=h,document.body.addEventListener("selectstart",h,!1)}b.handleNumbers.forEach(function(a){E("start",a)})}function J(a){a.stopPropagation();var b=B(a.calcPoint),c=C(b);return c!==!1&&(e.events.snap||f(fa,e.cssClasses.tap,e.animationDuration),R(c,b,!0,!0),P(),E("slide",c,!0),E("set",c,!0),E("change",c,!0),E("update",c,!0),void(e.events.snap&&I(a,{handleNumbers:[c]})))}function K(a){var b=B(a.calcPoint),c=ia.getStep(b),d=ia.fromStepping(c);Object.keys(ka).forEach(function(a){"hover"===a.split(".")[0]&&ka[a].forEach(function(a){a.call(da,d)})})}function L(a){a.fixed||ba.forEach(function(a,b){z(ea.start,a.children[0],I,{handleNumbers:[b]})}),a.tap&&z(ea.start,aa,J,{}),a.hover&&z(ea.move,aa,K,{hover:!0}),a.drag&&ca.forEach(function(b,c){if(b!==!1&&0!==c&&c!==ca.length-1){var d=ba[c-1],f=ba[c],g=[b];j(b,e.cssClasses.draggable),a.fixed&&(g.push(d.children[0]),g.push(f.children[0])),g.forEach(function(a){z(ea.start,a,I,{handles:[d,f],handleNumbers:[c-1,c]})})}})}function M(a,b,c,d,f){return ba.length>1&&(d&&b>0&&(c=Math.max(c,a[b-1]+e.margin)),f&&b<ba.length-1&&(c=Math.min(c,a[b+1]-e.margin))),ba.length>1&&e.limit&&(d&&b>0&&(c=Math.min(c,a[b-1]+e.limit)),f&&b<ba.length-1&&(c=Math.max(c,a[b+1]-e.limit))),c=ia.getStep(c),c=g(c),c!==a[b]&&c}function N(a){return a+"%"}function O(a,b){ga[a]=b,ja[a]=ia.fromStepping(b);var c=function(){ba[a].style[e.style]=N(b),S(a),S(a+1)};window.requestAnimationFrame&&e.useRequestAnimationFrame?window.requestAnimationFrame(c):c()}function P(){ha.forEach(function(a){var b=ga[a]>50?-1:1,c=3+(ba.length+b*a);ba[a].childNodes[0].style.zIndex=c})}function R(a,b,c,d){return b=M(ga,a,b,c,d),b!==!1&&(O(a,b),!0)}function S(a){if(ca[a]){var b=0,c=100;0!==a&&(b=ga[a-1]),a!==ca.length-1&&(c=ga[a]),ca[a].style[e.style]=N(b),ca[a].style[e.styleOposite]=N(100-c)}}function T(a,b){null!==a&&a!==!1&&("number"==typeof a&&(a=String(a)),a=e.format.from(a),a===!1||isNaN(a)||R(b,ia.toStepping(a),!1,!1))}function U(a,b){var c=h(a),d=void 0===ga[0];b=void 0===b||!!b,c.forEach(T),e.animate&&!d&&f(fa,e.cssClasses.tap,e.animationDuration),ha.forEach(function(a){R(a,ga[a],!0,!1)}),P(),ha.forEach(function(a){E("update",a),null!==c[a]&&b&&E("set",a)})}function V(a){U(e.start,a)}function W(){var a=ja.map(e.format.to);return 1===a.length?a[0]:a}function X(){for(var a in e.cssClasses)e.cssClasses.hasOwnProperty(a)&&k(fa,e.cssClasses[a]);for(;fa.firstChild;)fa.removeChild(fa.firstChild);delete fa.noUiSlider}function Y(){return ga.map(function(a,b){var c=ia.getNearbySteps(a),d=ja[b],e=c.thisStep.step,f=null;e!==!1&&d+e>c.stepAfter.startValue&&(e=c.stepAfter.startValue-d),f=d>c.thisStep.startValue?c.thisStep.step:c.stepBefore.step!==!1&&d-c.stepBefore.highestStep,100===a?e=null:0===a&&(f=null);var g=ia.countStepDecimals();return null!==e&&e!==!1&&(e=Number(e.toFixed(g))),null!==f&&f!==!1&&(f=Number(f.toFixed(g))),[f,e]})}function Z(a,b){ka[a]=ka[a]||[],ka[a].push(b),"update"===a.split(".")[0]&&ba.forEach(function(a,b){E("update",b)})}function $(a){var b=a&&a.split(".")[0],c=b&&a.substring(b.length);Object.keys(ka).forEach(function(a){var d=a.split(".")[0],e=a.substring(d.length);b&&b!==d||c&&c!==e||delete ka[a]})}function _(a,b){var c=W(),d=["margin","limit","range","animate","snap","step","format"];d.forEach(function(b){void 0!==a[b]&&(i[b]=a[b])});var f=Q(i);d.forEach(function(b){void 0!==a[b]&&(e[b]=f[b])}),f.spectrum.direction=ia.direction,ia=f.spectrum,e.margin=f.margin,e.limit=f.limit,ga=[],U(a.start||c,b)}var aa,ba,ca,da,ea=n(),fa=c,ga=[],ha=[],ia=e.spectrum,ja=[],ka={};if(fa.noUiSlider)throw new Error("Slider was already initialized.");return r(fa),q(e.connect,aa),da={destroy:X,steps:Y,on:Z,off:$,get:W,set:U,reset:V,__moveHandles:function(a,b,c){D(a,b,ga,c)},options:i,updateOptions:_,target:fa,pips:x},L(e.events),U(e.start),e.pips&&x(e.pips),e.tooltips&&t(),da}function S(a,b){if(!a.nodeName)throw new Error("noUiSlider.create requires a single element.");var c=Q(b,a),d=R(a,c,b);return a.noUiSlider=d,d}y.prototype.getMargin=function(a){var b=this.xNumSteps[0];if(b&&a%b)throw new Error("noUiSlider: 'limit' and 'margin' must be divisible by step.");return 2===this.xPct.length&&p(this.xVal,a)},y.prototype.toStepping=function(a){return a=t(this.xVal,this.xPct,a)},y.prototype.fromStepping=function(a){return u(this.xVal,this.xPct,a)},y.prototype.getStep=function(a){return a=v(this.xPct,this.xSteps,this.snap,a)},y.prototype.getNearbySteps=function(a){var b=s(a,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-1]},stepAfter:{startValue:this.xVal[b-0],step:this.xNumSteps[b-0],highestStep:this.xHighestCompleteStep[b-0]}}},y.prototype.countStepDecimals=function(){var a=this.xNumSteps.map(i);return Math.max.apply(null,a)},y.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var T={to:function(a){return void 0!==a&&a.toFixed(2)},from:Number};return{create:S}});

/* wNumb.js - 1.0.2 - https://refreshless.com/wnumb/ */
!function(){"use strict";function b(a){return a.split("").reverse().join("")}function c(a,b){return a.substring(0,b.length)===b}function d(a,b){return a.slice(-1*b.length)===b}function e(a,b,c){if((a[b]||a[c])&&a[b]===a[c])throw new Error(b)}function f(a){return"number"==typeof a&&isFinite(a)}function g(a,b){var c=Math.pow(10,b);return(Math.round(a*c)/c).toFixed(b)}function h(a,c,d,e,h,i,j,k,l,m,n,o){var q,r,s,p=o,t="",u="";return i&&(o=i(o)),!!f(o)&&(a!==!1&&0===parseFloat(o.toFixed(a))&&(o=0),o<0&&(q=!0,o=Math.abs(o)),a!==!1&&(o=g(o,a)),o=o.toString(),o.indexOf(".")!==-1?(r=o.split("."),s=r[0],d&&(t=d+r[1])):s=o,c&&(s=b(s).match(/.{1,3}/g),s=b(s.join(b(c)))),q&&k&&(u+=k),e&&(u+=e),q&&l&&(u+=l),u+=s,u+=t,h&&(u+=h),m&&(u=m(u,p)),u)}function i(a,b,e,g,h,i,j,k,l,m,n,o){var q,r="";return n&&(o=n(o)),!(!o||"string"!=typeof o)&&(k&&c(o,k)&&(o=o.replace(k,""),q=!0),g&&c(o,g)&&(o=o.replace(g,"")),l&&c(o,l)&&(o=o.replace(l,""),q=!0),h&&d(o,h)&&(o=o.slice(0,-1*h.length)),b&&(o=o.split(b).join("")),e&&(o=o.replace(e,".")),q&&(r+="-"),r+=o,r=r.replace(/[^0-9\.\-.]/g,""),""!==r&&(r=Number(r),j&&(r=j(r)),!!f(r)&&r))}function j(b){var c,d,f,g={};for(c=0;c<a.length;c+=1)if(d=a[c],f=b[d],void 0===f)"negative"!==d||g.negativeBefore?"mark"===d&&"."!==g.thousand?g[d]=".":g[d]=!1:g[d]="-";else if("decimals"===d){if(!(f>=0&&f<8))throw new Error(d);g[d]=f}else if("encoder"===d||"decoder"===d||"edit"===d||"undo"===d){if("function"!=typeof f)throw new Error(d);g[d]=f}else{if("string"!=typeof f)throw new Error(d);g[d]=f}return e(g,"mark","thousand"),e(g,"prefix","negative"),e(g,"prefix","negativeBefore"),g}function k(b,c,d){var e,f=[];for(e=0;e<a.length;e+=1)f.push(b[a[e]]);return f.push(d),c.apply("",f)}function l(a){return this instanceof l?void("object"==typeof a&&(a=j(a),this.to=function(b){return k(a,h,b)},this.from=function(b){return k(a,i,b)})):new l(a)}var a=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=l}();

/* WPVR SELECTIZE MINIFIED SCRIPTS */
!function(e,t){"function"==typeof define&&define.amd?define("sifter",t):"object"==typeof exports?module.exports=t():e.Sifter=t()}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(e=i(String(e||"").toLowerCase()),!e||!e.length)return[];var t,n,r,a,l=[],u=e.split(/ +/);for(t=0,n=u.length;n>t;t++){if(r=o(u[t]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(r=r.replace(new RegExp(a,"g"),s[a]));l.push({string:u[t],regex:new RegExp(r,"i")})}return l},e.prototype.iterator=function(e,t){var n;n=r(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;n>t;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,i,o,r;n=this,e=n.prepareSearch(e,t),o=e.tokens,i=e.options.fields,r=o.length;var s=function(e,t){var n,i;return e?(e=String(e||""),i=e.search(t.regex),-1===i?0:(n=t.string.length/e.length,0===i&&(n+=.5),n)):0},a=function(){var e=i.length;return e?1===e?function(e,t){return s(t[i[0]],e)}:function(t,n){for(var o=0,r=0;e>o;o++)r+=s(n[i[o]],t);return r/e}:function(){return 0}}();return r?1===r?function(e){return a(o[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,i=0;r>n;n++){if(t=a(o[n],e),0>=t)return 0;i+=t}return i/r}:function(e){for(var t=0,n=0;r>t;t++)n+=a(o[t],e);return n/r}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var i,o,r,s,a,l,u,p,c,d,h;if(r=this,e=r.prepareSearch(e,n),h=!e.query&&n.sort_empty||n.sort,c=function(e,t){return"$score"===e?t.score:r.items[t.id][e]},a=[],h)for(i=0,o=h.length;o>i;i++)(e.query||"$score"!==h[i].field)&&a.push(h[i]);if(e.query){for(d=!0,i=0,o=a.length;o>i;i++)if("$score"===a[i].field){d=!1;break}d&&a.unshift({field:"$score",direction:"desc"})}else for(i=0,o=a.length;o>i;i++)if("$score"===a[i].field){a.splice(i,1);break}for(p=[],i=0,o=a.length;o>i;i++)p.push("desc"===a[i].direction?-1:1);return l=a.length,l?1===l?(s=a[0].field,u=p[0],function(e,n){return u*t(c(s,e),c(s,n))}):function(e,n){var i,o,r;for(i=0;l>i;i++)if(r=a[i].field,o=p[i]*t(c(r,e),c(r,n)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var i=t.fields,o=t.sort,s=t.sort_empty;return i&&!r(i)&&(t.fields=[i]),o&&!r(o)&&(t.sort=[o]),s&&!r(s)&&(t.sort_empty=[s]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,i,o,r,s=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,r=t.score||s.getScoreFunction(i),e.length?s.iterator(s.items,function(e,o){n=r(e),(t.filter===!1||n>0)&&i.items.push({score:n,id:o})}):s.iterator(s.items,function(e,t){i.items.push({score:1,id:t})}),o=s.getSortFunction(i,t),o&&i.items.sort(o),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:t>e?-1:0:(e=a(String(e||"")),t=a(String(t||"")),e>t?1:t>e?-1:0)},n=function(e){var t,n,i,o;for(t=1,n=arguments.length;n>t;t++)if(o=arguments[t])for(i in o)o.hasOwnProperty(i)&&(e[i]=o[i]);return e},i=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},r=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[aÀÁÂÃÄÅàáâãäåAaaA]",c:"[cÇçcCcC]",d:"[ddÐdD]",e:"[eÈÉÊËèéêëeEEeeE]",i:"[iÌÍÎÏìíîïIi]",l:"[llL]",n:"[nÑñnNnN]",o:"[oÒÓÔÕÕÖØòóôõöøOo]",r:"[rrR]",s:"[sŠšsS]",t:"[ttT]",u:"[uÙÚÛÜùúûüuUUu]",y:"[yŸÿýÝ]",z:"[zŽžzZzZ]"},a=function(){var e,t,n,i,o="",r={};for(n in s)if(s.hasOwnProperty(n))for(i=s[n].substring(2,s[n].length-1),o+=i,e=0,t=i.length;t>e;e++)r[i.charAt(e)]=n;var a=new RegExp("["+o+"]","g");return function(e){return e.replace(a,function(e){return r[e]}).toLowerCase()}}();return e}),function(e,t){"function"==typeof define&&define.amd?define("microplugin",t):"object"==typeof exports?module.exports=t():e.MicroPlugin=t()}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,i,o,r=this,s=[];if(r.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,i=e.length;i>n;n++)"string"==typeof e[n]?s.push(e[n]):(r.plugins.settings[e[n].name]=e[n].options,s.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(r.plugins.settings[o]=e[o],s.push(o));for(;s.length;)r.require(s.shift())},e.prototype.loadPlugin=function(t){var n=this,i=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');i.requested[t]=!0,i.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),i.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(e,t){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],t):"object"==typeof exports?module.exports=t(require("jquery"),require("sifter"),require("microplugin")):e.Selectize=t(e.jQuery,e.Sifter,e.MicroPlugin)}(this,function(e,t,n){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var r=e.data.match(n),s=document.createElement("span");s.className="highlight";var a=e.splitText(o),l=(a.splitText(r[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var u=0;u<e.childNodes.length;++u)u+=i(e.childNodes[u]);return t};return e.each(function(){i(this)})}},o=function(){};o.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},o.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=o.prototype[t[n]]};var r=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,u=37,p=38,c=80,d=39,h=40,g=78,f=8,v=46,m=16,y=r?91:17,w=r?18:17,O=9,$=1,C=2,b=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,x=function(e){return"undefined"!=typeof e},S=function(e){return"undefined"==typeof e||null===e?null:"boolean"==typeof e?e?"1":"0":e+""},I=function(e){return(e+"").replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},_=function(e){return(e+"").replace(/\$/g,"$$$$")},F={};F.before=function(e,t,n){var i=e[t];e[t]=function(){return n.apply(e,arguments),i.apply(e,arguments)}},F.after=function(e,t,n){var i=e[t];e[t]=function(){var t=i.apply(e,arguments);return n.apply(e,arguments),t}};var D=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},A=function(e,t){var n;return function(){var i=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(i,o)},t)}},k=function(e,t,n){var i,o=e.trigger,r={};e.trigger=function(){var n=arguments[0];return-1===t.indexOf(n)?o.apply(e,arguments):void(r[n]=arguments)},n.apply(e,[]),e.trigger=o;for(i in r)r.hasOwnProperty(i)&&o.apply(e,r[i])},P=function(e,t,n,i){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,i.apply(this,[t])})},z=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-i,t.length=i}return t},T=function(e,t,n){var i,o,r={};if(n)for(i=0,o=n.length;o>i;i++)r[n[i]]=e.css(n[i]);else r=e.css();t.css(r)},j=function(t,n){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");T(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var o=i.width();return i.remove(),o},q=function(e){var t=null,n=function(n,i){var o,r,s,a,l,u,p,c;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||e.data("grow")!==!1)&&(o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(r=n.keyCode,s=r>=97&&122>=r||r>=65&&90>=r||r>=48&&57>=r||32===r,r===v||r===f?(c=z(e[0]),c.length?o=o.substring(0,c.start)+o.substring(c.start+c.length):r===f&&c.start?o=o.substring(0,c.start-1)+o.substring(c.start+1):r===v&&"undefined"!=typeof c.start&&(o=o.substring(0,c.start)+o.substring(c.start+1))):s&&(u=n.shiftKey,p=String.fromCharCode(n.keyCode),p=u?p.toUpperCase():p.toLowerCase(),o+=p)),a=e.attr("placeholder"),!o&&a&&(o=a),l=j(o,e)+4,l!==t&&(t=l,e.width(l),e.triggerHandler("resize")))};e.on("keydown keyup update blur",n),n()},E=function(n,i){var o,r,s,a,l=this;a=n[0],a.selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||n.parents("[dir]:first").attr("dir")||"",e.extend(l,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?$:C,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++E.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?l.onSearchChange:A(l.onSearchChange,i.loadThrottle)}),l.sifter=new t(this.options,{diacritics:i.diacritics}),l.settings.options){for(o=0,r=l.settings.options.length;r>o;o++)l.registerOption(l.settings.options[o]);delete l.settings.options}if(l.settings.optgroups){for(o=0,r=l.settings.optgroups.length;r>o;o++)l.registerOptionGroup(l.settings.optgroups[o]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return o.mixin(E),n.mixin(E),e.extend(E.prototype,{setup:function(){var t,n,i,o,s,a,l,u,p,c=this,d=c.settings,h=c.eventNS,g=e(window),f=e(document),v=c.$input;if(l=c.settings.mode,u=v.attr("class")||"",t=e("<div>").addClass(d.wrapperClass).addClass(u).addClass(l),n=e("<div>").addClass(d.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",v.is(":disabled")?"-1":c.tabIndex),a=e(d.dropdownParent||t),o=e("<div>").addClass(d.dropdownClass).addClass(l).hide().appendTo(a),s=e("<div>").addClass(d.dropdownContentClass).appendTo(o),c.settings.copyClassesToDropdown&&o.addClass(u),t.css({width:v[0].style.width}),c.plugins.names.length&&(p="plugin-"+c.plugins.names.join(" plugin-"),t.addClass(p),o.addClass(p)),(null===d.maxItems||d.maxItems>1)&&c.tagType===$&&v.attr("multiple","multiple"),c.settings.placeholder&&i.attr("placeholder",d.placeholder),!c.settings.splitOn&&c.settings.delimiter){var O=c.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");c.settings.splitOn=new RegExp("\\s*"+O+"+\\s*")}v.attr("autocorrect")&&i.attr("autocorrect",v.attr("autocorrect")),v.attr("autocapitalize")&&i.attr("autocapitalize",v.attr("autocapitalize")),c.$wrapper=t,c.$control=n,c.$control_input=i,c.$dropdown=o,c.$dropdown_content=s,o.on("mouseenter","[data-selectable]",function(){return c.onOptionHover.apply(c,arguments)}),o.on("mousedown click","[data-selectable]",function(){return c.onOptionSelect.apply(c,arguments)}),P(n,"mousedown","*:not(input)",function(){return c.onItemSelect.apply(c,arguments)}),q(i),n.on({mousedown:function(){return c.onMouseDown.apply(c,arguments)},click:function(){return c.onClick.apply(c,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return c.onKeyDown.apply(c,arguments)},keyup:function(){return c.onKeyUp.apply(c,arguments)},keypress:function(){return c.onKeyPress.apply(c,arguments)},resize:function(){c.positionDropdown.apply(c,[])},blur:function(){return c.onBlur.apply(c,arguments)},focus:function(){return c.ignoreBlur=!1,c.onFocus.apply(c,arguments)},paste:function(){return c.onPaste.apply(c,arguments)}}),f.on("keydown"+h,function(e){c.isCmdDown=e[r?"metaKey":"ctrlKey"],c.isCtrlDown=e[r?"altKey":"ctrlKey"],c.isShiftDown=e.shiftKey}),f.on("keyup"+h,function(e){e.keyCode===w&&(c.isCtrlDown=!1),e.keyCode===m&&(c.isShiftDown=!1),e.keyCode===y&&(c.isCmdDown=!1)}),f.on("mousedown"+h,function(e){if(c.isFocused){if(e.target===c.$dropdown[0]||e.target.parentNode===c.$dropdown[0])return!1;c.$control.has(e.target).length||e.target===c.$control[0]||c.blur(e.target)}}),g.on(["scroll"+h,"resize"+h].join(" "),function(){c.isOpen&&c.positionDropdown.apply(c,arguments)}),g.on("mousemove"+h,function(){c.ignoreHover=!1}),this.revertSettings={$children:v.children().detach(),tabindex:v.attr("tabindex")},v.attr("tabindex",-1).hide().after(c.$wrapper),e.isArray(d.items)&&(c.setValue(d.items),delete d.items),b&&v.on("invalid"+h,function(e){e.preventDefault(),c.isInvalid=!0,c.refreshState()}),c.updateOriginalInput(),c.refreshItems(),c.refreshState(),c.updatePlaceholder(),c.isSetup=!0,v.is(":disabled")&&c.disable(),c.on("change",this.onChange),v.data("selectize",c),v.addClass("selectized"),c.trigger("initialize"),d.preload===!0&&c.onSearchChange("")},setupTemplates:function(){var t=this,n=t.settings.labelField,i=t.settings.optgroupLabelField,o={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[i])+"</div>"},option:function(e,t){return'<div class="option">'+t(e[n])+"</div>"},item:function(e,t){return'<div class="item">'+t(e[n])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};t.settings.render=e.extend({},o,t.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]],t&&this.on(e,t))},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(t){{var n=this,i=t.isDefaultPrevented();e(t.target)}if(n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),i=0,o=t.length;o>i;i++)n.createItem(t[i])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){var t=(e.target===this.$control_input[0],this);if(t.isLocked)return void(e.keyCode!==O&&e.preventDefault());switch(e.keyCode){case s:if(t.isCmdDown)return void t.selectAll();break;case l:return void(t.isOpen&&(e.preventDefault(),e.stopPropagation(),t.close()));case g:if(!e.ctrlKey||e.altKey)break;case h:if(!t.isOpen&&t.hasOptions)t.open();else if(t.$activeOption){t.ignoreHover=!0;var n=t.getAdjacentOption(t.$activeOption,1);n.length&&t.setActiveOption(n,!0,!0)}return void e.preventDefault();case c:if(!e.ctrlKey||e.altKey)break;case p:if(t.$activeOption){t.ignoreHover=!0;var i=t.getAdjacentOption(t.$activeOption,-1);i.length&&t.setActiveOption(i,!0,!0)}return void e.preventDefault();case a:return void(t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),e.preventDefault()));case u:return void t.advanceSelection(-1,e);case d:return void t.advanceSelection(1,e);case O:return t.settings.selectOnTab&&t.isOpen&&t.$activeOption&&(t.onOptionSelect({currentTarget:t.$activeOption}),t.isFull()||e.preventDefault()),void(t.settings.create&&t.createItem()&&e.preventDefault());case f:case v:return void t.deleteSelection(e)}return!t.isFull()&&!t.isInputHidden||(r?e.metaKey:e.ctrlKey)?void 0:void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(i){n.apply(t,[e,i])})))},onFocus:function(e){var t=this,n=t.isFocused;return t.isDisabled?(t.blur(),e&&e.preventDefault(),!1):void(t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()))},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,i,o=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),i=e(t.currentTarget),i.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(n),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&o.setActiveOption(o.getOption(n))))},onItemSelect:function(e){var t=this;t.isLocked||"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input,n=t.val()!==e;n&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return this.tagType===$&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){var n=t?[]:["change"];k(this,n,function(){this.clear(),this.addItems(e,t)})},setActiveItem:function(t,n){var i,o,r,s,a,l,u,p,c=this;if("single"!==c.settings.mode){if(t=e(t),!t.length)return e(c.$activeItems).removeClass("active"),c.$activeItems=[],void(c.isFocused&&c.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&c.isShiftDown&&c.$activeItems.length){for(p=c.$control.children(".active:last"),s=Array.prototype.indexOf.apply(c.$control[0].childNodes,[p[0]]),a=Array.prototype.indexOf.apply(c.$control[0].childNodes,[t[0]]),s>a&&(u=s,s=a,a=u),o=s;a>=o;o++)l=c.$control[0].childNodes[o],-1===c.$activeItems.indexOf(l)&&(e(l).addClass("active"),c.$activeItems.push(l));n.preventDefault()}else"mousedown"===i&&c.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(r=c.$activeItems.indexOf(t[0]),c.$activeItems.splice(r,1),t.removeClass("active")):c.$activeItems.push(t.addClass("active")[0]):(e(c.$activeItems).removeClass("active"),c.$activeItems=[t.addClass("active")[0]]);c.hideInput(),this.isFocused||c.focus()}},setActiveOption:function(t,n,i){var o,r,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,t=e(t),t.length&&(u.$activeOption=t.addClass("active"),(n||!x(n))&&(o=u.$dropdown_content.height(),r=u.$activeOption.outerHeight(!0),n=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+n,a=s,l=s-o+r,s+r>o+n?u.$dropdown_content.stop().animate({scrollTop:l},i?u.settings.scrollDuration:0):n>s&&u.$dropdown_content.stop().animate({scrollTop:a},i?u.settings.scrollDuration:0)))},selectAll:function(){var e=this;"single"!==e.settings.mode&&(e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus())},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,i,o,r=this,s=r.settings,a=this.getSearchOptions();if(s.score&&(o=r.settings.score.apply(this,[t]),"function"!=typeof o))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==r.lastQuery?(r.lastQuery=t,i=r.sifter.search(t,e.extend(a,{score:o})),r.currentResults=i):i=e.extend(!0,{},r.currentResults),s.hideSelected)for(n=i.items.length-1;n>=0;n--)-1!==r.items.indexOf(S(i.items[n].id))&&i.items.splice(n,1);return i},refreshOptions:function(t){var n,o,r,s,a,l,u,p,c,d,h,g,f,v,m,y;"undefined"==typeof t&&(t=!0);var w=this,O=e.trim(w.$control_input.val()),$=w.search(O),C=w.$dropdown_content,b=w.$activeOption&&S(w.$activeOption.attr("data-value"));for(s=$.items.length,"number"==typeof w.settings.maxOptions&&(s=Math.min(s,w.settings.maxOptions)),a={},l=[],n=0;s>n;n++)for(u=w.options[$.items[n].id],p=w.render("option",u),c=u[w.settings.optgroupField]||"",d=e.isArray(c)?c:[c],o=0,r=d&&d.length;r>o;o++)c=d[o],w.optgroups.hasOwnProperty(c)||(c=""),a.hasOwnProperty(c)||(a[c]=[],l.push(c)),a[c].push(p);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){var n=w.optgroups[e].$order||0,i=w.optgroups[t].$order||0;return n-i}),h=[],n=0,s=l.length;s>n;n++)c=l[n],w.optgroups.hasOwnProperty(c)&&a[c].length?(g=w.render("optgroup_header",w.optgroups[c])||"",g+=a[c].join(""),h.push(w.render("optgroup",e.extend({},w.optgroups[c],{html:g})))):h.push(a[c].join(""));if(C.html(h.join("")),w.settings.highlight&&$.query.length&&$.tokens.length)for(n=0,s=$.tokens.length;s>n;n++)i(C,$.tokens[n].regex);if(!w.settings.hideSelected)for(n=0,s=w.items.length;s>n;n++)w.getOption(w.items[n]).addClass("selected");f=w.canCreate(O),f&&(C.prepend(w.render("option_create",{input:O})),y=e(C[0].childNodes[0])),w.hasOptions=$.items.length>0||f,w.hasOptions?($.items.length>0?(m=b&&w.getOption(b),m&&m.length?v=m:"single"===w.settings.mode&&w.items.length&&(v=w.getOption(w.items[0])),v&&v.length||(v=y&&!w.settings.addPrecedence?w.getAdjacentOption(y,1):C.find("[data-selectable]:first"))):v=y,w.setActiveOption(v),t&&!w.isOpen&&w.open()):(w.setActiveOption(null),t&&w.isOpen&&w.close())},addOption:function(t){var n,i,o,r=this;if(e.isArray(t))for(n=0,i=t.length;i>n;n++)r.addOption(t[n]);else(o=r.registerOption(t))&&(r.userOptions[o]=!0,r.lastQuery=null,r.trigger("option_add",o,t))},registerOption:function(e){var t=S(e[this.settings.valueField]);return!t||this.options.hasOwnProperty(t)?!1:(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=S(e[this.settings.optgroupValueField]);return t?(e.$order=e.$order||++this.order,this.optgroups[t]=e,t):!1},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var i,o,r,s,a,l,u,p=this;if(t=S(t),r=S(n[p.settings.valueField]),null!==t&&p.options.hasOwnProperty(t)){if("string"!=typeof r)throw new Error("Value must be set in option data");u=p.options[t].$order,r!==t&&(delete p.options[t],s=p.items.indexOf(t),-1!==s&&p.items.splice(s,1,r)),n.$order=n.$order||u,p.options[r]=n,a=p.renderCache.item,l=p.renderCache.option,a&&(delete a[t],delete a[r]),l&&(delete l[t],delete l[r]),-1!==p.items.indexOf(r)&&(i=p.getItem(t),o=e(p.render("item",n)),i.hasClass("active")&&o.addClass("active"),i.replaceWith(o)),p.lastQuery=null,p.isOpen&&p.refreshOptions(!1)}},removeOption:function(e,t){var n=this;e=S(e);var i=n.renderCache.item,o=n.renderCache.option;i&&delete i[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var i=this.$dropdown.find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},getElementWithValue:function(t,n){if(t=S(t),"undefined"!=typeof t&&null!==t)for(var i=0,o=n.length;o>i;i++)if(n[i].getAttribute("data-value")===t)return e(n[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var i=e.isArray(t)?t:[t],o=0,r=i.length;r>o;o++)this.isPending=r-1>o,this.addItem(i[o],n)},addItem:function(t,n){var i=n?[]:["change"];k(this,i,function(){var i,o,r,s,a,l=this,u=l.settings.mode;return t=S(t),-1!==l.items.indexOf(t)?void("single"===u&&l.close()):void(l.options.hasOwnProperty(t)&&("single"===u&&l.clear(),"multi"===u&&l.isFull()||(i=e(l.render("item",l.options[t])),a=l.isFull(),l.items.splice(l.caretPos,0,t),l.insertAtCaret(i),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(r=l.$dropdown_content.find("[data-selectable]"),l.isPending||(o=l.getOption(t),s=l.getAdjacentOption(o,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),s&&l.setActiveOption(l.getOption(s))),!r.length||l.isFull()?l.close():l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",t,i),l.updateOriginalInput({silent:n})))))})},removeItem:function(e,t){var n,i,o,r=this;n="object"==typeof e?e:r.getItem(e),e=S(n.attr("data-value")),i=r.items.indexOf(e),-1!==i&&(n.remove(),n.hasClass("active")&&(o=r.$activeItems.indexOf(n[0]),r.$activeItems.splice(o,1)),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(e)&&r.removeOption(e,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.refreshState(),r.updatePlaceholder(),r.updateOriginalInput({silent:t}),r.positionDropdown(),r.trigger("item_remove",e,n))},createItem:function(t,n){var i=this,o=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var r=arguments[arguments.length-1];if("function"!=typeof r&&(r=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(t))return r(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},a=D(function(e){if(i.unlock(),!e||"object"!=typeof e)return r();var t=S(e[i.settings.valueField]);return"string"!=typeof t?r():(i.setTextboxValue(""),i.addOption(e),i.setCaret(o),i.addItem(t),i.refreshOptions(n&&"single"!==i.settings.mode),void r(e))}),l=s.apply(this,[t,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",e)),t.refreshClasses()},refreshClasses:function(){var t=this,n=t.isFull(),i=t.isLocked;t.$wrapper.toggleClass("rtl",t.rtl),t.$control.toggleClass("focus",t.isFocused).toggleClass("disabled",t.isDisabled).toggleClass("required",t.isRequired).toggleClass("invalid",t.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",t.isFocused&&!t.isInputHidden).toggleClass("dropdown-active",t.isOpen).toggleClass("has-options",!e.isEmptyObject(t.options)).toggleClass("has-items",t.items.length>0),t.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,i,o,r=this;if(e=e||{},r.tagType===$){for(i=[],t=0,n=r.items.length;n>t;t++)o=r.options[r.items[t]][r.settings.labelField]||"",i.push('<option value="'+I(r.items[t])+'" selected="selected">'+I(o)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),r.$input.html(i.join(""))}else r.$input.val(r.getValue()),r.$input.attr("value",r.$input.val());r.isSetup&&(e.silent||r.trigger("change",r.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown))},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;t.items.length&&(t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t){var n,i,o,r,s,a,l,u,p,c=this;if(o=t&&t.keyCode===f?-1:1,r=z(c.$control_input[0]),c.$activeOption&&!c.settings.hideSelected&&(l=c.getAdjacentOption(c.$activeOption,-1).attr("data-value")),s=[],c.$activeItems.length){for(p=c.$control.children(".active:"+(o>0?"last":"first")),a=c.$control.children(":not(input)").index(p),o>0&&a++,n=0,i=c.$activeItems.length;i>n;n++)s.push(e(c.$activeItems[n]).attr("data-value"));
    t&&(t.preventDefault(),t.stopPropagation())}else(c.isFocused||"single"===c.settings.mode)&&c.items.length&&(0>o&&0===r.start&&0===r.length?s.push(c.items[c.caretPos-1]):o>0&&r.start===c.$control_input.val().length&&s.push(c.items[c.caretPos]));if(!s.length||"function"==typeof c.settings.onDelete&&c.settings.onDelete.apply(c,[s])===!1)return!1;for("undefined"!=typeof a&&c.setCaret(a);s.length;)c.removeItem(s.pop());return c.showInput(),c.positionDropdown(),c.refreshOptions(!0),l&&(u=c.getOption(l),u.length&&c.setActiveOption(u)),!0},advanceSelection:function(e,t){var n,i,o,r,s,a,l=this;0!==e&&(l.rtl&&(e*=-1),n=e>0?"last":"first",i=z(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(r=l.$control_input.val().length,s=0>e?0===i.start&&0===i.length:i.start===r,s&&!r&&l.advanceCaret(e,t)):(a=l.$control.children(".active:"+n),a.length&&(o=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(e>0?o+1:o))))},advanceCaret:function(e,t){var n,i,o=this;0!==e&&(n=e>0?"next":"prev",o.isShiftDown?(i=o.$control_input[n](),i.length&&(o.hideInput(),o.setActiveItem(i),t&&t.preventDefault())):o.setCaret(o.caretPos+e))},setCaret:function(t){var n=this;if(t="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,t)),!n.isPending){var i,o,r,s;for(r=n.$control.children(":not(input)"),i=0,o=r.length;o>i;i++)s=e(r[i]).detach(),t>i?n.$control_input.before(s):n.$control.append(s)}n.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var t=this,n=t.eventNS,i=t.revertSettings;t.trigger("destroy"),t.off(),t.$wrapper.remove(),t.$dropdown.remove(),t.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),t.$control_input.removeData("grow"),t.$input.removeData("selectize"),e(window).off(n),e(document).off(n),e(document.body).off(n),delete t.$input[0].selectize},render:function(e,t){var n,i,o="",r=!1,s=this,a=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return("option"===e||"item"===e)&&(n=S(t[s.settings.valueField]),r=!!n),r&&(x(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(n))?s.renderCache[e][n]:(o=s.settings.render[e].apply(this,[t,I]),("option"===e||"option_create"===e)&&(o=o.replace(a,"<$1 data-selectable")),"optgroup"===e&&(i=t[s.settings.optgroupValueField]||"",o=o.replace(a,'<$1 data-group="'+_(I(i))+'"')),("option"===e||"item"===e)&&(o=o.replace(a,'<$1 data-value="'+_(I(n||""))+'"')),r&&(s.renderCache[e][n]=o),o)},clearCache:function(e){var t=this;"undefined"==typeof e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return!(!e.length||"function"==typeof n&&!n.apply(t,[e])||"string"==typeof n&&!new RegExp(n).test(e)||n instanceof RegExp&&!n.test(e))}}),E.count=0,E.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,i=e.extend({},n,t),o=i.dataAttr,r=i.labelField,s=i.valueField,a=i.optgroupField,l=i.optgroupLabelField,u=i.optgroupValueField,p={},c=function(t,n){var a,l,u,p,c=t.attr(o);if(c)for(n.options=JSON.parse(c),a=0,l=n.options.length;l>a;a++)n.items.push(n.options[a][s]);else{var d=e.trim(t.val()||"");if(!i.allowEmptyOption&&!d.length)return;for(u=d.split(i.delimiter),a=0,l=u.length;l>a;a++)p={},p[r]=u[a],p[s]=u[a],n.options.push(p);n.items=u}},d=function(t,n){var c,d,h,g,f=n.options,v=function(e){var t=o&&e.attr(o);return"string"==typeof t&&t.length?JSON.parse(t):null},m=function(t,o){t=e(t);var l=S(t.attr("value"));if(l||i.allowEmptyOption)if(p.hasOwnProperty(l)){if(o){var u=p[l][a];u?e.isArray(u)?u.push(o):p[l][a]=[u,o]:p[l][a]=o}}else{var c=v(t)||{};c[r]=c[r]||t.text(),c[s]=c[s]||l,c[a]=c[a]||o,p[l]=c,f.push(c),t.is(":selected")&&n.items.push(l)}},y=function(t){var i,o,r,s,a;for(t=e(t),r=t.attr("label"),r&&(s=v(t)||{},s[l]=r,s[u]=r,n.optgroups.push(s)),a=e("option",t),i=0,o=a.length;o>i;i++)m(a[i],r)};for(n.maxItems=t.attr("multiple")?null:1,g=t.children(),c=0,d=g.length;d>c;c++)h=g[c].tagName.toLowerCase(),"optgroup"===h?y(g[c]):"option"===h&&m(g[c])};return this.each(function(){if(!this.selectize){var o,r=e(this),s=this.tagName.toLowerCase(),a=r.attr("placeholder")||r.attr("data-placeholder");a||i.allowEmptyOption||(a=r.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?d(r,l):c(r,l),o=new E(r,e.extend(!0,{},n,l,t))}})},e.fn.selectize.defaults=E.defaults,e.fn.selectize.support={validity:b},E.define("drag_drop",function(){if(!e.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var t=this;t.lock=function(){var e=t.lock;return function(){var n=t.$control.data("sortable");return n&&n.disable(),e.apply(t,arguments)}}(),t.unlock=function(){var e=t.unlock;return function(){var n=t.$control.data("sortable");return n&&n.enable(),e.apply(t,arguments)}}(),t.setup=function(){var n=t.setup;return function(){n.apply(this,arguments);var i=t.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:t.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var n=t.$activeItems?t.$activeItems.slice():null,o=[];i.children("[data-value]").each(function(){o.push(e(this).attr("data-value"))}),t.setValue(o),t.setActiveItem(n)}})}}()}}),E.define("dropdown_header",function(t){var n=this;t=e.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},t),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=e(t.html(t)),n.$dropdown.prepend(n.$dropdown_header)}}()}),E.define("optgroup_columns",function(t){var n=this;t=e.extend({equalizeWidth:!0,equalizeHeight:!0},t),this.getAdjacentOption=function(t,n){var i=t.closest("[data-group]").find("[data-selectable]"),o=i.index(t)+n;return o>=0&&o<i.length?i.eq(o):e()},this.onKeyDown=function(){var e=n.onKeyDown;return function(t){var i,o,r,s;return!this.isOpen||t.keyCode!==u&&t.keyCode!==d?e.apply(this,arguments):(n.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),i=s.find("[data-selectable]").index(this.$activeOption),s=t.keyCode===u?s.prev("[data-group]"):s.next("[data-group]"),r=s.find("[data-selectable]"),o=r.eq(Math.min(r.length-1,i)),void(o.length&&this.setActiveOption(o)))}}();var i=function(){var e,t=i.width,n=document;return"undefined"==typeof t&&(e=n.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,n.body.appendChild(e),t=i.width=e.offsetWidth-e.clientWidth,n.body.removeChild(e)),t},o=function(){var o,r,s,a,l,u,p;if(p=e("[data-group]",n.$dropdown_content),r=p.length,r&&n.$dropdown_content.width()){if(t.equalizeHeight){for(s=0,o=0;r>o;o++)s=Math.max(s,p.eq(o).height());p.css({height:s})}t.equalizeWidth&&(u=n.$dropdown_content.innerWidth()-i(),a=Math.round(u/r),p.css({width:a}),r>1&&(l=u-a*(r-1),p.eq(r-1).css({width:l})))}};(t.equalizeHeight||t.equalizeWidth)&&(F.after(this,"positionDropdown",o),F.after(this,"refreshOptions",o))}),E.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+I(t.title)+'">'+t.label+"</a>",o=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var r=n.setup;return function(){if(t.append){var s=n.settings.render.item;n.settings.render.item=function(){return o(s.apply(this,arguments),i)}}r.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!n.isLocked){var i=e(t.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()}}),E.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var i,o;return t.keyCode===f&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(o=this.options[this.items[i]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault()):n.apply(this,arguments)}}()}),E});

/* Timeline.js - v2.08 - www.melonhtml5.com  */
(function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){u(a),g(this,a)}function f(a){var b=o(a),c=b.year||0,d=b.month||0,e=b.week||0,f=b.day||0,g=b.hour||0,h=b.minute||0,i=b.second||0,j=b.millisecond||0;this._milliseconds=+j+1e3*i+6e4*h+36e5*g,this._days=+f+7*e,this._months=+d+12*c,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b,c){for(var d=Math.abs(a)+"",e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function j(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&cb.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function m(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function n(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Qb[a]||Rb[b]||b}return a}function o(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=n(c),b&&(d[b]=a[c]));return d}function p(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}cb[b]=function(e,f){var g,h,i=cb.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=cb().utc().set(d,a);return i.call(cb.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function r(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function s(a){return t(a)?366:365}function t(a){return a%4===0&&a%100!==0||a%400===0}function u(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[ib]<0||a._a[ib]>11?ib:a._a[jb]<1||a._a[jb]>r(a._a[hb],a._a[ib])?jb:a._a[kb]<0||a._a[kb]>23?kb:a._a[lb]<0||a._a[lb]>59?lb:a._a[mb]<0||a._a[mb]>59?mb:a._a[nb]<0||a._a[nb]>999?nb:-1,a._pf._overflowDayOfYear&&(hb>b||b>jb)&&(b=jb),a._pf.overflow=b)}function v(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function w(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function x(a){return a?a.toLowerCase().replace("_","-"):a}function y(a,b){return b._isUTC?cb(a).zone(b._offset||0):cb(a).local()}function z(a,b){return b.abbr=a,ob[a]||(ob[a]=new d),ob[a].set(b),ob[a]}function A(a){delete ob[a]}function B(a){var b,c,d,e,f=0,g=function(a){if(!ob[a]&&pb)try{require("./lang/"+a)}catch(b){}return ob[a]};if(!a)return cb.fn._lang;if(!k(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=x(a[f]).split("-"),b=e.length,d=x(a[f+1]),d=d?d.split("-"):null;b>0;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&m(e,d,!0)>=b-1)break;b--}f++}return cb.fn._lang}function C(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function D(a){var b,c,d=a.match(tb);for(b=0,c=d.length;c>b;b++)d[b]=Vb[d[b]]?Vb[d[b]]:C(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function E(a,b){return a.isValid()?(b=F(b,a.lang()),Sb[b]||(Sb[b]=D(b)),Sb[b](a)):a.lang().invalidDate()}function F(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(ub.lastIndex=0;d>=0&&ub.test(a);)a=a.replace(ub,c),ub.lastIndex=0,d-=1;return a}function G(a,b){var c,d=b._strict;switch(a){case"DDDD":return Gb;case"YYYY":case"GGGG":case"gggg":return d?Hb:xb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?Ib:yb;case"S":if(d)return Eb;case"SS":if(d)return Fb;case"SSS":case"DDD":return d?Gb:wb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ab;case"a":case"A":return B(b._l)._meridiemParse;case"X":return Db;case"Z":case"ZZ":return Bb;case"T":return Cb;case"SSSS":return zb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?Fb:vb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return d?Eb:vb;default:return c=new RegExp(O(N(a.replace("\\","")),"i"))}}function H(a){a=a||"";var b=a.match(Bb)||[],c=b[b.length-1]||[],d=(c+"").match(Nb)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?-e:e}function I(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[ib]=q(b)-1);break;case"MMM":case"MMMM":d=B(c._l).monthsParse(b),null!=d?e[ib]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[jb]=q(b));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=q(b));break;case"YY":e[hb]=q(b)+(q(b)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":e[hb]=q(b);break;case"a":case"A":c._isPm=B(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[kb]=q(b);break;case"m":case"mm":e[lb]=q(b);break;case"s":case"ss":e[mb]=q(b);break;case"S":case"SS":case"SSS":case"SSSS":e[nb]=q(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=H(b);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a=a.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function J(a){var b,c,d,e,f,g,h,i,j,k,l=[];if(!a._d){for(d=L(a),a._w&&null==a._a[jb]&&null==a._a[ib]&&(f=function(b){var c=parseInt(b,10);return b?b.length<3?c>68?1900+c:2e3+c:c:null==a._a[hb]?cb().weekYear():a._a[hb]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?h=Y(f(g.GG),g.W||1,g.E,4,1):(i=B(a._l),j=null!=g.d?U(g.d,i):null!=g.e?parseInt(g.e,10)+i._week.dow:0,k=parseInt(g.w,10)||1,null!=g.d&&j<i._week.dow&&k++,h=Y(f(g.gg),k,j,i._week.doy,i._week.dow)),a._a[hb]=h.year,a._dayOfYear=h.dayOfYear),a._dayOfYear&&(e=null==a._a[hb]?d[hb]:a._a[hb],a._dayOfYear>s(e)&&(a._pf._overflowDayOfYear=!0),c=T(e,0,a._dayOfYear),a._a[ib]=c.getUTCMonth(),a._a[jb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=l[b]=d[b];for(;7>b;b++)a._a[b]=l[b]=null==a._a[b]?2===b?1:0:a._a[b];l[kb]+=q((a._tzm||0)/60),l[lb]+=q((a._tzm||0)%60),a._d=(a._useUTC?T:S).apply(null,l)}}function K(a){var b;a._d||(b=o(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],J(a))}function L(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function M(a){a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=B(a._l),h=""+a._i,i=h.length,j=0;for(d=F(a._f,g).match(tb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(G(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),Vb[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),I(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[kb]<12&&(a._a[kb]+=12),a._isPm===!1&&12===a._a[kb]&&(a._a[kb]=0),J(a),u(a)}function N(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function O(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function P(a){var b,c,d,e,f;if(0===a._f.length)return a._pf.invalidFormat=!0,a._d=new Date(0/0),void 0;for(e=0;e<a._f.length;e++)f=0,b=g({},a),v(b),b._f=a._f[e],M(b),w(b)&&(f+=b._pf.charsLeftOver,f+=10*b._pf.unusedTokens.length,b._pf.score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function Q(a){var b,c=a._i,d=Jb.exec(c);if(d){for(a._pf.iso=!0,b=4;b>0;b--)if(d[b]){a._f=Lb[b-1]+(d[6]||" ");break}for(b=0;4>b;b++)if(Mb[b][1].exec(c)){a._f+=Mb[b][0];break}c.match(Bb)&&(a._f+="Z"),M(a)}else a._d=new Date(c)}function R(b){var c=b._i,d=qb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?Q(b):k(c)?(b._a=c.slice(0),J(b)):l(c)?b._d=new Date(+c):"object"==typeof c?K(b):b._d=new Date(c)}function S(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function T(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function U(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function V(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function W(a,b,c){var d=gb(Math.abs(a)/1e3),e=gb(d/60),f=gb(e/60),g=gb(f/24),h=gb(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",gb(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,V.apply({},i)}function X(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=cb(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function Y(a,b,c,d,e){var f,g,h=new Date(i(a,6,!0)+"-01-01").getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:s(a-1)+g}}function Z(a){var b=a._i,c=a._f;return"undefined"==typeof a._pf&&v(a),null===b?cb.invalid({nullInput:!0}):("string"==typeof b&&(a._i=b=B().preparse(b)),cb.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?P(a):M(a):R(a),new e(a))}function $(a,b){cb.fn[a]=cb.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),cb.updateOffset(this),this):this._d["get"+c+b]()}}function _(a){cb.duration.fn[a]=function(){return this._data[a]}}function ab(a,b){cb.duration.fn["as"+a]=function(){return+this/b}}function bb(a){var b=!1,c=cb;"undefined"==typeof ender&&(a?(fb.moment=function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),c.apply(null,arguments)},g(fb.moment,c)):fb.moment=cb)}for(var cb,db,eb="2.5.0",fb=this,gb=Math.round,hb=0,ib=1,jb=2,kb=3,lb=4,mb=5,nb=6,ob={},pb="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,qb=/^\/?Date\((\-?\d+)/i,rb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,sb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,tb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ub=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,vb=/\d\d?/,wb=/\d{1,3}/,xb=/\d{1,4}/,yb=/[+\-]?\d{1,6}/,zb=/\d+/,Ab=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Bb=/Z|[\+\-]\d\d:?\d\d/gi,Cb=/T/i,Db=/[\+\-]?\d+(\.\d{1,3})?/,Eb=/\d/,Fb=/\d\d/,Gb=/\d{3}/,Hb=/\d{4}/,Ib=/[+\-]?\d{6}/,Jb=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kb="YYYY-MM-DDTHH:mm:ssZ",Lb=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Mb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Nb=/([\+\-]|\d\d)/gi,Ob="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Pb={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Qb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Rb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Sb={},Tb="DDD w W M D d".split(" "),Ub="M D H h m s w W".split(" "),Vb={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+i(Math.abs(a),6)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return q(this.milliseconds()/100)},SS:function(){return i(q(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},SSSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(q(a/60),2)+":"+i(q(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(q(a/60),2)+i(q(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Wb=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Tb.length;)db=Tb.pop(),Vb[db+"o"]=c(Vb[db],db);for(;Ub.length;)db=Ub.pop(),Vb[db+db]=b(Vb[db],2);for(Vb.DDDD=b(Vb.DDD,3),g(d.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=cb.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=cb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return X(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),cb=function(b,c,d,e){return"boolean"==typeof d&&(e=d,d=a),Z({_i:b,_f:c,_l:d,_strict:e,_isUTC:!1})},cb.utc=function(b,c,d,e){var f;return"boolean"==typeof d&&(e=d,d=a),f=Z({_useUTC:!0,_isUTC:!0,_l:d,_i:b,_f:c,_strict:e}).utc()},cb.unix=function(a){return cb(1e3*a)},cb.duration=function(a,b){var c,d,e,g=a,h=null;return cb.isDuration(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=rb.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[jb])*c,h:q(h[kb])*c,m:q(h[lb])*c,s:q(h[mb])*c,ms:q(h[nb])*c}):(h=sb.exec(a))&&(c="-"===h[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},g={y:e(h[2]),M:e(h[3]),d:e(h[4]),h:e(h[5]),m:e(h[6]),s:e(h[7]),w:e(h[8])}),d=new f(g),cb.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},cb.version=eb,cb.defaultFormat=Kb,cb.updateOffset=function(){},cb.lang=function(a,b){var c;return a?(b?z(x(a),b):null===b?(A(a),a="en"):ob[a]||B(a),c=cb.duration.fn._lang=cb.fn._lang=B(a),c._abbr):cb.fn._lang._abbr},cb.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),B(a)},cb.isMoment=function(a){return a instanceof e},cb.isDuration=function(a){return a instanceof f},db=Wb.length-1;db>=0;--db)p(Wb[db]);for(cb.normalizeUnits=function(a){return n(a)},cb.invalid=function(a){var b=cb.utc(0/0);return null!=a?g(b._pf,a):b._pf.userInvalidated=!0,b},cb.parseZone=function(a){return cb(a).parseZone()},g(cb.fn=e.prototype,{clone:function(){return cb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=cb(this).utc();return 0<a.year()&&a.year()<=9999?E(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):E(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return w(this)},isDSTShifted:function(){return this._a?this.isValid()&&m(this._a,(this._isUTC?cb.utc(this._a):cb(this._a)).toArray())>0:!1},parsingFlags:function(){return g({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=E(this,a||cb.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?cb.duration(+b,a):cb.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?cb.duration(+b,a):cb.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d,e,f=y(a,this),g=6e4*(this.zone()-f.zone());return b=n(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-cb(this).startOf("month")-(f-cb(f).startOf("month")))/d,e-=6e4*(this.zone()-cb(this).startOf("month").zone()-(f.zone()-cb(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:h(e)},from:function(a,b){return cb.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(cb(),a)},calendar:function(){var a=y(cb(),this).startOf("day"),b=this.diff(a,"days",!0),c=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.lang().calendar(c,this))},isLeapYear:function(){return t(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=U(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),cb.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=n(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=n(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+cb(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+cb(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+y(a,this).startOf(b)},min:function(a){return a=cb.apply(null,arguments),this>a?this:a},max:function(a){return a=cb.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=H(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&j(this,cb.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?cb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return r(this.year(),this.month())},dayOfYear:function(a){var b=gb((cb(this).startOf("day")-cb(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(a){var b=X(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=X(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=X(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=n(a),this[a]()},set:function(a,b){return a=n(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=B(b),this)}}),db=0;db<Ob.length;db++)$(Ob[db].toLowerCase().replace(/s$/,""),Ob[db]);$("year","FullYear"),cb.fn.days=cb.fn.day,cb.fn.months=cb.fn.month,cb.fn.weeks=cb.fn.week,cb.fn.isoWeeks=cb.fn.isoWeek,cb.fn.toJSON=cb.fn.toISOString,g(cb.duration.fn=f.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,i=this._data;i.milliseconds=e%1e3,a=h(e/1e3),i.seconds=a%60,b=h(a/60),i.minutes=b%60,c=h(b/60),i.hours=c%24,f+=h(c/24),i.days=f%30,g+=h(f/30),i.months=g%12,d=h(g/12),i.years=d},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)},humanize:function(a){var b=+this,c=W(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=cb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=cb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=n(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=n(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:cb.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(db in Pb)Pb.hasOwnProperty(db)&&(ab(db,Pb[db]),_(db.toLowerCase()));ab("Weeks",6048e5),cb.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},cb.lang("en",{ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),pb?(module.exports=cb,bb(!0)):"function"==typeof define&&define.amd?define("moment",function(b,c,d){return d.config&&d.config()&&d.config().noGlobal!==!0&&bb(d.config().noGlobal===a),cb}):bb()}).call(this);
(function($){var h=$.scrollTo=function(a,b,c){$(window).scrollTo(a,b,c)};h.defaults={axis:'xy',duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:true};h.window=function(a){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var a=this,isWin=!a.nodeName||$.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!isWin)return a;var b=(a.contentWindow||a).document||a.ownerDocument||a;return/webkit/i.test(navigator.userAgent)||b.compatMode=='BackCompat'?b.body:b.documentElement})};$.fn.scrollTo=function(e,f,g){if(typeof f=='object'){g=f;f=0}if(typeof g=='function')g={onAfter:g};if(e=='max')e=9e9;g=$.extend({},h.defaults,g);f=f||g.duration;g.queue=g.queue&&g.axis.length>1;if(g.queue)f/=2;g.offset=both(g.offset);g.over=both(g.over);return this._scrollable().each(function(){if(e==null)return;var d=this,$elem=$(d),targ=e,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);if(!targ.length)return;case'object':if(targ.is||targ.style)toff=(targ=$(targ)).offset()}$.each(g.axis.split(''),function(i,a){var b=a=='x'?'Left':'Top',pos=b.toLowerCase(),key='scroll'+b,old=d[key],max=h.max(d,a);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(g.margin){attr[key]-=parseInt(targ.css('margin'+b))||0;attr[key]-=parseInt(targ.css('border'+b+'Width'))||0}attr[key]+=g.offset[pos]||0;if(g.over[pos])attr[key]+=targ[a=='x'?'width':'height']()*g.over[pos]}else{var c=targ[pos];attr[key]=c.slice&&c.slice(-1)=='%'?parseFloat(c)/100*max:c}if(g.limit&&/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&g.queue){if(old!=attr[key])animate(g.onAfterFirst);delete attr[key]}});animate(g.onAfter);function animate(a){$elem.animate(attr,f,g.easing,a&&function(){a.call(this,e,g)})}}).end()};h.max=function(a,b){var c=b=='x'?'Width':'Height',scroll='scroll'+c;if(!$(a).is('html,body'))return a[scroll]-$(a)[c.toLowerCase()]();var d='client'+c,html=a.ownerDocument.documentElement,body=a.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[d],body[d])};function both(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);
/* Timeline Additions */
function Timeline(a,b,c,d){c===d&&(c=jQuery);var e=this,f=c(document.body);this._container=null,this._spine=null,this._overlay=null,this._lightbox=null,this._original_data=b?c.extend(!0,[],b):[],this._data=[],this._responsive=!1,this._options={dateFormat:"DD MMMM YYYY",first_separator:!1,separator:"year",columnMode:"dual",order:"desc",responsive_width:null,animation:!0,lightbox:!0,max:null,loadmore:0,facebookAppId:null,facebookAccessToken:null,facebookPageId:null,twitterSearchKey:null,onSearchSuccess:null,onSearchError:null},this._years=[],this._months=[],this._readmore_text="Read More",this._loadmore_text="Load More",this._month_translation=["January","February","March","April","May","June","July","August","September","October","November","December"],this._spine_margin=100,this._facebook_content_length=300,this._facebook_description_length=150,this._elements=[],this._separators=[],this._iframe_queue=[],this._lightbox_loading=!1,this._use_css3=function(){var a=document.body.style;if("string"==typeof a.transition)return!0;for(var b=["Webkit","Moz","Khtml","O","ms"],c=0;c<b.length;c++)if("string"==typeof a[b[c]+"Transition"])return!0;return!1}(),this._default_element_data={type:"blog_post",date:"2000-01-01",dateFormat:null,title:null,images:[],content:null,readmore:null,speed:null,height:300,url:null},this._transitionEnd=function(a,b){var e=!1,f=["transition","WebkitTransition","MozTransition","msTransition"],g=document.createElement("div");return c(f).each(function(a,b){if(g.style[b]!==d)return e=!0,!1}),e?a.one("webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend",b):setTimeout(b,0),a},this._prepareData=function(){c.each(e._original_data,function(a,b){var c=moment(b.date);b.date=c.format("YYYY-MM-DD HH:mm:ss")}),e._sortData(e._original_data),e._options.max&&e._options.max<e._original_data.length?e._data=e._original_data.slice(0,e._options.max):e._data=e._original_data},this._sortData=function(a){return a&&a.sort(function(a,b){return"desc"===e._options.order?parseInt(b.date.replace(/[^0-9]/g,""),10)-parseInt(a.date.replace(/[^0-9]/g,""),10):parseInt(a.date.replace(/[^0-9]/g,""),10)-parseInt(b.date.replace(/[^0-9]/g,""),10)}),a},this._createElement=function(a,b){a=c.extend({},e._default_element_data,a);var d=c("<div>").addClass("timeline_element "+a.type);a.position?"left"===a.position?d.addClass("timeline_element_left"):"right"===a.position&&d.addClass("timeline_element_right"):"left"===b?d.addClass("timeline_element_left"):"right"===b&&d.addClass("timeline_element_right"),e._options.animation||d.addClass("animated");var f=c("<div>").addClass("timeline_element_box").appendTo(d);if(a.title){if(a.local_date)var g=a.local_date;else var g=e._getDateString(a.date,a.dateFormat||e._options.dateFormat);c("<div>").addClass("timeline_title").html('<span class="timeline_title_label">'+a.title+'</span><span class="timeline_title_date">'+g+"</span>").appendTo(f)}else d.addClass("notitle");switch(a.type){case"iframe":var i=c("<div>").addClass("content loading").height(a.height).appendTo(f);e._iframe_queue.push({element:i,url:a.url});break;case"gallery":if(a.images.length){a.content&&c("<div>").addClass("content").html(a.content).appendTo(f);var j="";c(a.images).each(function(b,c){j+='<div class="img_container"><img style="height:'+a.height+'px;" src="'+c+'" />',e._options.lightbox&&(j+='<div class="img_overlay"><span class="magnifier" data-total="'+a.images.length+'" data-order="'+b+'" data-img="'+c+'"></span></div>'),j+="</div>"}),c("<div>").addClass("scroll_container").appendTo(f).html(j)}break;case"blog_post":a.content||a.readmore||d.addClass("nocontent");var k="";c(a.images).each(function(b,c){k+='<div data-total="'+a.images.length+'" data-order="'+b+'" class="img_container'+(0===b?" active":"")+'" style="display:'+(0===b?"block":"none")+';"><img src="'+c+'" />',e._options.lightbox&&(k+='<div class="img_overlay"><span class="magnifier" data-total="'+a.images.length+'" data-order="'+b+'" data-img="'+c+'"></span></div>'),k+="</div>"}),a.images.length>1&&(k+='<span class="slider_prev"></span><span class="slider_next"></span>'),c("<div>").addClass("slider_container").html(k).appendTo(f),a.content&&c("<div>").addClass("content").html(a.content).appendTo(f),a.readmore&&c("<div>").addClass("readmore").html('<a href="'+a.readmore+'">'+e._readmore_text+"</a>").appendTo(f),a.meta&&c("<div>").addClass("meta").html(a.meta).appendTo(f),a.images.length>1&&a.speed&&(d.data("speed",a.speed),setTimeout(function(){e._updateSlider(d,"next")},a.speed))}return d.appendTo(e._container),e._elements.push(d),d},this._createSeparator=function(a){var b=c("<div>").addClass("date_separator").attr("id","timeline_date_separator_"+a).html("<span>"+a+"</span>").appendTo(e._container);e._options.animation||b.addClass("animated"),e._separators.push(b)},this._render=function(a,b){var d=!0;c(a).each(function(a,f){if(e._options.max&&e._options.max<=a&&!b)return!1;if(b&&0===a){var g=e._container.children(":last");g.length&&g.hasClass("timeline_element_left")&&(d=!1)}var h=parseInt(f.date.split("-")[0],10),i=parseInt(f.date.split("-")[1],10);i=h+"-"+i;var j=!1;if(-1!==c.inArray(h,e._years)||"year"!==e._options.separator&&null!==e._options.separator||(j=!0,e._years.push(h)),-1!==c.inArray(i,e._months)||"month"!==e._options.separator&&"month_year"!==e._options.separator||(j=!0,e._months.push(i)),j){if("year"===e._options.separator)(e._years.length>1||e._options.first_separator)&&e._createSeparator(h);else if(("month"===e._options.separator||"month_year"===e._options.separator)&&(e._months.length>1||e._options.first_separator)){var k=e._month_translation[parseInt(i.split("-")[1],10)-1];"month_year"===e._options.separator&&(k=k+" "+h),e._createSeparator(k)}e._options.separator&&(d=!0)}"dual"===e._options.columnMode?e._createElement(f,d?"left":"right"):e._createElement(f),d=!d})},this._updateSlider=function(a,b){if(a.data("timeout_id")&&clearTimeout(a.data("timeout_id")),!this._options.lightbox||!e._overlay.hasClass("open")){var c=a.find(".img_container.active").removeClass("active");if("next"===b)if(c.data("order")===c.data("total")-1)var d=a.find(".img_container:first").addClass("active");else var d=c.next().addClass("active");else if(0===c.data("order"))var d=a.find(".img_container:last").addClass("active");else var d=c.prev().addClass("active");d.css({position:"absolute",top:0,left:0,"z-index":10}).fadeIn(300,function(){d.css({position:"",top:"",left:"","z-index":""}),c.hide()})}if(a.data("speed")){var f=setTimeout(function(){e._updateSlider(a,b)},a.data("speed"));a.data("timeout_id",f)}},this._startAnimation=function(a){c(window).width(),e._use_css3?e._spine.addClass("animated"):e._spine.animate({bottom:"0%"},500,function(){e._spine.addClass("animated")}),"year"!==e._options.separator&&"month"!==e._options.separator&&"month_year"!==e._options.separator||setTimeout(function(){c(e._separators).each(function(a,b){e._use_css3?b.addClass("animated"):b.children("span").animate({opacity:1,top:"50%"},300,function(){b.addClass("animated")})})},500);var b=0;return c(e._elements).each(function(c,d){d.hasClass("animated")||(b++,setTimeout(function(b){e._use_css3?d.addClass("animated"):d.hide().addClass("animated").fadeIn(),c===e._elements.length-1&&setTimeout(a,200)},("year"===e._options.separator||"month"===e._options.separator||"month_year"===e._options.separator?1e3:500)+100*b))}),!0},this._getDateString=function(a,b){return moment(a).format(b)},this._loadMore=function(){e._loadmore.hasClass("loading")||(e._loadmore.addClass("loading"),setTimeout(function(){e._loadmore.removeClass("loading");var a=e._original_data.slice(e._data.length,e._data.length+e._options.loadmore);e.appendData(a),e._data.length>=e._original_data.length&&e._loadmore.remove()},1e3))},this._display=function(){return e._options.lightbox&&(e._overlay=c(".timeline_overlay"),e._overlay.length?e._lightbox=e._overlay.children(".lightbox"):(e._overlay=c("<div>").addClass("timeline_overlay"),e._lightbox=c("<div>").addClass("lightbox").html('<div class="navigation"><a class="close" href="#"></a><span class="prev"></span><span class="next"></span></div>').appendTo(e._overlay),e._overlay.appendTo(f))),e._container=c("<div>").addClass("timeline timeline_"+e._options.columnMode),c.support.opacity||e._container.addClass("opacityFilter"),e._use_css3||e._container.addClass("noneCSS3"),e._spine=c("<div>").addClass("spine").appendTo(e._container),e._options.animation||e._spine.addClass("animated"),e._render(e._data),e._container.data("loaded",!0).appendTo(a),e._options.loadmore&&e._options.max&&e._original_data.length&&e._original_data.length>this._options.max&&(e._loadmore=c("<div>").addClass("timeline_loadmore").text(this._loadmore_text).appendTo(a)),e._options.animation?setTimeout(function(){e._startAnimation(e._processIframeQueue)},200):e._processIframeQueue(),e._options.responsive_width&&c(window).on("resize",e._windowResize),e._options.responsive_width&&c(window).resize(),c(document).on("click",e._handleClick),c(document).on("keydown",e._handleKeyDown),!0},this._makeResponsive=function(a){a?this._responsive||(this._responsive=!0,e._container.removeClass("timeline_left timeline_right timeline_dual"),e._container.addClass("timeline_center")):this._responsive&&(this._responsive=!1,e._container.removeClass("timeline_center"),e._container.addClass("timeline_"+e._options.columnMode))},this._openLightBox=function(a,b){if(!this._lightbox_loading)return this._lightbox_loading=!0,a.parent().addClass("loading"),e._lightbox.data("magnifier",a),1===a.data("total")?e._lightbox.find(".navigation span").hide():e._lightbox.find(".navigation span").show(),setTimeout(function(){e._lightbox_loading=!1;var d=function(){a.parent().removeClass("loading"),e._overlay.addClass("open"),c("<img>").attr("src",b).appendTo(e._lightbox);var d=e._getLightboxSize(f.width,f.height);e._lightbox.addClass("loaded").css({width:d.width,height:d.height})},f=new Image;f.onload=d,f.onerror=d,f.src=b},1e3),b},this._closeLightBox=function(){e._transitionEnd(e._lightbox,function(){e._overlay.removeClass("open"),e._lightbox.removeAttr("style").children("img").remove()}),e._lightbox.removeClass("loaded")},this._getLightboxSize=function(a,b){var d=c(window).width()-60,e=c(window).height()-60,f=a,g=b;if(a>d||b>e){if(a>d&&b<=e)var f=d,g=b/(a/f);else if(b>e&&a<=d)var g=e,f=a/(b/g);else{var f=d,g=b/(a/f);if(g>e)var g=e,f=a/(b/g)}}return{width:f,height:g}},this._navLightBox=function(a,b){var c=e._lightbox.data("magnifier");if("next"===b){var d=c.parents(".img_container:first").next(".img_container");d.length||(d=c.parents(".img_container:first").parent().children(".img_container:first"))}else{var d=c.parents(".img_container:first").prev(".img_container");d.length||(d=c.parents(".img_container:first").parent().children(".img_container:last"))}var f=d.find("span.magnifier"),g=f.data("img"),h=function(){e._lightbox.data("magnifier",f).addClass("updating"),e._lightbox.children("img").attr("src",g);var a=e._getLightboxSize(i.width,i.height);e._lightbox.css({width:a.width,height:a.height}),setTimeout(function(){e._lightbox.removeClass("updating")},500)},i=new Image;i.onload=h,i.src=g},this._processIframeQueue=function(){c(e._iframe_queue).each(function(a,b){b.element.removeClass("loading").html('<iframe frameborder="0" src="'+b.url+'"></iframe>')})},this._windowResize=function(a){c(window).width()<e._options.responsive_width?e._makeResponsive(!0):e._makeResponsive(!1)},this._handleClick=function(a){var b=c(a.target);return b.hasClass("timeline_overlay")?e._closeLightBox():b.hasClass("magnifier")?e._openLightBox(b,b.data("img")):b.hasClass("close")?(a.preventDefault(),e._closeLightBox()):b.hasClass("prev")?e._navLightBox(b,"prev"):b.hasClass("next")?e._navLightBox(b,"next"):b.hasClass("slider_prev")?e._updateSlider(b.parents(".timeline_element:first"),"prev"):b.hasClass("slider_next")?e._updateSlider(b.parents(".timeline_element:first"),"next"):b.hasClass("timeline_loadmore")&&e._loadMore(),!0},this._handleKeyDown=function(a){switch(parseInt(a.which,10)){case 27:e._overlay.hasClass("open")&&e._closeLightBox(a);break;case 37:if(e._lightbox.hasClass("loaded")&&e._lightbox.find(".navigation span.prev").is(":visible"))return e._lightbox.find(".navigation span.prev").click(),!1;break;case 39:if(e._lightbox.hasClass("loaded")&&e._lightbox.find(".navigation span.next").is(":visible"))return e._lightbox.find(".navigation span.next").click(),!1}},this._loadFacebook=function(a){var b="/"+e._options.facebookPageId+"/feed",f={access_token:e._options.facebookAccessToken},g=0,h=function(){a!==d&&a(),e._options.onSearchSuccess&&e._options.onSearchSuccess(e._original_data)},i=function(a){var b='<div class="facebook_type_'+a.type+'"><div class="facebook_left_column"><img class="facebook_profile" src="https://graph.facebook.com/'+a.from.id+'/picture?type=square" /></div><div class="facebook_right_column">';return a.message&&(b+='<div class="facebook_content">'+a.message.trimString(e._facebook_message_length).parseURL()+"</div>"),b+='</div><div style="clear:both;"></div>'},j=function(a,b){e._original_data.push({type:"blog_post",date:a.updated_time,title:a.from.name,content:b})};FB.init({appId:e._options.facebookAppId,version:"v2.0"}),FB.api(b,f,function(a){if(!a||!a.data||!a.data.length)return void(e._options.onSearchError&&e._options.onSearchError(a));c(a.data).each(function(a,b){if(b.from.id)if("photo"===b.type)g++,FB.api("/"+b.object_id,f,function(a){var c=i(b);a.source&&(c+='<div class="facebook_post"><a href="'+b.link+'" style="display:inline;"><img class="facebook_picture" align="left" src="'+a.source+'" /></a></div>'),c+="</div>",j(b,c),0===--g&&h()});else if(b.message){var c=i(b);b.picture&&(c+='<div class="facebook_post"><a href="'+b.link+'" style="display:inline;"><img class="facebook_picture" align="left" src="'+b.picture+'" /></a><div class="description_container">'+(b.name?'<a href="'+b.link+'">'+b.name+"</a>":"")+(b.caption?'<div class="facebook_caption">'+b.caption+"</div>":"")+(b.description?'<div class="facebook_description">'+b.description.trimString(e._facebook_description_length).parseURL()+"</div>":"")+"</div></div>"),c+="</div>",j(b,c)}}),0===g&&h()})},this._loadTwitter=function(a){c.getJSON("https://www.melonhtml5.com/api/?action=twittersearch&q="+e._options.twitterSearchKey+"&callback=?",function(b){if(!b.statuses.length)return void(e._options.onSearchError&&e._options.onSearchError(b));c(b.statuses).each(function(a,b){e._original_data.push({type:"blog_post",date:b.created_at,title:'<a href="http://www.twitter.com/'+b.user.screen_name+'" target="_blank" style="text-decoration:none;color:#AAAAAA;">'+b.user.screen_name+"</a>",content:'<div><img class="twitter_profile" align="left" src="'+b.user.profile_image_url+'" /></div>'+b.text.parseURL().parseHashtag()})}),a!==d&&a(),e._options.onSearchSuccess&&e._options.onSearchSuccess(b)})},this.setOptions=function(a){return e._options=c.extend(e._options,a),e._options},this.display=function(){var a=function(){e._prepareData(),e._display()},b=e._options.twitterSearchKey,c=e._options.facebookAppId&&e._options.facebookAccessToken&&e._options.facebookPageId;if(e._original_data&&e._original_data.length)a();else if(b&&c){var d=0,f=function(){2==++d&&a()};e._loadTwitter(f),e._loadFacebook(f)}else b?e._loadTwitter(a):c&&FB&&e._loadFacebook(a)},this.appendData=function(a){if(0==e._data.length)var b=!1;else var b=parseInt(e._data[e._data.length-1].date.replace(/-/g,""),10);var d=[];"desc"===e._options.order?c(a).each(function(a,c){(!b||parseInt(c.date.replace(/-/g,""),10)<=b)&&d.push(c)}):c(a).each(function(a,c){(!b||parseInt(c.date.replace(/-/g,""),10)>=b)&&d.push(c)}),e._render(d,!0),e._options.animation?e._startAnimation(e._processIframeQueue):e._processIframeQueue()}}String.prototype.parseURL=function(){return this.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&~\?\/.=]+/g,function(a){return a.link(a)})},String.prototype.parseHashtag=function(){return this.replace(/[#]+[A-Za-z0-9-_]+/g,function(a){var b=a.replace("#","%23");return a.link("//twitter.com/search?q="+b)})},String.prototype.trimString=function(a){return this.substr(0,a)+(this.length>a?"...":"")};

/* tipso.js - v1.0.8 - https://github.com/object505/tipso */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function d(d,e){this.element=d,this.$element=a(this.element),this.doc=a(document),this.win=a(window),this.settings=a.extend({},c,e),"object"==typeof this.$element.data("tipso")&&a.extend(this.settings,this.$element.data("tipso"));for(var g=Object.keys(this.$element.data()),h={},i=0;i<g.length;i++){var j=g[i].replace(b,"");if(""!==j){j=j.charAt(0).toLowerCase()+j.slice(1),h[j]=this.$element.data(g[i]);for(var k in this.settings)k.toLowerCase()==j&&(this.settings[k]=h[j])}}this._defaults=c,this._name=b,this._title=this.$element.attr("title"),this.mode="hide",this.ieFade=!f,this.settings.preferedPosition=this.settings.position,this.init()}function e(b){var c=b.clone();c.css("visibility","hidden"),a("body").append(c);var d=c.outerHeight(),e=c.outerWidth();return c.remove(),{width:e,height:d}}function g(a){a.removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner"),a.find(".tipso_title").removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner")}function h(b){var k,l,m,c=b.tooltip(),d=b.$element,f=b,i=a(window),j=10,n=f.settings.background,o=f.titleContent();switch(void 0!==o&&""!==o&&(n=f.settings.titleBackground),d.parent().outerWidth()>i.outerWidth()&&(i=d.parent()),f.settings.position){case"top-right":l=d.offset().left+d.outerWidth(),k=d.offset().top-e(c).height-j,c.find(".tipso_arrow").css({marginLeft:-f.settings.arrowWidth,marginTop:""}),k<i.scrollTop()?(k=d.offset().top+d.outerHeight()+j,c.find(".tipso_arrow").css({"border-bottom-color":n,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.addClass("bottom_right_corner"),c.find(".tipso_title").addClass("bottom_right_corner"),c.find(".tipso_arrow").css({"border-left-color":n}),c.removeClass("top-right top bottom left right"),c.addClass("bottom")):(c.find(".tipso_arrow").css({"border-top-color":f.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.addClass("top_right_corner"),c.find(".tipso_arrow").css({"border-left-color":f.settings.background}),c.removeClass("top bottom left right"),c.addClass("top"));break;case"top-left":l=d.offset().left-e(c).width,k=d.offset().top-e(c).height-j,c.find(".tipso_arrow").css({marginLeft:-f.settings.arrowWidth,marginTop:""}),k<i.scrollTop()?(k=d.offset().top+d.outerHeight()+j,c.find(".tipso_arrow").css({"border-bottom-color":n,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.addClass("bottom_left_corner"),c.find(".tipso_title").addClass("bottom_left_corner"),c.find(".tipso_arrow").css({"border-right-color":n}),c.removeClass("top-right top bottom left right"),c.addClass("bottom")):(c.find(".tipso_arrow").css({"border-top-color":f.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.addClass("top_left_corner"),c.find(".tipso_arrow").css({"border-right-color":f.settings.background}),c.removeClass("top bottom left right"),c.addClass("top"));break;case"bottom-right":l=d.offset().left+d.outerWidth(),k=d.offset().top+d.outerHeight()+j,c.find(".tipso_arrow").css({marginLeft:-f.settings.arrowWidth,marginTop:""}),k+e(c).height>i.scrollTop()+i.outerHeight()?(k=d.offset().top-e(c).height-j,c.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":f.settings.background,"border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.addClass("top_right_corner"),c.find(".tipso_title").addClass("top_left_corner"),c.find(".tipso_arrow").css({"border-left-color":f.settings.background}),c.removeClass("top-right top bottom left right"),c.addClass("top")):(c.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":n,"border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.addClass("bottom_right_corner"),c.find(".tipso_title").addClass("bottom_right_corner"),c.find(".tipso_arrow").css({"border-left-color":n}),c.removeClass("top bottom left right"),c.addClass("bottom"));break;case"bottom-left":l=d.offset().left-e(c).width,k=d.offset().top+d.outerHeight()+j,c.find(".tipso_arrow").css({marginLeft:-f.settings.arrowWidth,marginTop:""}),k+e(c).height>i.scrollTop()+i.outerHeight()?(k=d.offset().top-e(c).height-j,c.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":f.settings.background,"border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.addClass("top_left_corner"),c.find(".tipso_title").addClass("top_left_corner"),c.find(".tipso_arrow").css({"border-right-color":f.settings.background}),c.removeClass("top-right top bottom left right"),c.addClass("top")):(c.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":n,"border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.addClass("bottom_left_corner"),c.find(".tipso_title").addClass("bottom_left_corner"),c.find(".tipso_arrow").css({"border-right-color":n}),c.removeClass("top bottom left right"),c.addClass("bottom"));break;case"top":l=d.offset().left+d.outerWidth()/2-e(c).width/2,k=d.offset().top-e(c).height-j,c.find(".tipso_arrow").css({marginLeft:-f.settings.arrowWidth,marginTop:""}),k<i.scrollTop()?(k=d.offset().top+d.outerHeight()+j,c.find(".tipso_arrow").css({"border-bottom-color":n,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),c.removeClass("top bottom left right"),c.addClass("bottom")):(c.find(".tipso_arrow").css({"border-top-color":f.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),c.removeClass("top bottom left right"),c.addClass("top"));break;case"bottom":l=d.offset().left+d.outerWidth()/2-e(c).width/2,k=d.offset().top+d.outerHeight()+j,c.find(".tipso_arrow").css({marginLeft:-f.settings.arrowWidth,marginTop:""}),k+e(c).height>i.scrollTop()+i.outerHeight()?(k=d.offset().top-e(c).height-j,c.find(".tipso_arrow").css({"border-top-color":f.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),c.removeClass("top bottom left right"),c.addClass("top")):(c.find(".tipso_arrow").css({"border-bottom-color":n,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),c.removeClass("top bottom left right"),c.addClass(f.settings.position));break;case"left":l=d.offset().left-e(c).width-j,k=d.offset().top+d.outerHeight()/2-e(c).height/2,c.find(".tipso_arrow").css({marginTop:-f.settings.arrowWidth,marginLeft:""}),l<i.scrollLeft()?(l=d.offset().left+d.outerWidth()+j,c.find(".tipso_arrow").css({"border-right-color":f.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),c.removeClass("top bottom left right"),c.addClass("right")):(c.find(".tipso_arrow").css({"border-left-color":f.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),c.removeClass("top bottom left right"),c.addClass(f.settings.position));break;case"right":l=d.offset().left+d.outerWidth()+j,k=d.offset().top+d.outerHeight()/2-e(c).height/2,c.find(".tipso_arrow").css({marginTop:-f.settings.arrowWidth,marginLeft:""}),l+j+f.settings.width>i.scrollLeft()+i.outerWidth()?(l=d.offset().left-e(c).width-j,c.find(".tipso_arrow").css({"border-left-color":f.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),c.removeClass("top bottom left right"),c.addClass("left")):(c.find(".tipso_arrow").css({"border-right-color":f.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),c.removeClass("top bottom left right"),c.addClass(f.settings.position))}if("top-right"===f.settings.position&&c.find(".tipso_arrow").css({"margin-left":-f.settings.width/2}),"top-left"===f.settings.position){var p=c.find(".tipso_arrow").eq(0);p.css({"margin-left":f.settings.width/2-2*f.settings.arrowWidth})}if("bottom-right"===f.settings.position){var p=c.find(".tipso_arrow").eq(0);p.css({"margin-left":-f.settings.width/2,"margin-top":""})}if("bottom-left"===f.settings.position){var p=c.find(".tipso_arrow").eq(0);p.css({"margin-left":f.settings.width/2-2*f.settings.arrowWidth,"margin-top":""})}l<i.scrollLeft()&&("bottom"===f.settings.position||"top"===f.settings.position)&&(c.find(".tipso_arrow").css({marginLeft:l-f.settings.arrowWidth}),l=0),l+f.settings.width>i.outerWidth()&&("bottom"===f.settings.position||"top"===f.settings.position)&&(m=i.outerWidth()-(l+f.settings.width),c.find(".tipso_arrow").css({marginLeft:-m-f.settings.arrowWidth,marginTop:""}),l+=m),l<i.scrollLeft()&&("left"===f.settings.position||"right"===f.settings.position||"top-right"===f.settings.position||"top-left"===f.settings.position||"bottom-right"===f.settings.position||"bottom-left"===f.settings.position)&&(l=d.offset().left+d.outerWidth()/2-e(c).width/2,c.find(".tipso_arrow").css({marginLeft:-f.settings.arrowWidth,marginTop:""}),k=d.offset().top-e(c).height-j,k<i.scrollTop()?(k=d.offset().top+d.outerHeight()+j,c.find(".tipso_arrow").css({"border-bottom-color":n,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),c.removeClass("top bottom left right"),g(c),c.addClass("bottom")):(c.find(".tipso_arrow").css({"border-top-color":f.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),c.removeClass("top bottom left right"),g(c),c.addClass("top")),l+f.settings.width>i.outerWidth()&&(m=i.outerWidth()-(l+f.settings.width),c.find(".tipso_arrow").css({marginLeft:-m-f.settings.arrowWidth,marginTop:""}),l+=m),l<i.scrollLeft()&&(c.find(".tipso_arrow").css({marginLeft:l-f.settings.arrowWidth}),l=0)),l+f.settings.width>i.outerWidth()&&("left"===f.settings.position||"right"===f.settings.position||"top-right"===f.settings.position||"top-left"===f.settings.position||"bottom-right"===f.settings.position||"bottom-right"===f.settings.position)&&(l=d.offset().left+d.outerWidth()/2-e(c).width/2,c.find(".tipso_arrow").css({marginLeft:-f.settings.arrowWidth,marginTop:""}),k=d.offset().top-e(c).height-j,k<i.scrollTop()?(k=d.offset().top+d.outerHeight()+j,c.find(".tipso_arrow").css({"border-bottom-color":n,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.removeClass("top bottom left right"),c.addClass("bottom")):(c.find(".tipso_arrow").css({"border-top-color":f.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),g(c),c.removeClass("top bottom left right"),c.addClass("top")),l+f.settings.width>i.outerWidth()&&(m=i.outerWidth()-(l+f.settings.width),c.find(".tipso_arrow").css({marginLeft:-m-f.settings.arrowWidth,marginTop:""}),l+=m),l<i.scrollLeft()&&(c.find(".tipso_arrow").css({marginLeft:l-f.settings.arrowWidth}),l=0)),c.css({left:l+f.settings.offsetX,top:k+f.settings.offsetY}),k<i.scrollTop()&&("right"===f.settings.position||"left"===f.settings.position)&&(d.tipso("update","position","bottom"),h(f)),k+e(c).height>i.scrollTop()+i.outerHeight()&&("right"===f.settings.position||"left"===f.settings.position)&&(d.tipso("update","position","top"),h(f))}var b="tipso",c={speed:400,background:"#55b555",titleBackground:"#333333",color:"#ffffff",titleColor:"#ffffff",titleContent:"",showArrow:!0,position:"top",width:200,maxWidth:"",delay:200,hideDelay:0,animationIn:"",animationOut:"",offsetX:0,offsetY:0,arrowWidth:8,tooltipHover:!1,content:null,ajaxContentUrl:null,ajaxContentBuffer:0,contentElementId:null,useTitle:!1,templateEngineFunc:null,onBeforeShow:null,onShow:null,onHide:null};a.extend(d.prototype,{init:function(){var a=this,c=this.$element;this.doc;if(c.addClass("tipso_style").removeAttr("title"),a.settings.tooltipHover){var e=null,f=null;c.on("mouseover."+b,function(){clearTimeout(e),clearTimeout(f),f=setTimeout(function(){a.show()},150)}),c.on("mouseout."+b,function(){clearTimeout(e),clearTimeout(f),e=setTimeout(function(){a.hide()},200),a.tooltip().on("mouseover."+b,function(){a.mode="tooltipHover"}).on("mouseout."+b,function(){a.mode="show",clearTimeout(e),e=setTimeout(function(){a.hide()},200)})})}else c.on("mouseover."+b,function(){a.show()}),c.on("mouseout."+b,function(){a.hide()});a.settings.ajaxContentUrl&&(a.ajaxContent=null)},tooltip:function(){return this.tipso_bubble||(this.tipso_bubble=a('<div class="tipso_bubble"><div class="tipso_title"></div><div class="tipso_content"></div><div class="tipso_arrow"></div></div>')),this.tipso_bubble},show:function(){var c=this.tooltip(),d=this,e=this.win;!1===d.settings.showArrow?c.find(".tipso_arrow").hide():c.find(".tipso_arrow").show(),"hide"===d.mode&&(a.isFunction(d.settings.onBeforeShow)&&d.settings.onBeforeShow(d.$element,d.element,d),d.settings.size&&c.addClass(d.settings.size),d.settings.width?c.css({background:d.settings.background,color:d.settings.color,width:d.settings.width}).hide():d.settings.maxWidth?c.css({background:d.settings.background,color:d.settings.color,maxWidth:d.settings.maxWidth}).hide():c.css({background:d.settings.background,color:d.settings.color,width:200}).hide(),c.find(".tipso_title").css({background:d.settings.titleBackground,color:d.settings.titleColor}),c.find(".tipso_content").html(d.content()),c.find(".tipso_title").html(d.titleContent()),h(d),e.on("resize."+b,function(){d.settings.position=d.settings.preferedPosition,h(d)}),window.clearTimeout(d.timeout),d.timeout=null,d.timeout=window.setTimeout(function(){d.ieFade||""===d.settings.animationIn||""===d.settings.animationOut?c.appendTo("body").stop(!0,!0).fadeIn(d.settings.speed,function(){d.mode="show",a.isFunction(d.settings.onShow)&&d.settings.onShow(d.$element,d.element,d)}):c.remove().appendTo("body").stop(!0,!0).removeClass("animated "+d.settings.animationOut).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+d.settings.animationIn).fadeIn(d.settings.speed,function(){a(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass("animated "+d.settings.animationIn)}),d.mode="show",a.isFunction(d.settings.onShow)&&d.settings.onShow(d.$element,d.element,d),e.off("resize."+b,null,"tipsoResizeHandler")})},d.settings.delay))},hide:function(c){var d=this,e=this.win,f=this.tooltip(),g=d.settings.hideDelay;c&&(g=0,d.mode="show"),window.clearTimeout(d.timeout),d.timeout=null,d.timeout=window.setTimeout(function(){"tooltipHover"!==d.mode&&(d.ieFade||""===d.settings.animationIn||""===d.settings.animationOut?f.stop(!0,!0).fadeOut(d.settings.speed,function(){a(this).remove(),a.isFunction(d.settings.onHide)&&"show"===d.mode&&d.settings.onHide(d.$element,d.element,d),d.mode="hide",e.off("resize."+b,null,"tipsoResizeHandler")}):f.stop(!0,!0).removeClass("animated "+d.settings.animationIn).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+d.settings.animationOut).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass("animated "+d.settings.animationOut).remove(),a.isFunction(d.settings.onHide)&&"show"===d.mode&&d.settings.onHide(d.$element,d.element,d),d.mode="hide",e.off("resize."+b,null,"tipsoResizeHandler")}))},g)},close:function(){this.hide(!0)},destroy:function(){var a=this.$element,c=this.win;this.doc;a.off("."+b),c.off("resize."+b,null,"tipsoResizeHandler"),a.removeData(b),a.removeClass("tipso_style").attr("title",this._title)},titleContent:function(){var b=this.$element,c=this;return c.settings.titleContent?c.settings.titleContent:b.data("tipso-title")},content:function(){var b,c=this.$element,d=this,e=this._title;return d.settings.ajaxContentUrl?d._ajaxContent?b=d._ajaxContent:(d._ajaxContent=b=a.ajax({type:"GET",url:d.settings.ajaxContentUrl,async:!1}).responseText,d.settings.ajaxContentBuffer>0?setTimeout(function(){d._ajaxContent=null},d.settings.ajaxContentBuffer):d._ajaxContent=null):d.settings.contentElementId?b=a("#"+d.settings.contentElementId).text():d.settings.content?b=d.settings.content:!0===d.settings.useTitle?b=e:"string"==typeof c.data("tipso")&&(b=c.data("tipso")),null!==d.settings.templateEngineFunc&&(b=d.settings.templateEngineFunc(b)),b},update:function(a,b){var c=this;if(!b)return c.settings[a];c.settings[a]=b}});var f=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(""===a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1}();a[b]=a.fn[b]=function(e){var f=arguments;if(void 0===e||"object"==typeof e)return this instanceof a||a.extend(c,e),this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new d(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var g;return this.each(function(){var c=a.data(this,"plugin_"+b);c||(c=a.data(this,"plugin_"+b,new d(this,e))),c instanceof d&&"function"==typeof c[e]&&(g=c[e].apply(c,Array.prototype.slice.call(f,1))),"destroy"===e&&a.data(this,"plugin_"+b,null)}),void 0!==g?g:this}}});

/* Datepicker v0.5.2 - * https://github.com/fengyuanchen/datepicker */
!function(t){"function"==typeof define&&define.amd?define("datepicker",["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function e(t){return $.call(t).slice(8,-1).toLowerCase()}function i(t){return"string"==typeof t}function s(t){return"number"==typeof t&&!isNaN(t)}function a(t){return void 0===t}function n(t){return"date"===e(t)}function h(t,e){var i=[];return Array.from?Array.from(t).slice(e||0):(s(e)&&i.push(e),i.slice.apply(t,i))}function r(t,e){var i=h(arguments,2);return function(){return t.apply(e,i.concat(h(arguments)))}}function o(t){return t%4==0&&t%100!=0||t%400==0}function l(t,e){return[31,o(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}function d(t){var e,i,s=String(t).toLowerCase(),a=s.match(m);if(!a||0===a.length)throw new Error("Invalid date format.");for(t={source:s,parts:a},e=a.length,i=0;i<e;i++)switch(a[i]){case"dd":case"d":t.hasDay=!0;break;case"mm":case"m":t.hasMonth=!0;break;case"yyyy":case"yy":t.hasYear=!0}return t}function c(e,i){i=t.isPlainObject(i)?i:{},i.language&&(i=t.extend({},c.LANGUAGES[i.language],i)),this.$element=t(e),this.options=t.extend({},c.DEFAULTS,i),this.isBuilt=!1,this.isShown=!1,this.isInput=!1,this.isInline=!1,this.initialValue="",this.initialDate=null,this.startDate=null,this.endDate=null,this.init()}var u=t(window),p=window.document,f=t(p),g=window.Number,w="datepicker",y="click.datepicker",m=/(y|m|d)+/g,k=/^\d{2,4}$/,v=["datepicker-top-left","datepicker-top-right","datepicker-bottom-left","datepicker-bottom-right"].join(" "),D="datepicker-hide",b=Math.min,$=Object.prototype.toString;c.prototype={constructor:c,init:function(){var e=this.options,i=this.$element,s=e.startDate,a=e.endDate,n=e.date;this.$trigger=t(e.trigger),this.isInput=i.is("input")||i.is("textarea"),this.isInline=e.inline&&(e.container||!this.isInput),this.format=d(e.format),this.oldValue=this.initialValue=this.getValue(),n=this.parseDate(n||this.initialValue),s&&(s=this.parseDate(s),n.getTime()<s.getTime()&&(n=new Date(s)),this.startDate=s),a&&(a=this.parseDate(a),s&&a.getTime()<s.getTime()&&(a=new Date(s)),n.getTime()>a.getTime()&&(n=new Date(a)),this.endDate=a),this.date=n,this.viewDate=new Date(n),this.initialDate=new Date(this.date),this.bind(),(e.autoShow||this.isInline)&&this.show(),e.autoPick&&this.pick()},build:function(){var e,i=this.options,s=this.$element;this.isBuilt||(this.isBuilt=!0,this.$picker=e=t(i.template),this.$week=e.find('[data-view="week"]'),this.$yearsPicker=e.find('[data-view="years picker"]'),this.$yearsPrev=e.find('[data-view="years prev"]'),this.$yearsNext=e.find('[data-view="years next"]'),this.$yearsCurrent=e.find('[data-view="years current"]'),this.$years=e.find('[data-view="years"]'),this.$monthsPicker=e.find('[data-view="months picker"]'),this.$yearPrev=e.find('[data-view="year prev"]'),this.$yearNext=e.find('[data-view="year next"]'),this.$yearCurrent=e.find('[data-view="year current"]'),this.$months=e.find('[data-view="months"]'),this.$daysPicker=e.find('[data-view="days picker"]'),this.$monthPrev=e.find('[data-view="month prev"]'),this.$monthNext=e.find('[data-view="month next"]'),this.$monthCurrent=e.find('[data-view="month current"]'),this.$days=e.find('[data-view="days"]'),this.isInline?t(i.container||s).append(e.addClass("datepicker-inline")):(t(p.body).append(e.addClass("datepicker-dropdown")),e.addClass(D)),this.fillWeek())},unbuild:function(){this.isBuilt&&(this.isBuilt=!1,this.$picker.remove())},bind:function(){var e=this.options,i=this.$element;t.isFunction(e.show)&&i.on("show.datepicker",e.show),t.isFunction(e.hide)&&i.on("hide.datepicker",e.hide),t.isFunction(e.pick)&&i.on("pick.datepicker",e.pick),this.isInput&&i.on("keyup.datepicker",t.proxy(this.keyup,this)),this.isInline||(e.trigger?this.$trigger.on(y,t.proxy(this.toggle,this)):this.isInput?i.on("focus.datepicker",t.proxy(this.show,this)):i.on(y,t.proxy(this.show,this)))},unbind:function(){var e=this.options,i=this.$element;t.isFunction(e.show)&&i.off("show.datepicker",e.show),t.isFunction(e.hide)&&i.off("hide.datepicker",e.hide),t.isFunction(e.pick)&&i.off("pick.datepicker",e.pick),this.isInput&&i.off("keyup.datepicker",this.keyup),this.isInline||(e.trigger?this.$trigger.off(y,this.toggle):this.isInput?i.off("focus.datepicker",this.show):i.off(y,this.show))},showView:function(t){var e=this.$yearsPicker,i=this.$monthsPicker,s=this.$daysPicker,a=this.format;if(a.hasYear||a.hasMonth||a.hasDay)switch(g(t)){case 2:case"years":i.addClass(D),s.addClass(D),a.hasYear?(this.fillYears(),e.removeClass(D),this.place()):this.showView(0);break;case 1:case"months":e.addClass(D),s.addClass(D),a.hasMonth?(this.fillMonths(),i.removeClass(D),this.place()):this.showView(2);break;default:e.addClass(D),i.addClass(D),a.hasDay?(this.fillDays(),s.removeClass(D),this.place()):this.showView(1)}},hideView:function(){!this.isInline&&this.options.autoHide&&this.hide()},place:function(){if(!this.isInline){var t=this.options,e=this.$element,i=this.$picker,s=f.outerWidth(),a=f.outerHeight(),n=e.outerWidth(),h=e.outerHeight(),r=i.width(),o=i.height(),l=e.offset(),d=l.left,c=l.top,u=parseFloat(t.offset)||10,p="datepicker-top-left";c>o&&c+h+o>a?(c-=o+u,p="datepicker-bottom-left"):c+=h+u,d+r>s&&(d=d+n-r,p=p.replace("left","right")),i.removeClass(v).addClass(p).css({top:c,left:d,zIndex:parseInt(t.zIndex,10)})}},trigger:function(e,i){var s=t.Event(e,i);return this.$element.trigger(s),s},createItem:function(e){var i=this.options,s=i.itemTag,a={text:"",view:"",muted:!1,picked:!1,disabled:!1,highlighted:!1},n=[];return t.extend(a,e),a.muted&&n.push(i.mutedClass),a.highlighted&&n.push(i.highlightedClass),a.picked&&n.push(i.pickedClass),a.disabled&&n.push(i.disabledClass),"<"+s+' class="'+n.join(" ")+'"'+(a.view?' data-view="'+a.view+'"':"")+">"+a.text+"</"+s+">"},fillAll:function(){this.fillYears(),this.fillMonths(),this.fillDays()},fillWeek:function(){var e,i=this.options,s=parseInt(i.weekStart,10)%7,a=i.daysMin,n="";for(a=t.merge(a.slice(s),a.slice(0,s)),e=0;e<=6;e++)n+=this.createItem({text:a[e]});this.$week.html(n)},fillYears:function(){var e,i=this.options,s=i.disabledClass||"",a=i.yearSuffix||"",n=t.isFunction(i.filter)&&i.filter,h=this.startDate,r=this.endDate,o=this.viewDate,l=o.getFullYear(),d=o.getMonth(),c=o.getDate(),u=this.date,p=u.getFullYear(),f=!1,g=!1,w=!1,y=!1,m=!1,k="";for(e=-5;e<=6;e++)u=new Date(l+e,d,c),m=e===-5||6===e,y=l+e===p,w=!1,h&&(w=u.getFullYear()<h.getFullYear(),e===-5&&(f=w)),!w&&r&&(w=u.getFullYear()>r.getFullYear(),6===e&&(g=w)),!w&&n&&(w=n.call(this.$element,u)===!1),k+=this.createItem({text:l+e,view:w?"year disabled":y?"year picked":"year",muted:m,picked:y,disabled:w});this.$yearsPrev.toggleClass(s,f),this.$yearsNext.toggleClass(s,g),this.$yearsCurrent.toggleClass(s,!0).html(l+-5+a+" - "+(l+6)+a),this.$years.html(k)},fillMonths:function(){var e,i=this.options,s=i.disabledClass||"",a=i.monthsShort,n=t.isFunction(i.filter)&&i.filter,h=this.startDate,r=this.endDate,o=this.viewDate,l=o.getFullYear(),d=o.getDate(),c=this.date,u=c.getFullYear(),p=c.getMonth(),f=!1,g=!1,w=!1,y=!1,m="";for(e=0;e<=11;e++)c=new Date(l,e,d),y=l===u&&e===p,w=!1,h&&(f=c.getFullYear()===h.getFullYear(),w=f&&c.getMonth()<h.getMonth()),!w&&r&&(g=c.getFullYear()===r.getFullYear(),w=g&&c.getMonth()>r.getMonth()),!w&&n&&(w=n.call(this.$element,c)===!1),m+=this.createItem({index:e,text:a[e],view:w?"month disabled":y?"month picked":"month",picked:y,disabled:w});this.$yearPrev.toggleClass(s,f),this.$yearNext.toggleClass(s,g),this.$yearCurrent.toggleClass(s,f&&g).html(l+i.yearSuffix||""),this.$months.html(m)},fillDays:function(){var e,i,s,a=this.options,n=a.disabledClass||"",h=a.yearSuffix||"",r=a.monthsShort,o=parseInt(a.weekStart,10)%7,d=t.isFunction(a.filter)&&a.filter,c=this.startDate,u=this.endDate,p=this.viewDate,f=p.getFullYear(),g=p.getMonth(),w=f,y=g,m=f,k=new Date,v=k.getFullYear(),D=k.getMonth(),b=k.getDate(),$=g,x=this.date,C=x.getFullYear(),S=x.getMonth(),F=x.getDate(),I=!1,M=!1,V=!1,T=!1,Y=[],A=[],P=[];for(0===g?(w-=1,y=11):y-=1,e=l(w,y),x=new Date(f,g,1),s=x.getDay()-o,s<=0&&(s+=7),c&&(I=x.getTime()<=c.getTime()),i=e-(s-1);i<=e;i++)x=new Date(w,y,i),V=!1,c&&(V=x.getTime()<c.getTime()),!V&&d&&(V=d.call(this.$element,x)===!1),Y.push(this.createItem({text:i,view:"day prev",muted:!0,disabled:V,highlighted:w===v&&y===D&&x.getDate()===b}));for(11===g?(m+=1,$=0):$+=1,e=l(f,g),s=42-(Y.length+e),x=new Date(f,g,e),u&&(M=x.getTime()>=u.getTime()),i=1;i<=s;i++)x=new Date(m,$,i),V=!1,u&&(V=x.getTime()>u.getTime()),!V&&d&&(V=d.call(this.$element,x)===!1),A.push(this.createItem({text:i,view:"day next",muted:!0,disabled:V,highlighted:m===v&&$===D&&x.getDate()===b}));for(i=1;i<=e;i++)x=new Date(f,g,i),T=f===C&&g===S&&i===F,V=!1,c&&(V=x.getTime()<c.getTime()),!V&&u&&(V=x.getTime()>u.getTime()),!V&&d&&(V=d.call(this.$element,x)===!1),P.push(this.createItem({text:i,view:V?"day disabled":T?"day picked":"day",picked:T,disabled:V,highlighted:f===v&&g===D&&x.getDate()===b}));this.$monthPrev.toggleClass(n,I),this.$monthNext.toggleClass(n,M),this.$monthCurrent.toggleClass(n,I&&M).html(a.yearFirst?f+h+" "+r[g]:r[g]+" "+f+h),this.$days.html(Y.join("")+P.join(" ")+A.join(""))},click:function(e){var i,s,a,n,h,r,o=t(e.target),l=this.viewDate;if(e.stopPropagation(),e.preventDefault(),!o.hasClass("disabled"))switch(i=l.getFullYear(),s=l.getMonth(),a=l.getDate(),r=o.data("view")){case"years prev":case"years next":i="years prev"===r?i-10:i+10,h=o.text(),n=k.test(h),n&&(i=parseInt(h,10),this.date=new Date(i,s,b(a,28))),this.viewDate=new Date(i,s,b(a,28)),this.fillYears(),n&&(this.showView(1),this.pick("year"));break;case"year prev":case"year next":i="year prev"===r?i-1:i+1,this.viewDate=new Date(i,s,b(a,28)),this.fillMonths();break;case"year current":this.format.hasYear&&this.showView(2);break;case"year picked":this.format.hasMonth?this.showView(1):this.hideView(),this.pick("year");break;case"year":i=parseInt(o.text(),10),this.date=new Date(i,s,b(a,28)),this.viewDate=new Date(i,s,b(a,28)),this.format.hasMonth?this.showView(1):this.hideView(),this.pick("year");break;case"month prev":case"month next":s="month prev"===r?s-1:"month next"===r?s+1:s,this.viewDate=new Date(i,s,b(a,28)),this.fillDays();break;case"month current":this.format.hasMonth&&this.showView(1);break;case"month picked":this.format.hasDay?this.showView(0):this.hideView(),this.pick("month");break;case"month":s=t.inArray(o.text(),this.options.monthsShort),this.date=new Date(i,s,b(a,28)),this.viewDate=new Date(i,s,b(a,28)),this.format.hasDay?this.showView(0):this.hideView(),this.pick("month");break;case"day prev":case"day next":case"day":s="day prev"===r?s-1:"day next"===r?s+1:s,a=parseInt(o.text(),10),this.date=new Date(i,s,a),this.viewDate=new Date(i,s,a),this.fillDays(),"day"===r&&this.hideView(),this.pick("day");break;case"day picked":this.hideView(),this.pick("day")}},clickDoc:function(t){for(var e,i=t.target,s=this.$element[0],a=this.$trigger[0];i!==p;){if(i===a||i===s){e=!0;break}i=i.parentNode}e||this.hide()},keyup:function(){this.update()},keyupDoc:function(t){this.isInput&&t.target!==this.$element[0]&&this.isShown&&("Tab"===t.key||9===t.keyCode)&&this.hide()},getValue:function(){var t=this.$element,e="";return this.isInput?e=t.val():this.isInline?this.options.container&&(e=t.text()):e=t.text(),e},setValue:function(t){var e=this.$element;t=i(t)?t:"",this.isInput?e.val(t):this.isInline?this.options.container&&e.text(t):e.text(t)},show:function(){this.isBuilt||this.build(),this.isShown||this.trigger("show.datepicker").isDefaultPrevented()||(this.isShown=!0,this.$picker.removeClass(D).on(y,t.proxy(this.click,this)),this.showView(this.options.startView),this.isInline||(u.on("resize.datepicker",this._place=r(this.place,this)),f.on(y,this._clickDoc=r(this.clickDoc,this)),f.on("keyup.datepicker",this._keyupDoc=r(this.keyupDoc,this)),this.place()))},hide:function(){this.isShown&&(this.trigger("hide.datepicker").isDefaultPrevented()||(this.isShown=!1,this.$picker.addClass(D).off(y,this.click),this.isInline||(u.off("resize.datepicker",this._place),f.off(y,this._clickDoc),f.off("keyup.datepicker",this._keyupDoc))))},toggle:function(){this.isShown?this.hide():this.show()},update:function(){var t=this.getValue();t!==this.oldValue&&(this.setDate(t,!0),this.oldValue=t)},pick:function(t){var e=this.$element,i=this.date;this.trigger("pick.datepicker",{view:t||"",date:i}).isDefaultPrevented()||(this.setValue(i=this.formatDate(this.date)),this.isInput&&e.trigger("change"))},reset:function(){this.setDate(this.initialDate,!0),this.setValue(this.initialValue),this.isShown&&this.showView(this.options.startView)},getMonthName:function(e,i){var n=this.options,h=n.months;return t.isNumeric(e)?e=g(e):a(i)&&(i=e),i===!0&&(h=n.monthsShort),h[s(e)?e:this.date.getMonth()]},getDayName:function(e,i,n){var h=this.options,r=h.days;return t.isNumeric(e)?e=g(e):(a(n)&&(n=i),a(i)&&(i=e)),r=n===!0?h.daysMin:i===!0?h.daysShort:r,r[s(e)?e:this.date.getDay()]},getDate:function(t){var e=this.date;return t?this.formatDate(e):new Date(e)},setDate:function(e,s){var a=this.options.filter;if(n(e)||i(e)){if(e=this.parseDate(e),t.isFunction(a)&&a.call(this.$element,e)===!1)return;this.date=e,this.viewDate=new Date(e),s||this.pick(),this.isBuilt&&this.fillAll()}},setStartDate:function(t){(n(t)||i(t))&&(this.startDate=this.parseDate(t),this.isBuilt&&this.fillAll())},setEndDate:function(t){(n(t)||i(t))&&(this.endDate=this.parseDate(t),this.isBuilt&&this.fillAll())},parseDate:function(t){var e,s,a,h,r,o,l=this.format,d=[];if(n(t))return new Date(t.getFullYear(),t.getMonth(),t.getDate());if(i(t)&&(d=t.match(/\d+/g)||[]),t=new Date,s=t.getFullYear(),a=t.getDate(),h=t.getMonth(),e=l.parts.length,d.length===e)for(o=0;o<e;o++)switch(r=parseInt(d[o],10)||1,l.parts[o]){case"dd":case"d":a=r;break;case"mm":case"m":h=r-1;break;case"yy":s=2e3+r;break;case"yyyy":s=r}return new Date(s,h,a)},formatDate:function(t){var e,i,s,a,h,r=this.format,o="";if(n(t))for(o=r.source,i=t.getFullYear(),a={d:t.getDate(),m:t.getMonth()+1,yy:i.toString().substring(2),yyyy:i},a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=r.parts.length,h=0;h<e;h++)s=r.parts[h],o=o.replace(s,a[s]);return o},destroy:function(){this.unbind(),this.unbuild(),this.$element.removeData(w)}},c.LANGUAGES={},c.DEFAULTS={autoShow:!1,autoHide:!1,autoPick:!1,inline:!1,container:null,trigger:null,language:"",format:"mm/dd/yyyy",date:null,startDate:null,endDate:null,startView:0,weekStart:0,yearFirst:!1,yearSuffix:"",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],itemTag:"li",mutedClass:"muted",pickedClass:"picked",disabledClass:"disabled",highlightedClass:"highlighted",template:'<div class="datepicker-container"><div class="datepicker-panel" data-view="years picker"><ul><li data-view="years prev">&lsaquo;</li><li data-view="years current"></li><li data-view="years next">&rsaquo;</li></ul><ul data-view="years"></ul></div><div class="datepicker-panel" data-view="months picker"><ul><li data-view="year prev">&lsaquo;</li><li data-view="year current"></li><li data-view="year next">&rsaquo;</li></ul><ul data-view="months"></ul></div><div class="datepicker-panel" data-view="days picker"><ul><li data-view="month prev">&lsaquo;</li><li data-view="month current"></li><li data-view="month next">&rsaquo;</li></ul><ul data-view="week"></ul><ul data-view="days"></ul></div></div>',offset:10,zIndex:1e3,filter:null,show:null,hide:null,pick:null},c.setDefaults=function(e){e=t.isPlainObject(e)?e:{},e.language&&(e=t.extend({},c.LANGUAGES[e.language],e)),t.extend(c.DEFAULTS,e)},c.other=t.fn.datepicker,t.fn.datepicker=function(e){var s,n=h(arguments,1);return this.each(function(){var a,h,r=t(this),o=r.data(w);if(!o){if(/destroy/.test(e))return;a=t.extend({},r.data(),t.isPlainObject(e)&&e),r.data(w,o=new c(this,a))}i(e)&&t.isFunction(h=o[e])&&(s=h.apply(o,n))}),a(s)?this:s},t.fn.datepicker.Constructor=c,t.fn.datepicker.languages=c.LANGUAGES,t.fn.datepicker.setDefaults=c.setDefaults,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=c.other,this}});

/* WPVR WPVR MINIFIED SCRIPTS v1.9 (final*)  */
function wpvr_async_draw_chart(a,b,c,d,e){if("pie"==d){var f={segmentShowStroke:!0,segmentStrokeColor:"transparent",segmentStrokeWidth:3,percentageInnerCutout:0,animationSteps:50,animationEasing:"easeOutQuart",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="wpvr_chart_legend <%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><div class=" wpvr_chart_legend_color pull-left" style="background-color:<%=segments[i].fillColor%>"></div><%if(segments[i].label){%><div class=" wpvr_chart_legend_text pull-left "><%=segments[i].label%> ( <%=segments[i].value%> )</div><%}%></li><%}%></ul>'},g=a.parent().width();a.attr("width",g);var h=a.get(0).getContext("2d"),i=new Chart(h).Pie(c,f),j=i.generateLegend();b.html(j),window.onresize=function(d){var e=a.parent().width();a.attr("width",e);var g=a.get(0).getContext("2d"),h=new Chart(g).Pie(c,f),i=h.generateLegend();b.html(i)}}else if("donut"==d){var f={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:5,percentageInnerCutout:60,animationSteps:20,animationEasing:"swing",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="wpvr_chart_legend <%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){ if(segments[i].value==0) continue;%><li><div class=" wpvr_chart_legend_color pull-left" style="background-color:<%=segments[i].fillColor%>"></div><%if(segments[i].label){%><div class=" wpvr_chart_legend_text pull-left "><%=segments[i].label%> ( <%=segments[i].value%> )</div><%}%></li><%}%></ul>'},g=a.parent().width();a.attr("width",g);var h=a.get(0).getContext("2d"),i=new Chart(h).Doughnut(c,f),j=i.generateLegend();b.html(j),window.onresize=function(d){var e=a.parent().width();a.attr("width",e);var g=a.get(0).getContext("2d"),h=new Chart(g).Doughnut(c,f),i=h.generateLegend();b.html(i)}}else if("bar"==d){var f={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1},g=a.parent().width();a.attr("width",g);var h=a.get(0).getContext("2d"),i=new Chart(h).Bar(c,f),j=i.generateLegend();b.html(j),window.onresize=function(d){var e=a.parent().width();a.attr("width",e);var g=a.get(0).getContext("2d"),h=new Chart(g).Bar(c,f),i=h.generateLegend();b.html(i)}}else{if("radar"!=d)return!1;var f={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,multiTooltipTemplate:" <%= value %> <%=datasetLabel%>"},g=a.parent().parent().parent().width();a.attr("width",g);var h=a.get(0).getContext("2d"),i=new Chart(h).Radar(c,f)}return i}function wpvr_draw_chart(a,b,c,d){jQuery(document).ready(function(e){if("pie"==d){var f={segmentShowStroke:!0,segmentStrokeColor:"transparent",segmentStrokeWidth:3,percentageInnerCutout:0,animationSteps:50,animationEasing:"easeOutQuart",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="wpvr_chart_legend <%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><div class=" wpvr_chart_legend_color pull-left" style="background-color:<%=segments[i].fillColor%>"></div><%if(segments[i].label){%><div class=" wpvr_chart_legend_text pull-left "><%=segments[i].label%> ( <%=segments[i].value%> )</div><%}%></li><%}%></ul>'},g=a.parent().width();a.attr("width",g);var h=a.get(0).getContext("2d"),i=new Chart(h).Pie(c,f),j=i.generateLegend();b.html(j),window.onresize=function(d){var e=a.parent().width();a.attr("width",e);var g=a.get(0).getContext("2d"),h=new Chart(g).Pie(c,f),i=h.generateLegend();b.html(i)}}else if("donut"==d){var f={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:5,percentageInnerCutout:60,animationSteps:20,animationEasing:"swing",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="wpvr_chart_legend <%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){ if(segments[i].value==0) continue;%><li><div class=" wpvr_chart_legend_color pull-left" style="background-color:<%=segments[i].fillColor%>"></div><%if(segments[i].label){%><div class=" wpvr_chart_legend_text pull-left "><%=segments[i].label%> ( <%=segments[i].value%> )</div><%}%></li><%}%></ul>'},g=a.parent().width();a.attr("width",g);var h=a.get(0).getContext("2d"),i=new Chart(h).Doughnut(c,f),j=i.generateLegend();b.html(j),window.onresize=function(d){var e=a.parent().width();a.attr("width",e);var g=a.get(0).getContext("2d"),h=new Chart(g).Doughnut(c,f),i=h.generateLegend();b.html(i)}}else if("bar"==d){var f={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1},g=a.parent().width();a.attr("width",g);var h=a.get(0).getContext("2d"),i=new Chart(h).Bar(c,f),j=i.generateLegend();b.html(j),window.onresize=function(d){var e=a.parent().width();a.attr("width",e);var g=a.get(0).getContext("2d"),h=new Chart(g).Bar(c,f),i=h.generateLegend();b.html(i)}}else{if("radar"!=d)return!1;var f={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1},g=a.parent().width();a.attr("width",g);var h=a.get(0).getContext("2d"),i=new Chart(h).Radar(c,f),j=i.generateLegend();b.html(j),window.onresize=function(b){var d=a.parent().width();a.attr("width",d);var e=a.get(0).getContext("2d");new Chart(e).Radar(c,f)}}return i})}jQuery(document).ready(function(a){a.getScript(wpvr_globals.functions_js).done(function(){function b(){for(var a="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<10;c++)a+=b.charAt(Math.floor(Math.random()*b.length));return a}function c(c){function l(b){var c=[];a("option",b.currentTarget).each(function(){c.push(a(this).attr("value"))});var d=JSON.stringify(c,null,2);c.join(",");f.attr("value",d)}var h,i,d=c.attr("maxItems"),e=a(".wpvr_dropdown_select",c),f=a(".wpvr_dropdown_input",c),g=f.val();i=void 0===c.attr("token")?b():c.attr("token"),h=void 0!==g&&""!=g&&JSON.parse(g);var j={maxItems:null,selectOnTab:!0,closeAfterSelect:!1,delimiter:","};null!==d&&(j.maxItems=d),!1!==h&&h!=[]&&(j.items=h);var k=e.selectize(j);k.on("change",l),k.on("initialize",l),"undefined"==typeof wpvr_dropdown_fields&&(wpvr_dropdown_fields=[]),wpvr_dropdown_fields[i]=k,c.attr("token",i),c.data("selectize",k),c.data("selectize_args",j)}function d(b,c,e){if(b>=c.length){console.log("All items async processed !"),e.stopHighlight(),e.doClose();var f=p({title:wpvr_localize.work_completed,text:c.length+" thumbnails redownloaded.",pauseButton:wpvr_localize.ok_button});return f.doPause(function(){f.doClose()}),!1}a(".wpvr_current_title",e).html(c[b].post_title),a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"update_single_thumbnail",post:c[b]},success:function(a){var f=wpvr_get_json(a);if(console.log(f),0==f.status)return wpvr_alert("Something went wrong on the single processing..."),!1;var g=Math.round((parseInt(b)+1)/c.length*100);e.doProgress({pct:g,text:b+1+" / "+c.length}),b++,d(b,c,e)},error:function(a,b,c){alert(c)}})}function e(a,b){return(a+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(b||void 0===b?"<br />":"<br>")+"$2")}function f(b){var c=a(".wpvr_manual_adding_btns");"off"==b.val()?c.hide():c.fadeIn()}function g(){a("body").hasClass("folded")?a(".wpvr_test_form_buttons.bottom").addClass("folded"):a(".wpvr_test_form_buttons.bottom").removeClass("folded")}function h(b){var c=a(".wpvr_theme_screenshot"),d=c.attr("folder"),e=b.attr("value");"seven"!=e&&""!=e||(e="default");var f=d+e+".jpg";c.hide().html('<img class="wpvr_theme_screenshot_img" src="'+f+'" />').fadeIn()}function i(a,b){var c=a.attr("async_start_url"),d=a.attr("async_single_url"),e=a.attr("async_confirm_msg"),f=a.attr("async_processed_msg"),g=wpvr_show_loading({title:wpvr_localize.please_wait,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,isModal:!0});g.doProgress({pct:1,text:wpvr_localize.loading+""}),g.doHighlight(),g.attr("work",1),g.attr("processed_msg",f),g.attr("confirm_msg",e),g.attr("single_url",d),g.attr("start_url",c),g.doCancel(function(){g.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){g.doShow()},wpvr_localize.continue_button,function(){g.attr("work",0);g.attr("k")},wpvr_localize.cancel_anyway)}),j(0,b,g)}function j(b,c,d){d.attr("k",b);var f=(d.attr("url"),d.attr("processed_msg")),g=d.attr("single_url");if(b>=c.length){console.log("All items async processed !"),d.stopHighlight(),d.doClose();var h=p({title:wpvr_localize.work_completed,text:c.length+" "+f+".",pauseButton:wpvr_localize.ok_button});return h.doPause(function(){h.doClose()}),!1}a.ajax({type:"GET",url:g,data:{k:b},success:function(a){if($json=wpvr_get_json(a),console.log($json),"error"!=a){var f=(parseInt((b+1)/c.length),Math.round((parseInt(b)+1)/c.length*100));d.doProgress({pct:f,text:b+1+" / "+c.length}),b++,j(b,c,d)}else console.log("OUPS! There has been an error !"),console.log(a)},error:function(a,b,c){alert(c)}})}function n(b,c,d,e,f){if(1!=e.attr("work"))return e.doClose(),!1;if("false"!=e.attr("pause"))return!1;var g=e.attr("spinner_id");if(e.attr("k",b),b>=c.length){e.stopHighlight(),e.doClose();var h=p({title:wpvr_localize.work_completed,text:c.length+" "+wpvr_localize.videos_added_successfully+"."+wpvr_localize.videos_added_successfully_additional,pauseButton:wpvr_localize.ok_button});return h.doPause(function(){h.doClose(),wpvr_remove_loading_spinner(a("#"+g))}),h.doRemove(function(){wpvr_remove_loading_spinner(a("#"+g))}),!1}var i=c[b];if("1"==e.attr("is_deferred"))var j="1";else var j="0";a(".wpvr_video#video_"+i.div_id).addClass("adding");var k=e.attr("session"),l=i.video_id;a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"test_add_single_video",video_id:i.video_id,session:k,is_deferred:j},success:function(f){if(f=wpvr_get_json(f),0==f.status){e.stopHighlight(),e.doClose(),a(".wpvr_video[video_id="+l+"]").removeClass("adding");var h=p({title:"WP Video Robot - ERROR",text:f.msg,pauseButton:wpvr_localize.ok_button});return h.doPause(function(){h.doClose(),wpvr_remove_loading_spinner(a("#"+g))}),h.doRemove(function(){wpvr_remove_loading_spinner(a("#"+g))}),!1}data=f.data;var j=wpvr_localize.work_in_progress+"... <br/><br/> <strong>"+data.title+"</strong>";if(e.doText(j),0!=f.status){var k=Math.round((parseInt(b)+1)/c.length*100);e.doProgress({pct:k,text:b+1+" / "+c.length});var m=a(".wpvr_video#video_"+i.div_id);m.removeClass("adding").addClass("added"),1==f.status&&(a(".wpvr_video_edit_btn",m).attr("href",data.edit_link.replace("&amp;","&")),a(".wpvr_video_view_btn",m).attr("href",data.view_link.replace("&amp;","&"))),a(".wpvr_video_edit_wrap",m).fadeIn(),a(".wpvr_video_cb",m).remove(),b++,n(b,c,d,e,is_deferred)}else{a(".wpvr_video[video_id="+l+"]").removeClass("adding");p({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+f.msg})}a(".wpvr_count_checked").html(" ")},error:function(b,c,d){a(".wpvr_video[video_id="+l+"]").removeClass("adding");p({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+d})}})}function o(b,c,d,e,f){if(1!=e.attr("work"))return e.doClose(),!1;if("false"!=e.attr("pause"))return!1;var g=e.attr("spinner_id");if(e.attr("k",b),b>=c.length){e.stopHighlight(),e.doClose();var h=p({title:wpvr_localize.work_completed,text:c.length+" "+wpvr_localize.videos_unanted_successfully+".",pauseButton:wpvr_localize.ok_button});return h.doPause(function(){h.doClose(),wpvr_remove_loading_spinner(a("#"+g))}),h.doRemove(function(){wpvr_remove_loading_spinner(a("#"+g))}),!1}var i=c[b];a(".wpvr_video#video_"+i.div_id).addClass("adding");var j=e.attr("session");a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"test_add_unwanted_single_video",video_id:i.video_id,session:j,scope:e.attr("scope"),source_id:i.source_id},success:function(f){f=wpvr_get_json(f),data=f.data;var g=wpvr_localize.work_in_progress+"... <br/><br/> <strong>"+data.title+"</strong>";if(e.doText(g),1==f.status){var h=Math.round((parseInt(b)+1)/c.length*100);e.doProgress({pct:h,text:b+1+" / "+c.length});var j=a(".wpvr_video#video_"+i.div_id);j.removeClass("adding").addClass("unwanted"),a(".wpvr_video_cb",j).remove(),b++,o(b,c,d,e)}else{p({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+f.msg})}a(".wpvr_count_checked").html(" ")},error:function(a,b,c){p({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+c})}})}function p(b){var c,d=wpvr_random_token(20);if(b.hasOwnProperty("isModal")&&!0===b.isModal)var e=!0,f="is_modal";else var e=!1,f="";if(b.hasOwnProperty("progressBar")&&!0===b.progressBar)var g='<div class="wpvr_loading_progress"><div class="wpvr_loading_progress_text"></div><div class="wpvr_loading_progress_p"></div></div>';else var g="";if(b.hasOwnProperty("cancelButton"))var h='<div class="wpvr_button wpvr_loading_cancel">'+b.cancelButton+"</div>";else var h="";if(b.hasOwnProperty("title"))var i=b.title;else var i="";if(b.hasOwnProperty("boxClass"))var j=b.boxClass;else var j="";if(b.hasOwnProperty("width"))var k=b.width;else var k="30%";if(b.hasOwnProperty("height"))var l=b.height;else var l="auto";if(b.hasOwnProperty("maskClass"))var m=b.maskClass;else var m="";if(b.hasOwnProperty("text"))var n=b.text;else var n="";if(b.hasOwnProperty("pauseButton"))var o='<div class="wpvr_button wpvr_loading_pause">'+b.pauseButton+"</div>";else var o="";(c=a('<div class = "wpvr_loading_box '+j+" "+f+' " id="'+d+'" ><div class="wpvr_loading_msg"><div class="wpvr_loading_msg_title">'+i+'</div><div class="wpvr_loading_close"></div><div class="wpvr_loading_msg_text">'+n+'</div><div class="wpvr_loading_footer">'+g+h+o+'</div></div></div><div class="wpvr_loading_mask '+m+'"></div>'),c.css("display","none"),a(".wpvr_loading_msg",c).css("width",k),"auto"!=l&&(a(".wpvr_loading_msg",c).css("height",l),a(".wpvr_loading_msg_text",c).css("height","86%").css("overflow-y","scroll").css("padding","0 10px 0 0"),a(".wpvr_loading_pause",c).css("margin-top","1em").css("float","right"),a(".wpvr_loading_cancel",c).css("margin-top","1em").css("margin-left","0").css("float","left"),a(".wpvr_loading_msg_title",c).css("margin-bottom","1em")),a("#adminmenuwrap").css("z-index",100),a("body").append(c),c.fadeIn("fast","swing"),a(".wpvr_loading_msg",c).center(),a.fn.doClose=function(b){var c=this,d=a(".wpvr_loading_msg",c),e=a(".wpvr_loading_mask");d.fadeOut("fast","swing",function(){e.fadeOut("fast",function(){c.remove()})})},a.fn.doHide=function(b){var c=this,d=a(".wpvr_loading_msg",c),e=a(".wpvr_loading_mask");d.fadeOut("fast","swing",function(){e.fadeOut("fast",function(){})})},a.fn.doShow=function(b){var c=this,d=a(".wpvr_loading_msg",c),e=a(".wpvr_loading_mask");d.fadeIn("fast","swing",function(){e.fadeIn("fast",function(){})})},a.fn.doHighlight=function(b){var c=a(".wpvr_loading_progress_p",this),d=setInterval(function(){c.toggleClass("highlight")},300);return this.attr("hInt",d),d},a.fn.stopHighlight=function(b){var b=this.attr("hInt");clearInterval(b),a(".wpvr_loading_progress_p",this).removeClass("highlight")},a.fn.doProgress=function(b){var c=a(".wpvr_loading_progress_text",this),d=a(".wpvr_loading_progress_p",this);b.hasOwnProperty("pct")&&d.css({width:b.pct+"%"}),b.hasOwnProperty("text")&&c.html(b.text)},a.fn.doText=function(b){a(".wpvr_loading_msg_text",this).html(b)},a.fn.doCancel=function(b){a(".wpvr_loading_cancel",this).bind("click",b)},a.fn.doPause=function(b){a(".wpvr_loading_pause",this).bind("click",b)},a.fn.doRemove=function(a){this.on("remove",a)},a(".wpvr_loading_close",c).bind("click",function(){b.hasOwnProperty("cancelButton")?a(".wpvr_loading_cancel",c).trigger("click"):c.remove()}),a(document).keyup(function(b){27==b.keyCode&&a(".wpvr_loading_close",c).trigger("click")}),!1===e)&&a(".wpvr_loading_mask").click(function(a){a.preventDefault(),c.doClose()});return a(".wpvr_wrap").attr("box_id",d),void 0!==c?c:d}function q(b,c,d){c=void 0!==c&&c,b=void 0!==b&&b,d=void 0!==d?d:1;var e=a("form.wpvr_manage_main_form"),f=e.serializeArray();f.push({name:"action",value:"refresh_manage_videos"}),f.push({name:"get_filter_page",value:d});var g=a(".wpvr_manage_page_message"),h=a(".wpvr_manage_page_select"),i=p({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:f,success:function(d){if(i.remove(),$json=wpvr_get_json(d),$data=$json.data,a("html, body").animate({scrollTop:0},"slow"),"1"==a(".wpvr_manage_content").attr("is_fresh")&&a(".wpvr_manage_content").attr("is_fresh","0"),0==$data.total_results)return g.html(""),h.html(""),a(".wpvr_manage_content").html($data.no_results_msg),!1;g.html(wpvr_localize.showing+" <b> "+$data.show_start+"-"+$data.show_end+" </b> "+wpvr_localize.on+" <b> "+$data.total_results+" </b> "+wpvr_localize.items+"."),b&&wpvr_manage_render_pages("1",$data.last_page,h),c&&wpvr_manage_render_pages($data.actual_page,$data.last_page,h),a(".wpvr_manage_content").html($data.html),$data.debug&&console.log($data.debug)},error:function(a,b,c){i.remove();p({title:"WP Video Robot - ERROR",text:wpvr_localize.errorJSON+"<br/>"+c})}})}function t(b,c,d){d.attr("k",b);var f=(d.attr("url"),d.attr("action"));if(b>=c.length){d.stopHighlight(),d.doClose();var g=p({title:wpvr_localize.work_completed,text:c.length+" "+wpvr_localize.videos_processed_successfully+".",pauseButton:wpvr_localize.ok_button});return g.doPause(function(){g.doClose(),q(!1,!0)}),!1}var h=c[b];a(".wpvr_video#video_"+h).addClass("adding"),a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{video_id:h,action:"bulk_single_action",bulk_action:f},success:function(e){if(1==wpvr_get_json(e).status){var i=(parseInt((b+1)/c.length),Math.round((parseInt(b)+1)/c.length*100));d.doProgress({pct:i,text:b+1+" / "+c.length}),a(".wpvr_video#video_"+h).removeClass("adding").addClass("added"),a(".wpvr_video_cb[name="+h+"]").remove(),b++,t(b,c,d)}else alert("OUPS! There has been an error !")},error:function(a,b,c){alert(c)}})}function v(b,c){if(c)return!1;"advanced"==b?(a(".wizard_wrap").hide(),a(".advanced_wrap").fadeIn()):(a(".wizard_wrap").fadeIn(),a(".advanced_wrap").hide())}function x(b,c,d){var e=a("#wpvr_manage_videos"),f=wpvr_globals.ajax_url;if(b)isManual=!1;else{var b=a(".wpvr_manage_bulk_actions_select").attr("value");isManual=!0}if(""==b)return!1;var h=(a(".wpvr_manage_message"),[]);if(a(".wpvr_video_cb",e).each(function(){a(this).prop("checked")&&h.push(a(this).attr("value"))}),0==h.length)return!1;var i=wpvr_show_loading({title:wpvr_localize.please_wait,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,isModal:!0});i.doProgress({pct:1,text:wpvr_localize.loading+""}),i.doHighlight(),i.attr("work",1),i.attr("action",b),i.attr("url",f),i.doCancel(function(){i.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){i.doShow()},wpvr_localize.continue_button,function(){i.attr("work",0);i.attr("k")},wpvr_localize.cancel_anyway)}),t(0,h,i)}function y(b){var c=b.attr("value"),d=b.attr("id");a(".wpvr_addon_option_select_image[destSelect="+d+"] li").removeClass("active"),""!=c&&a(".wpvr_addon_option_select_image[destSelect="+d+"] li[v="+c+"]").addClass("active")}function z(){a(".wpvrManualOptions").each(function(){var b=a(".cmb_select",a(this));a(this).removeClass("isOn").removeClass("isOff"),"on"==b.attr("value")?a(this).addClass("isOn"):a(this).addClass("isOff")})}function A(b,c,d){var g,f=(a("#"+b.attr("counter_id")),b.val().trim().replace(/(\r\n|\n|\r)/gm,""));g=""!=f?f.split(","):[],g.push(c.trim()),f=g.join(",\n"),b.val(f),a("#"+d+" span").html(g.length)}a(".wpvr_date_field , .cmb_datepicker").each(function(){a(this).datepicker({format:"yyyy-mm-dd",language:wpvr_globals.locale,autoHide:!0})}),a(".wpvr_tipso").each(function(){a(this).tipso({background:"rgba(0,0,0,0.8)",color:"#FFF",useTitle:!0,width:"auto",maxWidth:200})}),a(".wpvr_dropdown").each(function(){c(a(this))}),a(document).bind("scroll",function(){a(".wpvr_loading_msg").center()}),a(window).bind("resize",function(){a(".wpvr_loading_msg").center()}),a(".wpvr_option_inside").each(function(){var b=a(this),c=a(".wpvr_api_get_from_default",b).click(function(d){var e=c.data();a("#"+e.key_target,b).val(e.key),a("#"+e.client_target,b).val(e.client),a("#"+e.secret_target,b).val(e.secret)})}),a(".wpvr_setter_button[action=update_all_thumbnails]").click(function(b){b.preventDefault();var c=a(this);wpvr_btn_loading(c),a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"update_all_thumbnails_prepare"},success:function(a){var b=wpvr_get_json(a);if(wpvr_btn_loading(c,!1),1!=b.status)return wpvr_alert("Something went wrong."),!1;wpvr_confirm(b.msg,function(){var a=wpvr_show_loading({title:wpvr_localize.work_in_progress+"...",text:'<br/><div class="wpvr_current_title"></div>',progressBar:!0,cancelButton:wpvr_localize.cancel_button,isModal:!0});a.doProgress({pct:1,text:wpvr_localize.loading+""}),a.doHighlight(),a.data("work",1),a.doCancel(function(){a.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){a.doShow()},wpvr_localize.continue_button,function(){a.data("work",0)},wpvr_localize.cancel_anyway)}),d(0,b.data.items,a)},"Update all thumbnails",function(){},"Cancel")},error:function(a,b,c){wpvr_alert(c)}})}),a(".wp-admin.post-type-wpvr_source").each(function(){var b=a(this),c=a("#wpvr_source_status_metabox",b);a(window).scroll(function(){a(window).scrollTop()>280?c.addClass("fixed"):c.removeClass("fixed")})}),a(".wp-admin").each(function(){var b=a(this),c=a("#wpvr_video_actions_metabox",b);a(window).scroll(function(){a(window).scrollTop()>280?c.addClass("fixed"):c.removeClass("fixed")})}),a("#widget-list .widget").each(function(){-1!=a(this).attr("id").indexOf("wpvr")&&a("h3",a(this)).addClass("wpvr_widget_holder")}),a("#plugin_update_from_iframe").click(function(b){a(this).attr("data-slug").indexOf("wpvr")>-1&&(b.preventDefault(),window.open(a(this).attr("href")))}),a(".wpvr_merge_selected_duplicates").click(function(b){b.preventDefault();var c=a(this),e=(c.attr("url"),c.attr("is_merging_all")),f=[],g=[];if("1"!=e){var h=wpvr_localize.confirm_merge_items;if(a(".wpvr_video",a(".wpvr_manage_bulk_form")).each(function(){var b=a(this);if(a(".wpvr_video_cb",b).prop("checked")){var c=a(".wpvr_video_merge",b).attr("ids").split(",");g.push(c[0]),f.push.apply(f,c)}}),0==f.length&&!bulk_action)return!1}else{g="all";var h=wpvr_localize.confirm_merge_all_items}return wpvr_confirm(h,function(){wpvr_btn_loading(c,!0);var b=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"merge_items",items:g},success:function(d){wpvr_btn_loading(c,!1),b.remove();var e=wpvr_get_json(d);if(0!=e.status){var f=e.data.exec_time,g=e.data.count.videos,h=e.data.count.duplicates,i=g+" "+wpvr_localize.videos_processed_successfully+".<br/>"+h+" "+wpvr_localize.duplicates_removed_in+" "+f+" "+wpvr_localize.seconds+".",j=p({title:wpvr_localize.wp_video_robot,text:i,isModal:!1,pauseButton:wpvr_localize.ok_button});j.doPause(function(){q(!1,!0),a(".wpvr_manage_bulk_actions_select").fadeOut(),a(".wpvr_manage_checkAll").attr("state","off"),a(".wpvr_manage_bulk_actions_select .wpvr_count_checked").html(""),j.remove()})}},error:function(a,b,c){alert(c)}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button),!1}),a("#wpvr_video_metabox").hide(),a(".wpvr_toggle_advanced_adding").click(function(b){if(b.preventDefault(),a(this).hasClass("is_advanced"))a(this).removeClass("is_advanced"),a("#wpvr_video_metabox").fadeOut();else{a(this).addClass("is_advanced"),a("#wpvr_video_metabox").fadeIn();var c=a("#wpvr_video_metabox").offset().top-50;a("html, body").animate({scrollTop:c},"slow")}}),a(".wpvr_import_wizzard").each(function(){var b=a(this);b.click(function(c){c.preventDefault();var d=wpvr_add_loading_spinner(b,"pull-right");a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"get_video_wizzard_form"},success:function(c){function j(){""==a(this).attr("value")?a(".wpvr_wizzard_next_step",h).addClass("disabled"):a(".wpvr_wizzard_next_step",h).removeClass("disabled")}wpvr_remove_loading_spinner(d);var e=wpvr_get_json(c),f=b.attr("video_service"),g=b.attr("video_id"),h=p({title:"Import a video manually",width:"50%",boxClass:"wpvr_wizzard_wrap",text:e,isModal:!1,cancelButton:'<i class="fa fa-times"></i> '+wpvr_localize.close_wizard}),i=1;h.attr("step",i),h.attr("far_step",i),a(".wpvr_loading_msg",h).center(),h.doCancel(function(){h.doClose()}),a(".wpvr_wizzard_service",h).click(function(){a(".wpvr_wizzard_service",h).removeClass("active"),a(this).addClass("active"),a("#wpvr_wizzard_service").attr("value",a(this).attr("service")),a("#wpvr_wizzard_pid").attr("value",a(this).attr("pid")),a(".wpvr_wizzard_next_step",h).removeClass("disabled")}),a(".wpvr_wizzard_choice",h).click(function(){a(this).hasClass("active")?(a(this).removeClass("active"),a(this).addClass("inactive"),a(".wpvr_wizzard_choice_value",a(this)).attr("value","off")):(a(this).addClass("active"),a(this).removeClass("inactive"),a(".wpvr_wizzard_choice_value",a(this)).attr("value","on"));var b=0;a(".wpvr_wizzard_choice_value",h).each(function(){"on"==a(this).attr("value")&&b++}),0==b?a(".wpvr_wizzard_run",h).addClass("disabled"):a(".wpvr_wizzard_run",h).removeClass("disabled")}),a(".wpvr_wizzard_next_step",h).click(function(b){if(b.preventDefault(),!a(this).hasClass("disabled")){var c=parseInt(h.attr("step"));c++,a(".wpvr_wizzard_form",h).removeClass("step_1").removeClass("step_2").removeClass("step_3").removeClass("step_4").addClass("step_"+c),h.attr("step",c),c>=h.attr("far_step")&&(a(".wpvr_wizzard_next_step",h).addClass("disabled"),h.attr("far_step",c)),2==c&&a(".wpvr_wizzard_form_param",h).focus(),a(".wpvr_wizzard_form_param",h).each(j)}}),a(".wpvr_wizzard_form_param",h).each(j),a(".wpvr_wizzard_form_param",h).keyup(j),a(".wpvr_wizzard_form_param",h).change(j),a(".wpvr_wizzard_form_param",h).focusout(j),a(".wpvr_wizzard_form_param",h).bind("paste",function(){setTimeout(function(){j()},100)}),a(".wpvr_wizzard_prev_step",h).click(function(b){b.preventDefault();var c=parseInt(h.attr("step"));c--,a(".wpvr_wizzard_form",h).removeClass("step_1").removeClass("step_2").removeClass("step_3").removeClass("step_4").addClass("step_"+c),h.attr("step",c),c<h.attr("far_step")&&a(".wpvr_wizzard_next_step",h).removeClass("disabled"),1==c?""==a("#wpvr_wizzard_service").attr("value")?a(".wpvr_wizzard_next_step",h).addClass("disabled"):a(".wpvr_wizzard_next_step",h).removeClass("disabled"):a(".wpvr_wizzard_form_param",h).each(j)}),""!=f&&a(".wpvr_wizzard_service[service="+f+"]",h).trigger("click"),""!=g&&a("#wpvr_wizzard_param").attr("value",g),a(".wpvr_wizzard_run",h).click(function(b){if(b.preventDefault(),a(this).hasClass("disabled"))return!1;var c=a("#wpvr_wizzard_pid",h).attr("value"),d=a("#wpvr_wizzard_service",h).attr("value"),e=a("#wpvr_wizzard_param",h).attr("value");a(".cmb_id_wpvr_video_service .cmb_option[value="+d+"]").prop("checked",!0),a("#wpvr_video_"+c+"Id").attr("value",e),a("#wpvr_video_enableManualAdding").val("on"),a(".wpvr_wizzard_choice_value",h).each(function(){"on"==a(this).attr("value")?a("#"+a(this).attr("target_id")).val("on"):a("#"+a(this).attr("target_id")).val("off")}),h.doClose(),a(".wpvr_wizzard_overlay").fadeIn(),a(".wpvr_manual_import_trigger").trigger("click")}),h.doPause(function(){i++,a(".wpvr_wizzard_form",h).removeClass("step_1").removeClass("step_2").removeClass("step_3").removeClass("step_4").addClass("step_"+i)})}})})}),a(".wpvr_imageselect_wrap").each(function(){var b=a(this),c=a(".wpvr_imageselect_input",b);a(".wpvr_imageselect_item[data-value="+c.val()+"]",b).addClass("active"),a(".wpvr_imageselect_item",b).click(function(d){d.preventDefault(),a(".wpvr_imageselect_item",b).removeClass("active"),a(this).addClass("active"),c.attr("value",a(this).data("value"))})}),a(".wpvr_popup_info").each(function(){var b=a(this),c=b.attr("popup_content"),d=b.attr("popup_title");b.click(function(b){b.preventDefault(),void 0===d&&(d="WP Video Robot"),void 0===c&&(c="");var f=p({title:d,text:'<div class="wpvr_selectable">'+e(c)+"</div>",pauseButton:wpvr_localize.close_button});a(".wpvr_loading_msg",f).center(),f.doPause(function(){f.doClose()})})}),a(".wpvrArgs td").each(function(){var b=a(this),c=a(".wpvr_wanted_param",b),d=a("input, textarea",b);c.click(function(b){b.preventDefault(),d.each(function(){var b=a(this);b.hasClass("wpvr_helper_input")||b.val(c.html())})})}),a(".wpvr_read_changelog").click(function(b){var c=a(this).attr("changelog_url"),d=a(this).attr("changelog_title");a.ajax({type:"GET",url:c,success:function(b){var c=p({height:"80%",width:"70%",title:d,text:e(b),pauseButton:wpvr_localize.close_button});a(".wpvr_loading_msg",c).center(),c.doPause(function(){c.doClose()})},error:function(a,b,c){alert(c)}})}),a(".wpvr_import_sample_sources").click(function(b){b.preventDefault();var c=a(this),e=(c.attr("url"),wpvr_add_loading_spinner(c,"pull-right"));wpvr_confirm(wpvr_localize.confirm_import_sample_sources,function(){a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"import_sample_sources"},success:function(a){var b=wpvr_get_json(a);wpvr_remove_loading_spinner(e),wpvr_alert(b.msg)},error:function(a,b,c){alert(c)}})},wpvr_localize.cancelButton,function(){wpvr_remove_loading_spinner(e)})}),a(".wpvr_show_when_loaded").fadeIn().css("opacity",1),a(".wpvr_hide_when_loaded").hide(),a("body.post-type-wpvr_source form#post").each(function(){var b=a(this),c=function(){a("#wpvr_metabox_test").attr("ready",0)};a("input",b).change(c),a("select",b).change(c)}),g(),a("#collapse-menu").click(function(a){g()}),a(".wpvr_test_screen_wrap").each(function(){var b=a(this),c=a(".wpvr_videos",b).offset().top,d=a(".wpvr_test_form_buttons.bottom",b);a(window).scroll(function(){var b=a(window).scrollTop()-c;a(window).scrollTop()+a(window).height()>a(document).height()-100?d.hasClass("fixed")&&d.hide().removeClass("fixed").fadeIn():b>50?d.hasClass("fixed")||d.hide().addClass("fixed").fadeIn():d.hide().removeClass("fixed").show()})}),a(".wpvr_options_page").each(function(){var b=a(this),c=a("#wpvr_options",b).offset().top,d=a(".wpvr_options_bottom_actions",b);a(window).scroll(function(){var b=a(window).scrollTop()-c;a(window).scrollTop()+a(window).height()>a(document).height()-50?d.hasClass("fixed")&&d.hide().removeClass("fixed").fadeIn():b>50?d.hasClass("fixed")||d.hide().addClass("fixed").fadeIn():d.hide().removeClass("fixed").show()})}),a("#wpvr_video_enableManualAdding").each(function(){var b=a(this);f(b),b.change(function(){f(b)})}),a(".wpvr_embed_video_btn").click(function(b){b.preventDefault();var c=a(this).attr("dialog_title"),d=a(this).attr("msg"),e=a(this).attr("code"),f=p({title:c,text:" "+d+' <br/> <br/><div class="wpvr_embed_code_wrapper">'+e+"</div>",pauseButton:wpvr_localize.ok_button});f.doPause(function(){f.doClose()})}),a("#player_theme").each(function(){var b=a(this);h(b),b.change(function(){h(b)})}),a(".wpvr_option_slider_input_text").each(function(){var b=a(this),c=a("#"+b.attr("slider_id")),d=parseInt(c.attr("slider_min")),e=parseInt(c.attr("slider_max"));b.on("change",function(){var f=a(this).val();f<d&&(f=d),f>e&&(f=e),c.val(parseInt(f)),b.attr("value",f)})}),a(".wpvr_option_slider_range").each(function(){var b=a(this),c=b.attr("slider_input"),d=b.attr("slider_min"),e=b.attr("slider_max"),f=b.attr("slider_value"),g=b.attr("slider_step"),h=a(".wpvr_option_slider_input #"+c),i=b.get(0);noUiSlider.create(i,{start:parseInt(f),step:parseInt(g),connect:[!0,!1],range:{min:parseInt(d),max:parseInt(e)}}),i.noUiSlider.on("slide",function(){h.val(parseInt(i.noUiSlider.get()))})}),a(".wpvr_wuh_wrap").each(function(){var b=a(this),c=a(".wpvr_wuh_slider",b),d=a(".wpvr_wuh_input.a",b),e=a(".wpvr_wuh_input.b",b),f=c.get(0);noUiSlider.create(f,{start:[parseInt(d.val()),parseInt(e.val())],connect:[!1,!0,!1],step:parseInt(c.data("step")),tooltips:[wNumb({decimals:0,postfix:"H"}),wNumb({decimals:0,postfix:"H"})],range:{min:parseInt(c.data("min")),max:parseInt(c.data("max"))}}),f.noUiSlider.on("slide",function(){var b=(parseInt(c.val()),f.noUiSlider.get());d.val(parseInt(b[0])),e.val(parseInt(b[1]))})}),a(".wpvr_video_view_ext").click(function(b){b.preventDefault();var c=a(this);window.open(c.attr("href"),c.attr("target")).focus()}),a(".wpvr_option_value_wrap").each(function(){var b=a(this),c=a(".wpvr_option_value_slider",b),d=a(".wpvr_option_value_input.a",b),e=c.get(0),f=c.data("tooltip-suffix");noUiSlider.create(e,{start:d.val(),connect:[!0,!1],step:parseInt(c.data("step")),tooltips:wNumb({decimals:0,postfix:f}),range:{min:parseInt(c.data("min")),max:parseInt(c.data("max"))}}),e.noUiSlider.on("slide",function(){var a=e.noUiSlider.get();d.val(parseInt(a))})}),a(".wpvr_option_image_wrap").each(function(){var b=a(this),c=b.attr("default"),d=a(".wpvr_option_image_thumb_button",b),e=a(".wpvr_option_image_thumb",b),f=a(".wpvr_option_image_thumb_input",b);a("body").on("click",".wpvr_option_image_remove",function(a){e.hide().html('<img class="wpvr_option_thumb_img" src="'+c+'" />').fadeIn(),f.val("")}),d.click(function(a){a.preventDefault();var b=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(a){var c=b.state().get("selection").first(),d=c.toJSON().url;f.val(d);var g="";g+='<img class="wpvr_option_thumb_img" src="'+d+'" />',g+='<button class="wpvr_option_image_remove"><i class="fa fa-remove"></i></button>',e.html(g)})})}),a("#wpvr_get_mb_close").click(function(a){a.preventDefault(),window.close()}),a("#wpvr_get_metaboxes").click(function(b){b.preventDefault(),window.open(a(this).attr("url"))}),a(".wpvr_test_form_info").click(function(b){var d=(a(this),a("#wpvr_grouped_info").html());b.preventDefault();var e=p({title:wpvr_localize.group_info,text:" "+d,pauseButton:wpvr_localize.ok_button});e.doPause(function(){e.doClose()})}),a(".wpvr_async_btn").each(function(){var b=a(this),c=b.attr("async_start_url"),e=(b.attr("async_single_url"),b.attr("async_confirm_msg"));b.attr("async_processed_msg");b.click(function(d){d.preventDefault(),a.ajax({type:"GET",url:c,success:function(a){if($json=wpvr_get_json(a),"0"==e)i(b,$json.data);else{var c=e.replace("%c%",$json.count);wpvr_confirm(c,function(){i(b,$json.data)},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}},error:function(a,b,c){alert(c)}})})}),jQuery.extend({getQueryParameters:function(a){return(a||document.location.search).replace(/(^\?)/,"").split("&").map(function(a){return a=a.split("="),this[a[0]]=a[1],this}.bind({}))[0]}}),a(".wpvr_async_graph").each(function(){var b=a(this),c=b.attr("day"),d=b.attr("daylabel"),e=b.attr("daytime"),f=b.attr("hex_color"),g=b.attr("chart_id"),h=a(".inside",b);a(".wpvr_nav_tab#b").click(function(i){b.hasClass("async_loaded")||setTimeout(function(){a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"wpvr_render_async_stress_graph",hex_color:f,day:c,daylabel:d,daytime:e,chart_id:g},success:function(c){if($json=wpvr_get_json(c),1!=$json.status)return!1;var d=$json.data.js;wpvr_async_draw_chart(a("#"+d.chart_id),a("#"+d.chart_id+"_legend"),{labels:a.parseJSON(d.labels),datasets:[{label:" Scheduled Sources",fillColor:d.fillColor_bis,strokeColor:d.strokeColor_bis,pointColor:d.pointColor_bis,pointHighlightFill:d.pointHighlightFill,data:a.parseJSON(d.sources)},{label:" Wanted Videos",fillColor:d.fillColor,strokeColor:d.strokeColor,pointColor:d.pointColor,pointHighlightFill:d.pointHighlightFill,data:a.parseJSON(d.videos)},{label:" Max. Wanted Videos",fillColor:d.fillColor_max,strokeColor:d.strokeColor_max,pointColor:d.pointColor_max,pointHighlightFill:d.pointHighlightFill,data:a.parseJSON(d.max)}]},"radar",d.chart_id),a(".wpvr_insite_loading",h).hide(),a(".wpvr_graph_wrapper",h).fadeIn(),b.addClass("async_loaded")},error:function(a,b,c){console.log(c)}})},300)})}),a(".wpvr_has_master").each(function(){var b=a(this),c=a("#"+b.attr("master_id")),d=b.attr("master_value").split(",");-1!=d.indexOf(c.val())?b.fadeIn():b.hide(),c.each(function(){"customBefore"==a(this).val()||"customAfter"==a(this).val()?a(".cmb_id_wpvr_source_appendCustomText").show():a(".cmb_id_wpvr_source_appendCustomText").hide()}),c.bind("change",function(){-1!=d.indexOf(c.val())?b.fadeIn():b.hide()})}),a(".wpvr_countup").each(function(){var b=a(this),c=b.attr("count-start"),d=b.attr("count-end");console.log(b),new CountUp(b.attr("id"),c,d,0,2).start()}),a(".wpvr_wrap_loading").hide(),a(".wpvr_wrap").fadeIn(),a(".wpvr_super_wrap").css("visibility","visible").hide().fadeIn();var k=0;a(".wpvr_wp_notice").each(function(){k++;var b=100+400*k,c=a(this);setTimeout(function(){c.fadeIn()},b)}),a("#wpvr_save_source_btn").click(function(b){b.preventDefault(),wpvr_add_loading_spinner(a(this),"pull-right"),a("#publishing-action #publish").trigger("click"),a("#original_post_status").attr("value","publish"),a("#hidden_post_status").attr("value","publish")}),a(".wpvr_manual_import_trigger").click(function(b){b.preventDefault(),a("#publishing-action #publish").trigger("click"),a("#original_post_status").attr("value","publish"),a("#hidden_post_status").attr("value","publish")}),a(".wpvr_clear_logs").click(function(b){b.preventDefault();var c=a(this);wpvr_confirm(wpvr_localize.confirm_clear_logs,function(){wpvr_btn_loading(c,!0),a.ajax({url:wpvr_globals.ajax_url,type:"POST",data:{action:"wpvr_clear_logs"},success:function(a){wpvr_btn_loading(c,!1),location.reload()}})},wpvr_localize.continue_only,function(){},wpvr_localize.cancel_button)}),a(".wpvr_do_dialog").click(function(b){b.preventDefault();var c=a(this),d=c.attr("dialog_title"),e=c.attr("dialog_content"),f=c.attr("dialog_button"),g=c.attr("dialog_modal");""!=d&&void 0!=d||(d=wpvr_localize.wp_video_robot),""!=f&&void 0!=f||(f=wpvr_localize.ok_button),g=void 0!=g&&1==g;var h=wpvr_show_loading({title:d,text:e,pauseButton:f,isModal:g});h.doPause(function(){h.remove()})}),a(".isMaster").each(function(){var b=a(this),c=b.attr("masterOf").split(","),d=b.attr("masterValue"),e=b.attr("option_type");if(void 0!==b.attr("tabMasterOf"))var f=b.attr("tabMasterOf").split(",");else var f=[];if("none"==b.css("display"))var g=!1;else var g=!0;"switch"==e&&(b.delegate(".wpvr_switch_btn","lcs-statuschange",function(){if(a(this).is(":checked"))if(g)var d=!0;else var d=!1;else var d=!1;b.removeClass("on").removeClass("off"),d?b.addClass("on"):b.addClass("off"),wpvr_control_slaves(c,d),wpvr_control_tab_slaves(f,d)}),a(".wpvr_switch_btn",b).each(function(){if(a(this).prop("checked"))var d=!0;else var d=!1;b.removeClass("on").removeClass("off"),d?b.addClass("on"):b.addClass("off"),wpvr_control_slaves(c,d),wpvr_control_tab_slaves(f,d)}),a(".wpvr-onoffswitch",b).trigger("click").trigger("click"),a(".wpvr-onoffswitch",b).bind("changeClass",function(){if(a(this).hasClass("wpvr-onoffswitch-checked"))if(g)var b=!0;else var b=!1;else var b=!1;wpvr_control_slaves(c,b),wpvr_control_tab_slaves(f,b)}),a(".wpvr_option_button>.wpvr-onoffswitch",b).each(function(){if(a(this).hasClass("wpvr-onoffswitch-checked"))var b=!0;else var b=!1;wpvr_control_slaves(c,b),wpvr_control_tab_slaves(f,b)})),"select"==e&&(a(".wpvr_option_select",b).bind("change",function(){if(a(this).attr("value")==d)var b=!0;else var b=!1;wpvr_control_slaves(c,b,a(this).attr("value"))}),a(".wpvr_option_select",b).each(function(){if(a(this).attr("value")==d)var b=!0;else var b=!1;wpvr_control_slaves(c,b,a(this).attr("value"))}))}),a(".wpvr_load_asyncr").each(function(){var b=a(this),c=b.attr("url"),d=b.attr("method");void 0==d&&(d="timeout"),"timeout"==d?setTimeout(function(){var d=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"GET",url:c+"",success:function(c){d.remove(),b.html(c),a(".wpvr_nav_tab#a",b).trigger("click"),b.fadeIn()},error:function(a,b,c){alert(c)}})},1e3):b.click(function(b){b.preventDefault();var d=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"GET",url:c+"",success:function(a){var b=wpvr_get_json(a);d.remove();var c=wpvr_show_loading({title:"WP Video Robot",text:b.msg.msg,pauseButton:"OK",isModal:!1});c.doPause(function(){c.remove()})},error:function(a,b,c){alert(c)}})})}),a(".wpvr_load_asyncr_ajax").each(function(){var b=a(this),c=this,e=(b.attr("action"),b.attr("method")),f=b.attr("json");void 0==e&&(e="timeout"),f=void 0!=f&&1==f;var g=[];g.push({name:"action",value:b.attr("action")}),g.push({name:"json",value:f}),a.each(c.attributes,function(a,b){"data-"==b.name.substr(0,5)&&g.push({name:b.name.replace("data-",""),value:b.value})}),"timeout"==e?setTimeout(function(){var c=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"POST",data:g,url:wpvr_globals.ajax_url,success:function(d){if(f)var e=wpvr_get_json(d),g=e.msg;else var g=d;c.remove(),b.html(g),a(".wpvr_nav_tab#a",b).trigger("click"),b.fadeIn()},error:function(a,b,c){alert(c)}})},1e3):b.click(function(b){b.preventDefault();var c=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"POST",data:g,url:wpvr_globals.ajax_url,success:function(a){if(f)var b=wpvr_get_json(a),d=b.msg;else var d=a;c.remove();var e=wpvr_show_loading({title:"WP Video Robot",text:d,pauseButton:"OK",isModal:!1});e.doPause(function(){e.remove()})},error:function(a,b,c){alert(c)}})})}),a(".wpvr_metabox_button").each(function(){var b=a(this),c=b.attr("url");b.click(function(d){if(d.preventDefault(),b.hasClass("wpvr_isLoading"))return console.log("is loading"),!1;var e=wpvr_add_loading_spinner(b,"pull-right");if(b.hasClass("run"))wpvr_confirm(wpvr_localize.confirm_run_sources,function(){wpvr_remove_loading_spinner(e),b.hasClass("sameWindow")?window.location.href=c:window.open(c)},wpvr_localize.yes,function(){wpvr_remove_loading_spinner(e)},wpvr_localize.cancel_button);else if(wpvr_remove_loading_spinner(e),b.hasClass("test")&&"1"!=b.attr("ready")){var f=p({title:wpvr_localize.wp_video_robot,text:wpvr_localize.save_source_first,pauseButton:wpvr_localize.save_source,cancelButton:wpvr_localize.cancel_button});f.doPause(function(){f.doClose(),a("#wpvr_save_source_btn").trigger("click")}),f.doCancel(function(){f.doClose()})}else b.hasClass("sameWindow")?window.location.href=c:window.open(c)})}),a("select[name=filler_from]").each(function(){var b=a(this);b.change(function(){"custom_data"==b.attr("value")?a("#filler_from_custom").fadeIn():a("#filler_from_custom").hide()})}),a(".wpvr_selectize_list").each(function(){var b=a(this),c=b.attr("maxItems"),d=b.hasClass("verifyEmail");b.selectize({delimiter:",",maxItems:c,persist:!1,create:function(a){if(d){if(wpvr_validate_email(a))return{value:a,text:a};var b=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"Please enter a valid email address.",pauseButton:wpvr_localize.ok_button,isModal:!1});return b.doPause(function(){b.remove()}),{}}return{value:a,text:a}}})}),a(".wpvr_cmb_selectize").each(function(){function l(b){var c=new Array;a("option",b.currentTarget).each(function(){c.push(a(this).attr("value"))});var d=JSON.stringify(c,null,2);g.attr("value",d)}var b=a(this),c=b.attr("maxItems"),d=a(".cmb_select",b),e=b.attr("service");if(b.hasClass("createItems"))var f=!0;else var f=!1;if(""==e)if(f)var g=a("#wpvr_source_postTags");else var g=a("#wpvr_source_postCats");else var g=a("#"+e);var h=b.attr("service");if(h)var g=a("#"+h);var i=g.attr("value").trim();if(void 0!=i&&0!=i.length)var j=JSON.parse(i);else j=!1;if(b.hasClass("createItems"))var f=!0;else var f=!1;if(""!=c)if(f)var k=d.selectize({items:j,delimiter:",",maxItems:c,persist:!1,create:function(a){return{value:a,text:a}}});else var k=d.selectize({maxItems:c,items:j});else k=0!=j?d.selectize({maxItems:null,items:j}):d.selectize({maxItems:null,items:[]});b.hasClass("setDefault")&&k.selectize.setValue("default"),k.on("change",l),k.on("initialize",l)}),a("#wpvr_test_form").fadeIn(),a(".wpvr_show_after_load").fadeIn(),a("#wpvr_options").each(function(){a(this),a(".wpvr_nav_tab ").click(function(b){b.preventDefault();var c=a(this);a(".wpvr_nav_tab").removeClass("active"),c.addClass("active"),a(".wpvr_options_section").hide(),a(".wpvr_options_section[section="+c.attr("id")+"]").fadeIn()})}),a("#wpvr_options_permalinkBase").change(function(){var b=a(this).attr("value"),c=a("#wpvr_options_customPermalinkBase");"custom"==b?c.fadeIn():c.fadeOut()}),a("#wpvr_options_enableRewriteRule").change(function(){var b=a(this).prop("checked"),c=a(".wpvr_options_enableRewriteRule_helper");b?c.fadeIn():c.fadeOut()}),a("#wpvr_options_enableContentPrefix").change(function(){var b=a(this).prop("checked"),c=a("#wpvr_options_contentPrefix");b?c.fadeIn():c.fadeOut()}),a("#wpvr_options_enableContentSuffix").change(function(){var b=a(this).prop("checked"),c=a("#wpvr_options_contentSuffix");b?c.fadeIn():c.fadeOut()}),a(".__wp-switch-editor").click(function(b){return a(this),!1}),a("#wpvr_filler_list").each(function(){wpvr_filler_update()}),a("body").on("click",".wpvr_filler_remove",function(b){b.preventDefault();var c=a(this).attr("k");a(this).attr("url"),wpvr_confirm(wpvr_localize.confirm_remove_filler,function(){a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"remove_filler",k:c},success:function(a){wpvr_filler_update()},error:function(a,b,c){alert(c)}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}),a(".wpvr_field_selectize").each(function(){var b=a(this);if(""!=b.attr("maxItems")){var c=new Array;a("option",b).each(function(){"1"==a(this).attr("c")&&c.push(a(this).attr("value"))}),b.selectize({maxItems:b.attr("maxItems"),items:c})}else b.selectize()}),a(".wpvr_filters_toggle").each(function(){var b=a(this),c=a(".wpvr_filters_wrap"),d=a(".tablenav.top"),e=0;b.click(function(a){a.preventDefault(),b.toggleClass("on"),d.toggleClass("on")}),a(".wpvr_filter_dropdown",c).each(function(){a(this).hasClass("active")&&e++}),e>0&&(a(".wpvr_filters_count",b).html("("+e+")"),a(".wpvr_filters_toggle").trigger("click"))}),a(".wpvr_filters_wrap").each(function(){var b=a(this);a(".wpvr_admin_filters_button.refine",b).click(function(b){b.preventDefault(),wpvr_add_loading_spinner(a(this)),a("#post-query-submit").trigger("click")}),a(".wpvr_admin_filters_button.clear",b).click(function(c){c.preventDefault(),a(".wpvr_filter_dropdown_wrap ",b).each(function(){wpvr_dropdown_fields[a(this).attr("token")][0].selectize.clear(),a(".wpvr_admin_filters_input").attr("value",""),a("#cat.postform").val("0"),a("#filter-by-date").val("0")})})}),a("body").on("click","#wpvr_filler_delete_all",function(b){b.preventDefault();var c=a(this),e=(c.attr("url"),wpvr_add_loading_spinner(c,"pull-right"));if("1"==a(this).attr("is_demo")){var g=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1});return g.doPause(function(){g.remove()}),g.doRemove(function(){wpvr_remove_loading_spinner(e)}),!1}wpvr_confirm(wpvr_localize.confirm_delete_fillers,function(){var b=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"delete_all_fillers"},success:function(a){b.remove();var c=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.fillers_deleted,cancelButton:wpvr_localize.ok_button,isModal:!1});wpvr_filler_update(),c.doCancel(function(){c.remove(),wpvr_remove_loading_spinner(e)})},error:function(a,b,c){alert(c)}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}),a("body").on("click","#wpvr_filler_add_from_preset",function(b){b.preventDefault();var c=a(this),e=(a(this).attr("url"),a("#filler_preset").attr("value"));if(""==e)return boxError=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.select_preset,pauseButton:wpvr_localize.ok_button,isModal:!1}),boxError.doPause(function(){boxError.remove()}),!1;var f=wpvr_add_loading_spinner(c,"pull-right");wpvr_confirm(wpvr_localize.confirm_add_from_preset,function(){var b=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"add_fillers_from_preset",preset:e},success:function(a){wpvr_filler_update(),b.remove(),wpvr_remove_loading_spinner(f)},error:function(a,b,c){alert(c)}})},wpvr_localize.yes,function(){wpvr_remove_loading_spinner(f)},wpvr_localize.cancel_button)}),a(".wpvr_addons_by_cats").each(function(){var b=a(this),c=a(".wpvr_addons_categories",b),d=a(".wpvr_addons_grid",b);a("button",c).click(function(b){b.preventDefault();var e=a(this);a("button",c).removeClass("wpvr_white_button"),e.addClass("wpvr_white_button"),console.log(d.attr("id"));var f=e.attr("cat");console.log(f),a(".wpvr_addon_box",d).each(function(){var b=a(this);b.hide(),-1==a.inArray(f,b.attr("categories").split(","))?b.hide():b.fadeIn()})})}),a("body").on("click","#wpvr_filler_run",function(b){b.preventDefault();var c=a(this);c.attr("url"),wpvr_confirm(wpvr_localize.confirm_run_fillers,function(){var b=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter}),d=wpvr_add_loading_spinner(c,"pull-right");a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"run_fillers"},success:function(a){$json=wpvr_get_json(a),$data=$json.data,b.remove();var c=wpvr_show_loading({title:"WP Video Robot",text:"<strong>"+$data.found+"</strong> videos found and <strong>"+$data.processed+"</strong> fields processed. ",isModal:!1,pauseButton:wpvr_localize.ok_button});c.doPause(function(){c.remove(),wpvr_remove_loading_spinner(d)}),c.doRemove(function(){wpvr_remove_loading_spinner(d)})},error:function(a,b,c){alert(c)}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)});var u=new Clipboard(".wpvr_copy_btn");a(".wpvr_copy_btn").click(function(a){a.preventDefault()}),u.on("success",function(b){var c=a(b.trigger);c.addClass("wpvr_green_button").addClass("done"),setTimeout(function(){c.removeClass("wpvr_green_button").removeClass("done")},500)}),u.on("error",function(a){console.log(a)}),a("#wpvr_filler_add").click(function(b){b.preventDefault();var c=a(this),e=(c.attr("url"),a("."+c.attr("form"))),f=e.serialize(),g=a(".wpvr_filler_input[name=filler_from]",e),h=a(".wpvr_filler_input[name=filler_to]",e),i=wpvr_add_loading_spinner(c,"pull-right");if(""==g.attr("value")||""==h.attr("value")){var j=wpvr_show_loading({title:"WP Video Robot",pauseButton:wpvr_localize.ok_button,isModal:!1,text:wpvr_localize.correct_entry});return j.doPause(function(){j.remove(),wpvr_remove_loading_spinner(i)}),j.doRemove(function(){wpvr_remove_loading_spinner(i)}),!1}a("#wpvr_filler_list").html('<i class="fa fa-cogs fa-spinner"></i>');var k=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:f,success:function(){k.remove(),wpvr_remove_loading_spinner(i),g.attr("value",""),h.attr("value",""),a("#filler_from_custom").attr("value","").hide(),wpvr_filler_update()},error:function(a,b,c){alert(c)}})}),a(".wpvr_track_dups").click(function(b){b.preventDefault(),window.open(a(this).attr("url"),"_blank")}),a("#wpvr_options_apiConnect").change(function(){v(a(this).val())}),a("#wpvr_options_apiConnect").trigger("change"),a("#wpvr_options_apiConnect").each(function(){v(a(this).attr("value"))}),a(".wpvr_single_unwanted").click(function(b){b.preventDefault();var c=a(this),d=a("i",c),f=(c.attr("url"),c.attr("post_id")),g=c.attr("action");wpvr_startLoading(d),a.ajax({url:wpvr_globals.ajax_url,type:"POST",data:{action:"add_remove_unwanted",post_id:f,wpvr_action:g},success:function(b){$json=wpvr_get_json(b),wpvr_stopLoading(d),1==$json.status&&("remove"==g&&(d.removeClass("fa-undo").addClass("fa-ban"),a("span",c).html(wpvr_localize.add_to_unwanted),c.attr("action","add"),c.removeClass("wpvr_black_button").addClass("wpvr_red_button")),"add"==g&&(d.removeClass("fa-ban").addClass("fa-undo"),a("span",c).html(wpvr_localize.remove_from_unwanted),c.attr("action","remove"),c.addClass("wpvr_black_button").removeClass("wpvr_red_button")))}})}),a(".wpvr_sidebar_toggle").click(function(b){b.preventDefault(),a(this).hasClass("on")?(a(this).removeClass("on"),a(".wpvr_manage_box").removeClass("open")):(a(this).addClass("on"),a(".wpvr_manage_box").addClass("open"))}),a(".wpvr_get_token").click(function(b){b.preventDefault();var d=(a(this).closest(".wpvr_option"),a(this).attr("auth_url")),f=(a(this).attr("local"),a(this).attr("service")),g=a(this).attr("token_input_id"),h=window.open(d,"grant_window","width=730,height=550"),i=window.setInterval(function(){try{var b=a.getQueryParameters(h.document.URL);if(void 0!==b.register_token&&void 0!==b.access_token&&""!=b.access_token&&(window.clearInterval(i),c=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:f.toUpperCase()+" "+wpvr_localize.is_now_connected,pauseButton:wpvr_localize.ok_button,isModal:!1}),c.doPause(function(){c.remove(),a("#"+g).attr("value",b.access_token),a(".wpvr_expire").removeClass("red").removeClass("yellow").removeClass("green").removeClass("orange").addClass("green"),a(".wpvr_expire span").html("TOKEN RENEWED")})),-1!=h.document.URL.indexOf("wpvr.actions.php")){window.clearInterval(i);var c=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:f.toUpperCase()+" "+wpvr_localize.is_now_connected,pauseButton:wpvr_localize.ok_button,isModal:!1});c.doPause(function(){c.remove(),a(".wpvr_token_state[service="+f+"]").removeClass("off").addClass("on"),a(".wpvr_grid_option[service="+f+"]").removeClass("off").addClass("on")})}}catch(a){}},100)}),a(".wpvr_remove_token").click(function(b){b.preventDefault();var c=a(this).attr("service");a(this).attr("url"),a(this).closest(".wpvr_option");wpvr_confirm(wpvr_localize.confirm_cancel_access,function(){a.ajax({url:wpvr_globals.ajax_url,type:"POST",data:{service:c,action:"wpvr_clear_token"},success:function(b){console.log(b),a(".wpvr_token_state[service="+c+"]").removeClass("on").addClass("off"),a(".wpvr_grid_option[service="+c+"]").removeClass("on").addClass("off")}})},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}),a(".wpvr_addon_options_wrapper").each(function(){var b=a(this),c=a(this).attr("addon_id"),d=a(".wpvr_addons_options_form",b);a(".wpvr_save_addon_options",b).each(function(){var b=a(this),f=(b.attr("url"),b.attr("tab"));b.click(function(e){if(e.preventDefault(),"undefined"!=typeof tinyMCE)for(var g=0;g<tinymce.editors.length;g++)tinymce.editors[g].save();if(b.hasClass("wpvr_isLoading"))return!1;var h=d.serializeArray();h.push({name:"action",value:"save_addon_options"},{name:"tab",value:f},{name:"id",value:c});var i=wpvr_add_loading_spinner(b,"pull-right");a.ajax({type:"POST",data:h,url:wpvr_globals.ajax_url,success:function(c){var d=wpvr_get_json(c);d.data;if(1==d.status){var f=wpvr_show_loading({title:"WP VIDEO ROBOT",text:wpvr_localize.addon_options_saved,cancelButton:wpvr_localize.ok_button,isModal:!1});f.doCancel(function(){f.remove(),wpvr_remove_loading_spinner(i),b.removeClass("wpvr_isLoading")}),f.doRemove(function(){wpvr_remove_loading_spinner(i),a("#addon_update_existing_videos").addClass("wpvr_green_button").fullShake()})}},error:function(a,b,c){alert(c)}})})}),a("#addon_update_existing_videos",b).each(function(){var b=a(this);b.click(function(c){b.removeClass("wpvr_green_button"),clearInterval(b.data("anim")),c.preventDefault();var d=wpvr_add_loading_spinner(b,"pull-left");a.ajax({type:"POST",data:{action:"update_existing_videos"},url:wpvr_globals.ajax_url,success:function(a){var b=wpvr_get_json(a);console.log(b),wpvr_remove_loading_spinner(d);var c=wpvr_show_loading({title:"WP VIDEO ROBOT",text:wpvr_localize.existing_videos_updated+"<br/><br/>"+wpvr_localize.details+' : <div class="job_details">'+b.data.details+"</divclass>",cancelButton:wpvr_localize.ok_button,isModal:!1});c.doCancel(function(){c.remove(),location.reload()}),c.doRemove(function(){wpvr_remove_loading_spinner(d)})},error:function(a,b,c){alert(c)}})})}),a(".wpvr_reset_addon_options",b).each(function(){var b=a(this);b.attr("url");b.click(function(d){d.preventDefault(),wpvr_confirm(wpvr_localize.options_reset_confirm,function(){var d=wpvr_add_loading_spinner(b,"pull-left");a.ajax({type:"POST",data:{action:"reset_addon_options",id:c},url:wpvr_globals.ajax_url,success:function(){wpvr_remove_loading_spinner(d);var a=wpvr_show_loading({title:"WP VIDEO ROBOT",text:wpvr_localize.options_set_to_default,cancelButton:wpvr_localize.ok_button,isModal:!1});a.doCancel(function(){a.remove(),location.reload()}),box.doRemove(function(){wpvr_remove_loading_spinner(d)})},error:function(a,b,c){alert(c)}})},wpvr_localize.reset_yes,function(){},wpvr_localize.reset_no)})})}),a(".wpvr_manage_import").bind("click",function(b){b.preventDefault();var f=(a(this).attr("url"),a(this).attr("bulk_url"),a(this).attr("buffer"),"");f+='<form id="form_import_videos" enctype="multipart/form-data">',f+='<input type="hidden" name="action" value="wpvr_import_videos">',f+='<label for="upload">Choose a file </label>',f+='<input type="file" id="upload" name="uploadedfile" size="25">',f+="<br/>",f+="<label>Publish</label> ",f+='<select name="publishDate">',f+='\t<option value="original">Keep original</option>',f+='\t<option value="now" selected="selected">Publish Now</option>',f+="</select>",f+="<br/>",f+="<label> Reset Views </label>",f+='<select name="resetViews">',f+='\t<option value="yes">'+wpvr_localize.yes+"</option>",f+='\t<option value="no" selected="selected">'+wpvr_localize.yes+"</option>",f+="</select>",f+="<br/>",f+="<label>Skip Duplicates </label>",f+='<select name="skipDup">',f+='\t<option value="yes">yes</option>',f+='\t<option value="no" selected="selected">No</option>',f+="</select>",f+="</form>";var g=wpvr_show_loading({title:wpvr_localize.import_videos,text:f,pauseButton:wpvr_localize.import_btn,cancelButton:wpvr_localize.cancel_button,isModal:!1});g.doCancel(function(){g.remove()}),g.doPause(function(){if(""==a("#upload").attr("value"))return!1;var f=(a("#form_import_videos"),a(".wpvr_loading_pause")),i=(wpvr_add_loading_spinner(f),new FormData(document.getElementById("form_import_videos")));console.log(i)})}),a(".cmb_option[name=wpvr_video_service] , .cmb_option[name=wpvr_source_service]").change(function(){a(".cmb_id_wpvr_pick_a_service").fadeOut(150),a(".cmb_id_wpvr_video_enableManualAdding").fadeIn(150),a(".cmb_id_wpvr_video_disableAutoEmbed ").fadeIn(150),a(".cmb_id_wpvr_source_type").fadeIn(150)}),a("[id=publish]").each(function(){a(this).click(function(b){var c=a(".cmb_id_wpvr_source_service"),d=a(this),e=0,f=!0;if(c.hasClass("canBeEmpty"))var g=!0;else var g=!1;b.preventDefault();var h="none";a(".cmb_option[name=wpvr_source_service]").each(function(){a(this).prop("checked")&&(h=a(this).val())});var i=a("#wpvr_source_name").attr("value"),j=c.attr("service"),k=a("#wpvr_source_wantedVideos").attr("value");if(a(".cmb_option[name=wpvr_source_type]").each(function(){e++,a(this).prop("checked")&&h==a(this).attr("service")&&(f=!1)}),0!=e&&f){var l=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.source_with_no_type,pauseButton:wpvr_localize.ok_button,isModal:!1});l.doPause(function(){l.remove()})}else{if(""!=j&&parseInt(k)>parseInt(j)){var l=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.source_with_big_wanted,pauseButton:wpvr_localize.ok_button,isModal:!1});return l.doPause(function(){l.remove()}),!1}g||""!=i?d.unbind("click").click():wpvr_confirm(wpvr_localize.source_with_no_name,function(){d.unbind("click").click()},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}})}),setTimeout(function(){a(".wpvr_manage_content").each(function(){if("1"!=a(this).attr("refresh_once"))return!1;"1"==a(this).attr("is_fresh")&&(a(this).attr("is_fresh","0"),q(!1,!0,1))})},200),a(".wpvr_manage_exportAll").live("click",function(b){b.preventDefault();var d=(a(this).attr("url"),wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter}));a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"export_all_videos"},success:function(b){d.remove();var c=wpvr_get_json(b);1==c.status&&(a(".wpvr_manage_message").html('<iframe id="wpvr_iframe" src="" style="display:none; visibility:hidden;"></iframe>'),a("#wpvr_iframe").attr("src",c.data))},error:function(a,b,c){alert(c)}})}),a(".wpvr_select_page").on("change",function(){var b=a(this).attr("value"),c=a(this).attr("url");window.location.href=c+"&p="+b}),a(".wpvr_unwanted_select_page").on("change",function(){a(".wpvr_unwanted_refine").trigger("click")}),a(".wpvr_select_service").on("change",function(){var b=a(this).attr("value"),c=a(this).attr("url");window.location.href=c+"&service="+b}),a(".wpvr_search_within").on("keyup",function(b){if(13==b.keyCode){var c=a(this).attr("url"),d=a(this).attr("value");window.location.href=c+"&p=1&searchterm="+d}}),a(".wpvr_manage_pageButton").live("click",function(){var b=a(this).attr("page");a("#wpvr_page").val(b),q(!1,!0,b)}),a(".wpvr_manage_bulkApply").click(function(b){b.preventDefault();var c=a(".wpvr_manage_bulk_actions_select").attr("value");if("export"==c){var d=a("form.wpvr_manage_main_form"),f=(d.attr("url"),d.serializeArray());f.push({name:"action",value:"export_videos"});var g=wpvr_show_loading({title:"WP Video Robot",text:wpvr_localize.loadingCenter});a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:f,success:function(b){g.remove();var c=wpvr_get_json(b);1==c.status&&(a(".wpvr_manage_message").html('<iframe id="wpvr_iframe" src="" style="display:none; visibility:hidden;"></iframe>'),a("#wpvr_iframe").attr("src",c.data))},error:function(a,b,c){alert(c)}})}else"delete"==c?wpvr_confirm(wpvr_localize.want_remove_items,function(){x()},wpvr_localize.yes,function(){},wpvr_localize.cancel_button):x()}),a(".wpvr_manage_checkAll").each(function(){a(this).bind("click",function(b){b.preventDefault();var c=a("#wpvr_manage_videos");"off"==a(this).attr("state")?(a(".wpvr_video_cb",c).prop("checked",!0),a(".wpvr_video",c).addClass("checked"),a(".wpvr_manage_checkAll").attr("state","on")):(a(".wpvr_video_cb",c).prop("checked",!1),a(".wpvr_video",c).removeClass("checked"),a(".wpvr_manage_checkAll").attr("state","off")),wpvr_count_checked()})}),a(".wpvr_manage_box").each(function(){var b=a(this);a(".wpvr_manage_box_head ",b).click(function(a){a.preventDefault(),b.toggleClass("open")})}),a(".wpvr_page").live("change",function(){q(!1,!0)}),a(".wpvr_manage_refresh").bind("click",function(a){a.preventDefault(),q(!1,!0)}),a(".wpvr_manage_search_button").bind("click",function(a){a.preventDefault(),q(!1,!0)}),a(".wpvr_manage_check_ul li").each(function(){var b=a(this),c=a("input[type=checkbox]",b);c.change(function(){c.prop("checked")?b.addClass("checked"):b.removeClass("checked");var d=0;a(".wpvr_manage_check_ul li input[type=checkbox]").each(function(){a(this).prop("checked")&&d++}),d>=1?a(".wpvr_manage_is_filtering").attr("value","1"):a(".wpvr_manage_is_filtering").attr("value","0")})}),a(".wpvr_layout_btn").bind("click",function(b){b.preventDefault();var c=a(this).attr("layout");a(".wpvr_layout_btn").removeClass("active"),a(this).addClass("active"),a("#wpvr_manage_videos").removeClass("bgrid").removeClass("sgrid").removeClass("grid").removeClass("list"),a("#wpvr_manage_videos").addClass(c),a(".wpvr_manage_layout_hidden").attr("value",c)}),a(".wpvr_wh_updater").each(function(){a(this).bind("change",function(){var b=a("#wpvr_options_wakeUpHoursA").attr("value"),c=a("#wpvr_options_wakeUpHoursB").attr("value"),d=a("#wpvr_options_wakeUpHours_graph");a.ajax({url:wpvr_globals.ajax_url,type:"POST",data:{action:"wpvr_update_wakeUpHours",start:b,end:c},success:function(a){d.html(a)},error:function(a,b,c){alert(c)}})})}),a(".countMyItems").each(function(){var b=a(this),c=b.attr("prefix")+b.attr("listener"),d=a("#"+c),e=a(".wpvr_count_items",b);wpvr_update_count(d,e),d.bind("keyup",function(){wpvr_update_count(d,e)}),d.bind("change",function(){wpvr_update_count(d,e)})}),a("#wpvr_source_videoIds").each(function(){wpvr_update_count(a(this),a(".wpvr_count_videos")),a(this).bind("keyup",function(){wpvr_update_count(a(this),a(".wpvr_count_videos"))})}),a("#wpvr_source_groupIds").each(function(){wpvr_update_count(a(this),a(".wpvr_count_groups")),a(this).bind("keyup",function(){wpvr_update_count(a(this),a(".wpvr_count_groups"))})}),a("#wpvr_source_playlistIds").each(function(){wpvr_update_count(a(this),a(".wpvr_count_playlists")),a(this).bind("keyup",function(){wpvr_update_count(a(this),a(".wpvr_count_playlists"))})}),a("#wpvr_source_channelIds").each(function(){wpvr_update_count(a(this),a(".wpvr_count_channels")),a(this).bind("keyup",function(){wpvr_update_count(a(this),a(".wpvr_count_channels"))})}),a("#wpvr_source_videoIds_dm").each(function(){wpvr_update_count(a(this),a(".wpvr_count_videos_dm")),a(this).bind("keyup",function(){wpvr_update_count(a(this),a(".wpvr_count_videos_dm"))})}),a(".wpvr_make_switch").each(function(){var b=a(this),c=b.attr("id"),d=b.attr("class"),e=b.attr("name");if(b.prop("checked"))var f=' checked = "checked" ';else var f="";var g='<div class="wpvr-onoffswitch"><input type="checkbox" name="'+e+'" class="wpvr-onoffswitch-checkbox '+d+'" id="'+c+'" '+f+' /><label class="wpvr-onoffswitch-label" for="'+c+'"><span class="wpvr-onoffswitch-inner"><span class="wpvr-onoffswitch-active"><span class="wpvr-onoffswitch-switch">ON</span></span><span class="wpvr-onoffswitch-inactive"><span class="wpvr-onoffswitch-switch">OFF</span></span></span></label></div>';b.after(a(g)),b.remove()}),a(".wpvr-onoffswitch-label").live("click",function(){var b=a(this),c=b.parent();a(".wpvr-onoffswitch-checkbox",c).get(0);c.toggleClass("wpvr-onoffswitch-checked").trigger("changeClass")}),a("body").on("click","#wpvr_system_infos",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;var d=wpvr_add_loading_spinner(c,"pull-left");a.ajax({type:"POST",data:{action:"wpvr_system_info"},url:wpvr_globals.ajax_url,success:function(b){var c=wpvr_get_json(b);wpvr_remove_loading_spinner(d);var e=wpvr_show_loading({title:wpvr_localize.system_infos,width:"55%",text:c.data,cancelButton:wpvr_localize.close_button,pauseButton:wpvr_localize.export_button}),f=a(".wpvr_loading_pause",e);e.doPause(function(){var b=wpvr_add_loading_spinner(f,"pull-left");a.ajax({type:"POST",data:{action:"wpvr_system_info",do_export:"1"},url:wpvr_globals.ajax_url,success:function(c){wpvr_remove_loading_spinner(b);var d=wpvr_get_json(c);console.log(d),1==d.status&&(a("#wpvr_export").html('<iframe id="wpvr_iframe" src="" style="display:none; visibility:hidden;"></iframe>'),a("#wpvr_iframe").attr("src",d.data))},error:function(a,b,c){alert(c)}})}),e.doCancel(function(){e.doClose(),wpvr_remove_loading_spinner(d)}),e.doRemove(function(){wpvr_remove_loading_spinner(d)})},error:function(a,b,c){alert(c)}})}),a(".wpvr_addon_option_select_image").each(function(){var b=a(this),c=a("#"+b.attr("destSelect"));a("li",b).click(function(b){b.preventDefault();var d=a(this);a(".wpvr_addon_option_select_image li").removeClass("active"),d.addClass("active"),c.val(d.attr("v"))})}),a("#post_template").change(function(){y(a(this))}),y(a("#post_template")),a("body").on("click",".wpvr_nav_tab",function(b){b.preventDefault();var c=a(this).attr("id"),d=a(this).attr("destid");return a(this).hasClass("isLink")?(window.open(a(this).attr("href"),"_blank"),!1):!a(this).hasClass("noTab")&&(a(".wpvr_nav_tab").removeClass("active"),a(this).addClass("active"),void 0!==d?(a("#"+d+" .wpvr_nav_tab_content").hide(),a("#"+d+" .wpvr_nav_tab_content.tab_"+c).fadeIn()):(a(".wpvr_nav_tab_content").hide(),a(".wpvr_nav_tab_content.tab_"+c).fadeIn()),void a(".wpvr_wrap").css("visibility","visible"))}),a("body").on("click",".wpvr_nav_link",function(b){b.preventDefault();var c=a(this).attr("href");return window.open(c),a(".wpvr_nav_tab#b").trigger("click"),!1}),a(".wpvr_nav_tab.active").trigger("click"),a(".wpvr_addons_wrapper").fadeIn(),a("body").on("click",".wpvr_addons_tab",function(b){b.preventDefault();var c=a(this).attr("addon_id");a(".wpvr_addons_tab").removeClass("active"),a(this).addClass("active"),a(".wpvr_addon_content").hide(),a(".wpvr_addon_content#"+c).fadeIn(),a(".wpvr_addons_wrapper").css("visibility","visible")}),a(".wpvr_addons_tab.active").trigger("click"),a("body").on("click",".wpvr_add_schedule",function(b){if(b.preventDefault(),a(this).hasClass("wpvr_isLoading"))return!1;var d="";d+='<form class="wpvr_schedule_add_form">',d+="<label>Pick a source :</label><br/>",d+="",d+="</form>",box=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:d,pauseButton:wpvr_localize.ok_button,cancelButton:wpvr_localize.cancel_button,isModal:!1}),box.doPause(function(){box.remove()})}),a("body").on("click",".wpvr_save_options",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;var d=a("#wpvr_options_wantedVideos").attr("max_value"),e=a("#wpvr_options_wantedVideos").attr("value");if(""!=d&&parseInt(e)>parseInt(d)){var f=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.source_with_big_wanted,pauseButton:wpvr_localize.ok_button,isModal:!1});return f.doPause(function(){f.remove()}),!1}var g=a("#wpvr_options"),h=g.serialize(),i=wpvr_add_loading_spinner(c,"pull-right");g.attr("action");if("1"==g.attr("is_demo"))return boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove()}),boxDemo.doRemove(function(){wpvr_remove_loading_spinner(i)}),!1;c.addClass("isLoading"),a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:h,success:function(a){if($data=wpvr_get_json(a),1==$data.status){var b=wpvr_show_loading({title:wpvr_localize.options_saved,text:wpvr_localize.options_saved_icon,pauseButton:wpvr_localize.ok_button});b.doPause(function(){b.remove(),wpvr_remove_loading_spinner(i)}),b.doRemove(function(){if(wpvr_remove_loading_spinner(i),$data.data.refresh)if(""==$data.data.param)location.reload();else{var a=window.location.href;a.indexOf("?")>-1?a+="&"+$data.data.param+"=1":a+="?"+$data.data.param+"=1",window.location.href=a}})}else wpvr_alert("Something went wrong while saving options. Check the JS console."),console.log(a)},error:function(a,b,c){alert(c)}})}),a("body").on("click",".wpvr_setter_button",function(b){b.preventDefault();var c=a(this),d=c.attr("action"),f=(c.attr("is_demo"),c.attr("show_result"));if(c.hasClass("wpvr_isLoading"))return!1;var g=wpvr_add_loading_spinner(c,"pull-right");a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:d},success:function(a){if(a=wpvr_get_json(a),data=a.data,1==f){var b=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:data,pauseButton:wpvr_localize.ok_button});b.doPause(function(){b.remove(),wpvr_remove_loading_spinner(g)}),b.doRemove(function(){wpvr_remove_loading_spinner(g)})}else if("ok"==data){var b=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.action_done,pauseButton:wpvr_localize.ok_button});b.doPause(function(){b.remove(),wpvr_remove_loading_spinner(g)}),b.doRemove(function(){wpvr_remove_loading_spinner(g)})}},error:function(a,b,c){alert(c)}})}),a("body").on("click",".wpvr_reset_single_addon_licence",function(b){b.preventDefault();var c=a(this),d=c.attr("slug");if(c.hasClass("wpvr_isLoading"))return!1;a("i",c).addClass("fa-spin"),wpvr_confirm(wpvr_localize.licence_reset_confirm,function(){c.addClass("isLoading"),a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"reset_single_addon_licence",slug:d},success:function(b){if(a("i",c).removeClass("fa-spin"),$json=wpvr_get_json(b),0==$json.status)var d="Reset Error : <br/>".$json.msg;else{var d=$json.msg;a("#wpvr_addon_licence_"+$json.data).removeClass("fail").removeClass("success").html(""),a("#licence_"+$json.data).attr("value","").attr("is_activated","0")}var e=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:d,pauseButton:wpvr_localize.ok_button});e.doPause(function(){e.remove()}),e.doRemove(function(){}),c.removeClass("isLoading")},error:function(a,b,c){alert(c)}})},wpvr_localize.reset_yes,function(){a("i",c).removeClass("fa-spin")},wpvr_localize.reset_no)}),a("body").on("click","#wpvr_reset_addon_licenses",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;var d=wpvr_add_loading_spinner(c,"pull-right");wpvr_confirm(wpvr_localize.options_reset_confirm,function(){c.addClass("isLoading"),a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"reset_addon_licenses"},success:function(a){if($json=wpvr_get_json(a),"1"==$json.status){var b=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:$json.msg,pauseButton:wpvr_localize.ok_button});b.doPause(function(){b.remove(),wpvr_remove_loading_spinner(d),location.reload()}),b.doRemove(function(){wpvr_remove_loading_spinner(d)})}c.removeClass("isLoading")},error:function(a,b,c){alert(c)}})},wpvr_localize.reset_yes,function(){wpvr_remove_loading_spinner(d)},wpvr_localize.reset_no)}),a("body").on("click","#wpvr_reset_activation",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;if("1"==c.attr("is_demo"))return boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove()}),!1;var e=wpvr_add_loading_spinner(c,"pull-right");wpvr_confirm(wpvr_localize.options_reset_confirm,function(){c.addClass("isLoading"),a.ajax({type:"POST",data:{action:"reset_activation"},url:wpvr_globals.ajax_url,success:function(a){if($data=wpvr_get_json(a),1==$data.status){var b=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.license_reset,pauseButton:wpvr_localize.ok_button});b.doPause(function(){b.remove(),location.reload()}),b.doRemove(function(){wpvr_remove_loading_spinner(e)})}wpvr_remove_loading_spinner(e)},error:function(a,b,c){alert(c)}})},wpvr_localize.reset_yes,function(){wpvr_remove_loading_spinner(e)},wpvr_localize.reset_no)}),a("body").on("click","#wpvr_cancel_activation",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;if("1"==c.attr("is_demo"))return boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove()}),!1;var e=wpvr_add_loading_spinner(c,"pull-right");wpvr_confirm(wpvr_localize.activation_cancel_confirm,function(){c.addClass("isLoading"),a.ajax({type:"POST",data:{action:"cancel_activation"},url:wpvr_globals.ajax_url,success:function(a){if($data=wpvr_get_json(a),1==$data.status){var b=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.license_cancelled,pauseButton:wpvr_localize.ok_button});b.doPause(function(){b.remove(),location.reload()}),b.doRemove(function(){wpvr_remove_loading_spinner(e)})}wpvr_remove_loading_spinner(e)},error:function(a,b,c){alert(c)}})},wpvr_localize.reset_yes,function(){wpvr_remove_loading_spinner(e)},wpvr_localize.reset_no)}),a(".wpvr_log_canvas").each(function(){var b=a(this),c=[{type:"link",date:b.data("now"),local_date:b.data("localnow"),title:b.data("timezone")}],d=new Timeline(a(".wpvr_log_canvas_timeline",b),c);d.setOptions({animation:!0,lightbox:!1,first_separator:!0,separator:"month_year",columnMode:"dual",order:"desc",dateFormat:"YYYY-MM-DD HH:mm:ss",responsive_width:700}),d.display(),a(".wpvr_logs_details_button",b).live("click",function(b){b.preventDefault();var c=a(this);c.hasClass("closed")?(c.removeClass("closed").addClass("open"),a(".wpvr_logs_details_content").hide(),a(".wpvr_logs_details_content[data-log="+c.data("id")+"]").fadeIn()):(c.removeClass("open").addClass("closed"),a(".wpvr_logs_details_content").hide(),a(".wpvr_logs_details_content[data-log="+c.data("id")+"]").hide())}),a(".wpvr_log_load_more",b).click(function(c){c.preventDefault();var e=a(this);e.hasClass("wpvr_loading")||(wpvr_btn_loading(e),a.ajax(wpvr_globals.ajax_url,{type:"POST",data:{action:"load_activity_logs",page:e.data("page"),period:e.data("period"),type:e.data("type")},success:function(c){var f=wpvr_get_json(c);wpvr_btn_loading(e,!1),0==f.data.items.length?a(".wpvr_log_canvas_statement",b).html("Nothing happened.").fadeIn():a(".wpvr_log_canvas_statement",b).html("").hide(),d.appendData(f.data.items),"end"==f.data.page?e.hide():e.data("page",f.data.page)}}))}),a(".wpvr_log_load_more",b).trigger("click")}),a("body").on("click","#wpvr_register_addon_licenses",function(b){b.preventDefault();var c=[],d=a(this),e=a("#wpvr_register_addons_licences_form"),g=(e.serialize(),wpvr_add_loading_spinner(d,"pull-right"));e.attr("action");a(".wpvr_license_input",e).each(function(){var b=a(this);""!=b.attr("value")&&"0"==b.attr("is_activated")?c.push({slug:b.attr("slug"),version:b.attr("version"),code:b.attr("value")}):a("#wpvr_addon_licence_"+b.attr("slug")).removeClass("fail").removeClass("success").html("")});var i=JSON.stringify(c);if("[]"==i){wpvr_remove_loading_spinner(g);var j=wpvr_show_loading({title:"WP Video Robot",text:"There is no new purchase code to activate.",pauseButton:wpvr_localize.ok_button});return j.doPause(function(){j.remove(),wpvr_remove_loading_spinner(g)}),j.doRemove(function(){wpvr_remove_loading_spinner(g)}),!1}a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"register_addon_licenses",email:a("#act_email",e).attr("value"),domain:a("#act_domain",e).attr("value"),url:a("#act_url",e).attr("value"),ip:a("#act_ip",e).attr("value"),items:i},success:function(b){var c=0,d=0,e=0;$json=wpvr_get_json(b);var f="";a.each($json.data,function(b,g){var h=a("#wpvr_addon_licence_"+b);h.hide().removeClass("fail").removeClass("success"),f+="<li><strong>"+g.product+"</strong> : <br/>"+g.msg+"</li>",1==g.status?(a("#licence_"+b).attr("is_activated","1"),h.addClass("success").html(g.msg).fadeIn(),c++):0==g.status?(a("#licence_"+b).attr("is_activated","0"),h.addClass("fail").html(g.msg).fadeIn(),d++):(e++,h.addClass("success").fadeIn())}),console.log(f);var h='Licenses saved. <a class="wpvr_show_registration_details" href="#">Show Details.</a><br/><br/><div class="wpvr_register_results"><span> '+c+' </span>NEW ACTIVATIONS</div><div class="wpvr_register_results"><span> '+d+' </span>ERRORS</div><div class="wpvr_clearfix"></div><br/><div class="wpvr_registration_details" style="display:none;">'+f+"</div></div>";if(1==$json.status){wpvr_remove_loading_spinner(g);var i=wpvr_show_loading({title:"WP Video Robot",text:h,pauseButton:wpvr_localize.ok_button});a(".wpvr_show_registration_details").click(function(b){b.preventDefault(),a(".wpvr_registration_details").toggle()}),i.doPause(function(){i.remove(),wpvr_remove_loading_spinner(g)}),i.doRemove(function(){wpvr_remove_loading_spinner(g)})}else console.log(b)},error:function(a,b,c){alert(c)}})}),a("body").on("click","#wpvr_verify_purchase_code",function(b){b.preventDefault();var c=a(this),d=a("#wpvr_options_purchaseCode").attr("value"),e=c.attr("url");if(""==d)return!1;var f=wpvr_add_loading_spinner(c,"pull-right");c.addClass("isLoading"),a.ajax({type:"POST",url:e+"?wpvr_wpload&verify_purchase_code",data:{purchaseCode:d},success:function(b){wpvr_remove_loading_spinner(f),a("#wpvr_verify_purchase_code_result").html(b),c.removeClass("isLoading")},error:function(a,b,c){alert(c)}})}),a("body").on("click","#wpvr_export_options",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;c.attr("url");c.addClass("isLoading");var e=wpvr_add_loading_spinner(c,"pull-left");a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"wpvr_export_options"},success:function(b){a("#wpvr_export").html(b),wpvr_remove_loading_spinner(e)},error:function(a,b,c){alert(c)}})}),a("#backBtn").live("click",function(a){return a.preventDefault(),window.history.go(-1),!1}),a("body").on("click","#wpvr_reset_options",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;var e=(a(this).attr("url"),a("#wpvr_options").attr("is_demo")),f=wpvr_add_loading_spinner(c,"pull-left");if("1"==e)return boxDemo=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:"This is a demo version of WP Video Robot.<br/>For security reasons, you cannot change the options.<br/> Hope you understand.",pauseButton:wpvr_localize.ok_button,isModal:!1}),boxDemo.doPause(function(){boxDemo.remove(),wpvr_remove_loading_spinner(f)}),boxDemo.doRemove(function(){wpvr_remove_loading_spinner(f)}),!1;wpvr_confirm(wpvr_localize.options_reset_confirm,function(){a("#wpvr_options");a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"wpvr_reset_options"},success:function(a){if($data=wpvr_get_json(a),1==$data.status){var b=wpvr_show_loading({title:wpvr_localize.wp_video_robot,text:wpvr_localize.options_set_to_default,pauseButton:wpvr_localize.ok_button});b.doPause(function(){b.remove(),wpvr_remove_loading_spinner(f),location.reload()})}},error:function(a,b,c){alert(c)}})},wpvr_localize.reset_yes,function(){wpvr_remove_loading_spinner(f)},wpvr_localize.reset_no)}),a(".wpvr_option").each(function(){var b=a(this);b.delegate(".wpvr_switch_btn ","lcs-statuschange",function(){a(this).is(":checked")?(b.removeClass("off").addClass("on"),a(".wpvr_switch_input",b).val("@true")):(b.removeClass("on").addClass("off"),a(".wpvr_switch_input",b).val("@false"))})}),a(".wpvr_api_connection").change(function(){var b=a("#wpvr_api_connection_target");b.removeClass("advanced").removeClass("wizzard"),b.addClass(a(this).val())}),a("#permalinkBase").change(function(){"custom"==a(this).val()?a("#customPermalinkBase").fadeIn():a("#customPermalinkBase").hide()}),a("body").on("click",".wpvr_option:not(.texteditor)",function(b){var c=a(this),d=a("input[type=checkbox]",c),e=d.attr("name");if(void 0===e)return!1;var f=e.split("wpvr_options_"),g=a(".enabledBy_"+f[1]);d.change(function(){d.hasClass("wpvr_switch_btn")||(c.removeClass("on").removeClass("off"),a(this).prop("checked")?(c.addClass("on"),g.removeAttr("readonly","").removeAttr("disabled","")):(c.addClass("off"),g.attr("readonly","").attr("disabled","")))})}),a("body").on("click",".wpvr_option a.link",function(b){window.open(a(this).attr("href"),"_blank")}),a(".wpvr_logs_refine").click(function(b){b.preventDefault();var c=a(this),d=c.data("url"),e=a(".wpvr_log_period_select").val(),f=a(".wpvr_log_type_select").val();wpvr_btn_loading(c,!0),"all"!=e&&(d+="&period="+e),"all"!=f&&(d+="&type="+f),window.location.href=d,console.log(e),console.log(f)}),a(".wpvr_refresh_log").bind("click",function(){window.location.reload()}),a(".wpvr_refresh_page").bind("click",function(a){a.preventDefault(),window.location.reload()}),a(".wpvr_goToTop").live("click",function(b){b.preventDefault(),a("html, body").animate({scrollTop:0},"slow")}),a(".wpvr_clear_log").bind("click",function(){var b=a(this).attr("reset_url");wpvr_confirm(wpvr_localize.want_clear_log,function(){window.location.href=b},wpvr_localize.yes,function(){},wpvr_localize.cancel_button)}),a("body").delegate(".wpvr_switch_btn","lcs-statuschange",function(){a(this).is(":checked")}),a("#the-list .type-wpvr_source").each(function(){var b=a(this),c=a(".wpvr_source_toggle",b),d=c.attr("id"),e=a(".wpvr_toggle_loading",b),f=a(".wpvr_toggle_done",b);b.delegate(".wpvr_source_toggle","lcs-statuschange",function(){var b=c.is(":checked")?"on":"off";e.fadeIn(),a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:"wpvr_source_toggle_state",ids:d,status:b},success:function(a){e.hide(),f.fadeIn(),setTimeout(function(){f.fadeOut("slow")},1e3)},error:function(a,b,c){alert(c)}})})}),a(".wpvr_source_toggle").bind("change",function(){var b=a(this).attr("id"),c=a("#toggle_"+b),d=c.attr("status");console.log(d),d="off"==d?"on":"off";c.attr("url"),a("#toggle_loading_"+b);return!1}),wpvr_relatedShowHide(),a("#doaction").bind("click",function(b){b.preventDefault();var c=a("#bulk-action-selector-top").attr("value"),d=a(this);if("delete"==c)wpvr_confirm(wpvr_localize.confirm_delete_permanently,function(){d.unbind("click").click()},wpvr_localize.yes,function(){},wpvr_localize.cancel_button);else if("export"==c)a(this).unbind("click").click();else{if("edit"==c)return!1;a(this).unbind("click").click()}}),a("#wpvr_channel_add_id").bind("click",function(){var b=a("#"+a(this).attr("target")),c=a("#wpvr_channel_id").attr("value"),d=b.val();""!=d?(d=d.split(","),d.push(c),d=d.join(",")):d=c,b.val(d),a("#wpvr_channel_id").val("")}),a("#wpvr_channel_button_reset").bind("click",function(){a("#wpvr_channel_id").attr("value",""),a("#wpvr_channel_username").attr("value",""),a("#wpvr_channel_error").html("").hide(),a("#wpvr_channel_zone").hide()}),a("#wpvr_channel_retreive").bind("click",function(){var b=a(this),c=a("#wpvr_channel_username").attr("value"),d=a("#wpvr_channel_username").attr("service"),e=b.attr("url");if(""==c)return!1;var f=wpvr_add_loading_spinner(b,"pull-right");a.ajax({type:"POST",url:e+"?wpvr_wpload&retrieve_channel",data:{username:c,service:d},success:function(b){var c=wpvr_get_json(b);if(console.log(c),0!=c.status)a("#wpvr_channel_id").attr("value",c.data.trim()),a("#wpvr_channel_zone").show();else{var d=wpvr_show_loading({title:wpvr_localize.error,text:c.msg,pauseButton:wpvr_localize.ok_button,isModal:!1});d.doPause(function(){d.remove()})}wpvr_remove_loading_spinner(f)},error:function(a,b,c){alert(c)}})}),a(".wpvr_test_form_add").bind("click",function(){var b=a(this),c=b.attr("session"),d=a("#wpvr_test_form"),e=d.attr("url"),f=[];if(a(".wpvr_video_cb",d).each(function(){var b=a(this);b.prop("checked")&&f.push(b.attr("name"))}),0==f.length)return!1;var g=wpvr_add_loading_spinner(b,"pull-right"),h=wpvr_show_loading({title:wpvr_localize.work_in_progress,text:wpvr_localize.please_wait+"...",isModal:!0}),i=f.length;a.ajax({type:"POST",url:e+"?wpvr_wpload&test_add_videos",data:{videos:f,session:c},success:function(a){var b=a+" / "+i+" "+wpvr_localize.videos_added_successfully+".";h.remove();var c=wpvr_show_loading({title:wpvr_localize.work_completed,text:b,pauseButton:wpvr_localize.ok_button,isModal:!1});c.doPause(function(){c.remove()}),wpvr_remove_loading_spinner(g)},error:function(a,b,c){alert(c)}})}),a(".wpvr_unwanted_scope").change(function(){a(".wpvr_unwanted_filters").removeClass("global").removeClass("source"),a(".wpvr_unwanted_filters").addClass(a(this).val())}),a(".wpvr_unwanted_refine").click(function(b){b.preventDefault();var c={},e=document.URL.split("?"),f=e[0],g=e[1];if(void 0!=g){g=g.split("&");for(var h=0;h<g.length;h++)g[h].split("=")}c.page="wpvr-unwanted";var i=a(".wpvr_unwanted_select_page").val();i>1&&(c.p=i),"global"!=a(".wpvr_unwanted_scope").val()&&(c.scope=a(".wpvr_unwanted_scope").val());var k=a(".wpvr_unwanted_filter .wpvr_dropdown_input[name=service]").val();""!=k&&"[]"!=k&&(c.service=k);var k=a(".wpvr_unwanted_filter  .wpvr_dropdown_input[name=source]").val();""!=k&&"[]"!=k&&(c.source=k);var k=a(".wpvr_unwanted_filter  .wpvr_unwanted_search").val();""!=k&&"[]"!=k&&(c.search=k),window.location.href=f+"?"+a.param(c)}),a(".wpvr_test_form_remove.unwanted").bind("click",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;var d=a("#wpvr_test_form"),e=d.attr("action"),f=[];if(a(".wpvr_video_cb",d).each(function(){var b=a(this);b.prop("checked")&&f.push({video_id:b.attr("name"),scope:b.attr("scope"),source_id:b.attr("source_id")})}),0==f.length)return!1;var g=wpvr_add_loading_spinner(c,"pull-right");wpvr_confirm(wpvr_localize.want_remove_unwanted,function(){var b=wpvr_show_loading({title:wpvr_localize.work_in_progress,text:wpvr_localize.please_wait+"...",isModal:!0});f.length;a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:e,videos:f},success:function(c){$data=wpvr_get_json(c),b.remove();var e=wpvr_show_loading({title:wpvr_localize.work_completed,text:$data.msg,cancelButton:wpvr_localize.ok_button,isModal:!1});e.doCancel(function(){e.remove(),wpvr_remove_loading_spinner(g),a(".wpvr_video.checked",d).remove()}),wpvr_remove_loading_spinner(g),a(".wpvr_video.checked",d).remove()},error:function(a,b,c){alert(c)}})},wpvr_localize.yes,function(){wpvr_remove_loading_spinner(g)},wpvr_localize.cancel_button)}),a(".wpvr_test_form_remove.deferred").bind("click",function(b){b.preventDefault();var c=a(this);if(c.hasClass("wpvr_isLoading"))return!1;var d=a("#wpvr_test_form"),f=(d.attr("url"),d.attr("action")),g=[];if(a(".wpvr_video_cb",d).each(function(){var b=a(this);b.prop("checked")&&g.push(b.attr("name"))}),0==g.length)return!1;var h=wpvr_add_loading_spinner(c,"pull-right");wpvr_confirm(wpvr_localize.want_remove_deferred,function(){var b=wpvr_show_loading({title:wpvr_localize.work_in_progress,text:wpvr_localize.please_wait+"...",isModal:!0});g.length;a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{action:f,videos:g},success:function(c){$data=wpvr_get_json(c),b.remove();var e=wpvr_show_loading({title:wpvr_localize.work_completed,text:$data.msg,cancelButton:wpvr_localize.ok_button,isModal:!1});e.doCancel(function(){e.remove(),wpvr_remove_loading_spinner(h)}),wpvr_remove_loading_spinner(h);var f=parseInt(a(".wpvr_count_deferred").html())-parseInt(c);a(".wpvr_count_deferred").html(f),0==f&&(a(".wpvr_deferred_videos").fadeOut("slow").remove(),a(".wpvr_nothing").fadeIn(),a(".wpvr_test_form_buttons").hide()),a(".wpvr_video.checked",d).remove()},error:function(a,b,c){alert(c)}})},wpvr_localize.yes,function(){wpvr_remove_loading_spinner(h)},wpvr_localize.cancel_button)}),a(".wpvr_test_form_unwanted").bind("click",function(b){b.preventDefault();var c=a(this),d=c.attr("session");if(c.hasClass("wpvr_isLoading"))return!1;var e=a("#wpvr_test_form"),f=e.attr("url"),g=[];if(a(".wpvr_video_cb",e).each(function(){var b=a(this),c={video_id:b.attr("name"),div_id:b.attr("div_id"),source_id:b.attr("source_id")};b.prop("checked")&&g.push(c)}),0==g.length)return c.shake(),!1;var h=wpvr_show_loading({title:wpvr_localize.add_to_unwanted,text:wpvr_localize.add_to_unwanted_msg,cancelButton:wpvr_localize.source_unwanted,pauseButton:wpvr_localize.global_unwanted,isModal:!1});h.doCancel(function(){console.log("Source"),h.remove();var b=wpvr_add_loading_spinner(c,"pull-right"),e=wpvr_show_loading({title:wpvr_localize.adding_selected_videos_unwanted,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,pauseButton:wpvr_localize.pause_button,isModal:!0});e.attr("scope","source"),e.doProgress({pct:1,text:wpvr_localize.loading+""}),e.doHighlight(),e.attr("work",1),e.attr("pause","false"),e.attr("spinner_id",b.attr("id")),e.attr("session",d),pause_function=function(){var b=a(".wpvr_loading_pause",e),c=e.attr("k");"false"!=e.attr("pause")?(e.doHighlight(),e.attr("pause","false"),b.html(wpvr_localize.pause_button),e.doText(wpvr_localize.work_in_porogress+"..."),o(parseInt(c)+1,g,f,e)):(e.stopHighlight(),e.attr("pause",123),b.html(wpvr_localize.continue_button),e.doText(wpvr_localize.work_paused))},e.doCancel(function(){e.attr("pause","false"),pause_function(),e.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){e.doShow(),pause_function()},wpvr_localize.continue_button,function(){e.attr("work",0);var a=e.attr("k");o(parseInt(a),g,f,e),wpvr_remove_loading_spinner(b)},wpvr_localize.cancel_anyway)}),e.doPause(pause_function),o(0,g,f,e)}),h.doPause(function(){h.remove();var b=wpvr_add_loading_spinner(c,"pull-right"),e=wpvr_show_loading({title:wpvr_localize.adding_selected_videos,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,pauseButton:wpvr_localize.pause_button,isModal:!0});e.attr("scope","global"),e.doProgress({pct:1,text:wpvr_localize.loading+""}),e.doHighlight(),e.attr("work",1),e.attr("pause","false"),e.attr("spinner_id",b.attr("id")),e.attr("session",d),pause_function=function(){var b=a(".wpvr_loading_pause",e),c=e.attr("k");"false"!=e.attr("pause")?(e.doHighlight(),e.attr("pause","false"),b.html(wpvr_localize.pause_button),e.doText(wpvr_localize.work_in_porogress+"..."),o(parseInt(c)+1,g,f,e)):(e.stopHighlight(),e.attr("pause",123),b.html(wpvr_localize.continue_button),e.doText(wpvr_localize.work_paused))},e.doCancel(function(){e.attr("pause","false"),pause_function(),e.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){e.doShow(),pause_function()},wpvr_localize.continue_button,function(){e.attr("work",0);var a=e.attr("k");o(parseInt(a),g,f,e),wpvr_remove_loading_spinner(b)},wpvr_localize.cancel_anyway)}),e.doPause(pause_function),o(0,g,f,e)})}),a(".wpvr_test_form_add_each").bind("click",function(b){b.preventDefault();var c=a(this),d=c.attr("session"),e=a("#wpvr_test_form"),f=e.attr("url");is_deferred=c.attr("is_deferred");var g=[];if(a(".wpvr_video_cb",e).each(function(){var b=a(this),c={video_id:b.attr("name"),div_id:b.attr("div_id")};b.prop("checked")&&g.push(c)}),0==g.length)return c.shake(),!1;var h=wpvr_add_loading_spinner(c,"pull-right"),i=wpvr_show_loading({title:wpvr_localize.adding_selected_videos,text:wpvr_localize.work_in_progress+"...",progressBar:!0,cancelButton:wpvr_localize.cancel_button,pauseButton:wpvr_localize.pause_button,isModal:!0});i.doProgress({pct:1,text:wpvr_localize.loading+""}),i.doHighlight(),i.attr("work",1),i.attr("pause","false"),i.attr("is_deferred",is_deferred),i.attr("spinner_id",h.attr("id")),i.attr("session",d),pause_function=function(){var b=a(".wpvr_loading_pause",i),c=i.attr("k");"false"!=i.attr("pause")?(i.doHighlight(),i.attr("pause","false"),b.html(wpvr_localize.pause_button),i.doText(wpvr_localize.work_in_porogress+"..."),n(parseInt(c)+1,g,f,i)):(i.stopHighlight(),i.attr("pause",123),b.html(wpvr_localize.continue_button),i.doText(wpvr_localize.work_paused))},i.doCancel(function(){i.attr("pause","false"),pause_function(),i.doHide(),wpvr_confirm(wpvr_localize.really_want_cancel,function(){i.doShow(),pause_function()},wpvr_localize.continue_button,function(){i.attr("work",0);var a=i.attr("k");n(parseInt(a),g,f,i),wpvr_remove_loading_spinner(h)},wpvr_localize.cancel_anyway)}),i.doPause(pause_function),n(0,g,f,i)}),a(".wpvr_check_all_section").bind("click",function(b){b.preventDefault();var c=a(this).attr("zone_id"),d=a("#zone_"+c);"off"==a(this).attr("state")?(a(".wpvr_video_cb",d).prop("checked",!0),a(".wpvr_video",d).addClass("checked"),a(this).attr("state","on")):(a(".wpvr_video_cb",d).prop("checked",!1),a(".wpvr_video",d).removeClass("checked"),a(this).attr("state","off")),wpvr_count_checked()}),a(".wpvr_switch_btn").each(function(){a(this).lc_switch()}),a(".wpvr_test_form_toggleAll").each(function(){a(this).bind("click",function(b){b.preventDefault();var d=(a(this).attr("zone_id"),a("#wpvr_test_form"));"off"==a(this).attr("state")?(a(".wpvr_video_cb",d).prop("checked",!0),a(".wpvr_video",d).addClass("checked"),a(".wpvr_test_form_toggleAll").attr("state","on")):(a(".wpvr_video_cb",d).prop("checked",!1),a(".wpvr_video",d).removeClass("checked"),a(".wpvr_test_form_toggleAll").attr("state","off")),wpvr_count_checked()})}),a("#wpvr_test_form_refresh").live("click",function(a){a.preventDefault(),window.location.reload()}),z(),a(".wpvrManualOptions .cmb_select").change(function(){z()}),a(".wpvr_toggle_grabbing_button").click(function(b){b.preventDefault();var c=a(this);if("off"==c.attr("state"))var e="on";else var e="off";c.attr("state",e),a(".wpvrManualOptions .cmb_select").each(function(){a(this).attr("value",e)}),z()}),a(".wpvr_video").live("click",function(b){a(".wpvr_video_cb",a(this)).prop("checked")?(a(".wpvr_video_cb",a(this)).prop("checked",!1),a(this).removeClass("checked")):(a(".wpvr_video_cb",a(this)).prop("checked",!0),a(this).addClass("checked")),wpvr_count_checked()}),a(".wpvr_video_edit").live("click",function(b){return b.preventDefault(),window.open(a(this).attr("link"),"_blank"),!1}),a(".wpvr_video_merge").live("click",function(b){return b.preventDefault(),x("merge",a(this).attr("ids"),a(this).attr("views")),!1}),a(".wpvr_video_update").live("click",function(b){b.preventDefault();wpvr_add_loading_spinner(a(this),"pull-right");a("#submitdiv #publish").trigger("click")}),a(".wpvr_video_view").live("click",function(b){b.preventDefault();var d=(a(this).attr("url"),a(this).attr("service")),e=a(this).attr("video_id"),f=a(this).attr("post_id"),g=wpvr_show_loading({width:"60%",title:wpvr_localize.video_preview,text:'<div id="wpvr_video_preview"></div>'});return a.ajax({url:wpvr_globals.ajax_url,type:"POST",data:{action:"get_video_preview",post_id:f,video_id:e,service:d},success:function(b){$data=wpvr_get_json(b),a("#wpvr_video_preview").html($data.data),a(".wpvr_loading_msg",g).center()},error:function(a,b,c){alert(c)}}),!1}),a(".wpvr_collapse_sections").click(function(b){b.preventDefault();var c=a(this),d=c.attr("zone_id"),e=c.attr("is_btn");if(c.toggleClass("open"),"all"==d){var f=a(".wpvr_source_result");c.hasClass("open")?(f.addClass("open"),a(".wpvr_collapse_sections",f).addClass("open")):(f.removeClass("open"),a(".wpvr_collapse_sections",f).removeClass("open"))}else{var f=a(".wpvr_source_result#"+d);f.toggleClass("open"),"0"==e&&a(".wpvr_collapse_sections",f).toggleClass("open")}}),a(".wpvr_show_section_authors").click(function(b){b.preventDefault();var c=a(this),d=c.attr("state"),e=c.attr("zone_id"),f=a(".wpvr_source_result#source_"+e);"off"==d?(c.attr("state","on"),c.removeClass("off").addClass("on"),f.addClass("show_authors")):(c.attr("state","off"),c.removeClass("on").addClass("off"),f.removeClass("show_authors"))}),a(".wpvr_helper_wrap").each(function(){var b=a(this),c=b.attr("service"),e=(b.attr("helper_url"),a("#"+b.attr("helper_dest_id"))),f=b.attr("helper_counter_id"),g=b.attr("helper_type"),h=b.attr("helper_append"),i=a(".wpvr_helper_button",b),j=a(".wpvr_helper_input",b),k=a(".wpvr_helper_toggler",b),l=a(".wpvr_helper_form",b);j.keypress(function(a){13==a.which&&(a.preventDefault(),i.trigger("click"))}),k.click(function(b){b.preventDefault(),a(this).toggleClass("closed"),l.toggle()}),i.click(function(b){b.preventDefault();var d=j.attr("value");if(""==d)return!1;var k=wpvr_add_loading_spinner(i);a.ajax({type:"POST",url:wpvr_globals.ajax_url,data:{helper_value:d,helper_type:g,service:c,action:"use_helper"},success:function(b){wpvr_remove_loading_spinner(k);var c=wpvr_get_json(b),d=wpvr_show_loading({title:"Facebook ID Helper : "+g,text:wpvr_localize.loadingCenter,isModal:!1,cancelButton:'<i class="fa fa-times"></i> Close Helper'});d.doCancel(function(){d.doClose()}),1!=c.status&&(d.doText(c.msg),a(".wpvr_loading_msg",d).center());var i="";a.each(c.data,function(b,c){if(b%2==1)var g="odd";else var g="";i=i+'<div class="wpvr_helper_item '+g+'" ><div class="wpvr_helper_item_thumb pull-left"><img src="'+c.thumb+'" /></div><button class="wpvr_helper_choose" item_id="'+c.id+'" >Choose this '+c.label+'</button><div class="wpvr_helper_item_main"><div class="wpvr_helper_item_main_txt">'+c.name+'</div><br/></div><div class="wpvr_clearfix"></div></div>';var k='<div class="wpvr_helper_list">'+i+"</div>";d.doText(k),a(".wpvr_loading_msg",d).center(),a(".wpvr_helper_choose",d).click(function(b){var c=a(this).attr("item_id");1!=h?e.attr("value",c):A(e,c,f),j.attr("value",""),d.doClose()})})},error:function(a,b,c){alert(c)}})})}),a(".wpvr_autoClean_fields#autoCleanSchedule").change(function(){var b=a(this).attr("value");"weekly"==b?(a(".wpvr_autoClean_scheduleTime_wrap").fadeIn(),a(".wpvr_autoClean_scheduleDay_wrap").fadeIn()):"daily"==b?(a(".wpvr_autoClean_scheduleTime_wrap").fadeIn(),a(".wpvr_autoClean_scheduleDay_wrap").hide()):(a(".wpvr_autoClean_scheduleTime_wrap").hide(),a(".wpvr_autoClean_scheduleDay_wrap").hide())}),a(".wpvr_autoClean_fields#autoCleanSchedule").each(function(){var b=a(this).attr("value");"weekly"==b?(a(".wpvr_autoClean_scheduleTime_wrap").fadeIn(),a(".wpvr_autoClean_scheduleDay_wrap").fadeIn()):"daily"==b?(a(".wpvr_autoClean_scheduleTime_wrap").fadeIn(),a(".wpvr_autoClean_scheduleDay_wrap").hide()):(a(".wpvr_autoClean_scheduleTime_wrap").hide(),a(".wpvr_autoClean_scheduleDay_wrap").hide())})})});